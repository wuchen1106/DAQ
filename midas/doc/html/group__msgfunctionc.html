<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Midas: Midas Message Functions (msg_xxx)</title>
<link href="midox.css" rel="stylesheet" type="text/css">
<!--
<link href="doxygen.css" rel="stylesheet" type="text/css">
-->
<link href="tabs.css" rel="stylesheet" type="text/css">

<script type="text/javascript"  src="navigation.js">
</script>

</head>

<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Midas Message Functions (msg_xxx)<br/>
<small>
[<a class="el" href="group__midasincludecode.html">The midas.h &amp; midas.c</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#ga42f4420ba3e5b4663f3fdd80a586841e">cm_get_error</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> code, char *string)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gafe6ff62436845805cd87a7ea1bd3b4dd">cm_set_msg_print</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> system_mask, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> user_mask, int(*func)(const char *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gadac7f1f490117d6cdd4fc39bd7f9d0d5">cm_msg_log</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> message_type, const char *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gacc533051c0100cc554cd28314079e71c">cm_msg_log1</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> message_type, const char *message, const char *facility)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gaa28e2fd30622699b67e7b0116da2923c">cm_msg_flush_buffer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> message_type, const char *filename, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> line, const char *routine, const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#ga2dcad358d4ad50963cf2f34c56201f62">cm_msg1</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> message_type, const char *filename, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> line, const char *facility, const char *routine, const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gab857885ee2ef24ddef12fb3ecf5c4c7e">cm_msg_register</a> (void(*func)(HNDLE, HNDLE, <a class="el" href="structEVENT__HEADER.html">EVENT_HEADER</a> *, void *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__msgfunctionc.html#gad92636d84ec9438a25ca6b17c4e6760d">cm_msg_retrieve</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> n_message, char *message, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> buf_size)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>dox dox </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga42f4420ba3e5b4663f3fdd80a586841e"></a><!-- doxytag: member="midas.c::cm_get_error" ref="ga42f4420ba3e5b4663f3fdd80a586841e" args="(INT code, char *string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>string</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert error code to string. Used after cm_connect_experiment to print error string in command line programs or windows programs. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Error code as defined in <a class="el" href="midas_8h.html">midas.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>Error string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00315">315</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02051">cm_connect_experiment()</a>.</p>

</div>
</div>
<a class="anchor" id="gaac032ca2438c47466bfc9722de6746ea"></a><!-- doxytag: member="midas.c::cm_msg" ref="gaac032ca2438c47466bfc9722de6746ea" args="(INT message_type, const char *filename, INT line, const char *routine, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine can be called whenever an internal error occurs or an informative message is produced. Different message types can be enabled or disabled by setting the type bits via <a class="el" href="group__msgfunctionc.html#gafe6ff62436845805cd87a7ea1bd3b4dd">cm_set_msg_print()</a>. </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>Do not add the "\n" escape carriage control at the end of the formated line as it is already added by the client on the receiving side. <div class="fragment"><pre class="fragment">   ...
   <a class="code" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg</a>(<a class="code" href="group__mdefineh.html#ga6e27d8876a43afce3ee4dd16527cbb9e">MINFO</a>, <span class="stringliteral">&quot;my program&quot;</span>, <span class="stringliteral">&quot;This is a information message only);</span>
<span class="stringliteral">   cm_msg(MERROR, &quot;</span>my program<span class="stringliteral">&quot;, &quot;</span>This is an error message with status:%d<span class="stringliteral">&quot;, my_status);</span>
<span class="stringliteral">   cm_msg(MTALK, &quot;</span>my_program<span class="stringliteral">&quot;, My program is Done!&quot;</span>);
   ...
</pre></div> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message_type</em>&nbsp;</td><td>(See <a class="el" href="F_Midas_Code_and_Libraries.html#midas_macro">midas_macro</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Name of source file where error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>Line number where error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>routine</em>&nbsp;</td><td>Routine name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>message to printout, ... Parameters like for printf() </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00843">843</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="alarm_8c_source.html#l00527">al_check()</a>, <a class="el" href="alarm_8c_source.html#l00439">al_reset_alarm()</a>, <a class="el" href="alarm_8c_source.html#l00212">al_trigger_alarm()</a>, <a class="el" href="analyzer_8c_source.html#l00137">analyzer_init()</a>, <a class="el" href="midas_8c_source.html#l13536">bk_list()</a>, <a class="el" href="midas_8c_source.html#l04445">bm_cleanup_buffer_locked()</a>, <a class="el" href="midas_8c_source.html#l04826">bm_close_buffer()</a>, <a class="el" href="midas_8c_source.html#l06428">bm_copy_from_cache()</a>, <a class="el" href="midas_8c_source.html#l06897">bm_flush_cache()</a>, <a class="el" href="midas_8c_source.html#l04595">bm_open_buffer()</a>, <a class="el" href="midas_8c_source.html#l07426">bm_push_event()</a>, <a class="el" href="midas_8c_source.html#l07094">bm_receive_event()</a>, <a class="el" href="midas_8c_source.html#l06131">bm_remove_event_request()</a>, <a class="el" href="midas_8c_source.html#l06067">bm_request_event()</a>, <a class="el" href="midas_8c_source.html#l06707">bm_send_event()</a>, <a class="el" href="midas_8c_source.html#l05806">bm_set_cache_size()</a>, <a class="el" href="midas_8c_source.html#l07378">bm_skip_event()</a>, <a class="el" href="midas_8c_source.html#l06296">bm_update_read_pointer()</a>, <a class="el" href="midas_8c_source.html#l02726">bm_validate_client_index()</a>, <a class="el" href="midas_8c_source.html#l06232">bm_validate_client_pointers()</a>, <a class="el" href="midas_8c_source.html#l06473">bm_wait_for_free_space()</a>, <a class="el" href="midas_8c_source.html#l06352">bm_wakeup_producers()</a>, <a class="el" href="hv_8c_source.html#l00865">cd_hv()</a>, <a class="el" href="mfe_8c_source.html#l01626">check_polled_events()</a>, <a class="el" href="mevb_8c_source.html#l00948">close_buffers()</a>, <a class="el" href="midas_8c_source.html#l01604">cm_check_client()</a>, <a class="el" href="midas_8c_source.html#l03346">cm_check_deferred_transition()</a>, <a class="el" href="midas_8c_source.html#l05381">cm_cleanup()</a>, <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, <a class="el" href="midas_8c_source.html#l03166">cm_deregister_transition()</a>, <a class="el" href="midas_8c_source.html#l02511">cm_disconnect_experiment()</a>, <a class="el" href="midas_8c_source.html#l02942">cm_get_watchdog_info()</a>, <a class="el" href="midas_8c_source.html#l02278">cm_list_experiments()</a>, <a class="el" href="midas_8c_source.html#l03289">cm_register_deferred_transition()</a>, <a class="el" href="midas_8c_source.html#l03101">cm_register_transition()</a>, <a class="el" href="midas_8c_source.html#l01702">cm_set_client_info()</a>, <a class="el" href="midas_8c_source.html#l03225">cm_set_transition_sequence()</a>, <a class="el" href="midas_8c_source.html#l05176">cm_shutdown()</a>, <a class="el" href="midas_8c_source.html#l04117">cm_transition()</a>, <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>, <a class="el" href="odb_8c_source.html#l08190">db_check_record()</a>, <a class="el" href="odb_8c_source.html#l01105">db_close_database()</a>, <a class="el" href="odb_8c_source.html#l05662">db_copy()</a>, <a class="el" href="odb_8c_source.html#l06373">db_copy_xml()</a>, <a class="el" href="odb_8c_source.html#l01590">db_create_key()</a>, <a class="el" href="odb_8c_source.html#l01830">db_create_link()</a>, <a class="el" href="odb_8c_source.html#l08021">db_create_record()</a>, <a class="el" href="odb_8c_source.html#l01858">db_delete_key1()</a>, <a class="el" href="odb_8c_source.html#l03342">db_enum_key()</a>, <a class="el" href="odb_8c_source.html#l02065">db_find_key()</a>, <a class="el" href="odb_8c_source.html#l04196">db_get_data()</a>, <a class="el" href="odb_8c_source.html#l04547">db_get_data_index()</a>, <a class="el" href="odb_8c_source.html#l03681">db_get_key()</a>, <a class="el" href="odb_8c_source.html#l03884">db_get_key_info()</a>, <a class="el" href="odb_8c_source.html#l03826">db_get_key_time()</a>, <a class="el" href="odb_8c_source.html#l03762">db_get_link()</a>, <a class="el" href="odb_8c_source.html#l04322">db_get_link_data()</a>, <a class="el" href="odb_8c_source.html#l01503">db_get_lock_cnt()</a>, <a class="el" href="odb_8c_source.html#l07516">db_get_record()</a>, <a class="el" href="odb_8c_source.html#l03190">db_get_value()</a>, <a class="el" href="odb_8c_source.html#l05577">db_load()</a>, <a class="el" href="odb_8c_source.html#l01394">db_lock_database()</a>, <a class="el" href="odb_8c_source.html#l00788">db_open_database()</a>, <a class="el" href="odb_8c_source.html#l08495">db_open_record()</a>, <a class="el" href="odb_8c_source.html#l05927">db_paste()</a>, <a class="el" href="odb_8c_source.html#l06204">db_paste_node()</a>, <a class="el" href="odb_8c_source.html#l01529">db_protect_database()</a>, <a class="el" href="odb_8c_source.html#l06547">db_save()</a>, <a class="el" href="odb_8c_source.html#l06801">db_save_struct()</a>, <a class="el" href="odb_8c_source.html#l06749">db_save_xml()</a>, <a class="el" href="odb_8c_source.html#l06646">db_save_xml_key()</a>, <a class="el" href="odb_8c_source.html#l04670">db_set_data()</a>, <a class="el" href="odb_8c_source.html#l05033">db_set_data_index()</a>, <a class="el" href="odb_8c_source.html#l04796">db_set_link_data()</a>, <a class="el" href="odb_8c_source.html#l05172">db_set_link_data_index()</a>, <a class="el" href="odb_8c_source.html#l07619">db_set_record()</a>, <a class="el" href="odb_8c_source.html#l03021">db_set_value()</a>, <a class="el" href="odb_8c_source.html#l01461">db_unlock_database()</a>, <a class="el" href="elog_8c_source.html#l00081">el_submit()</a>, <a class="el" href="fevmemodules_8c_source.html#l00233">frontend_init()</a>, <a class="el" href="fevmemodules_8c_source.html#l00621">frontend_loop()</a>, <a class="el" href="mevb_8c_source.html#l00799">handFlush()</a>, <a class="el" href="history_8c_source.html#l01747">hs_dump()</a>, <a class="el" href="hv_8c_source.html#l00463">hv_init()</a>, <a class="el" href="mfe_8c_source.html#l00765">initialize_equipment()</a>, <a class="el" href="mevb_8c_source.html#l00243">load_fragment()</a>, <a class="el" href="mevb_8c_source.html#l01157">main()</a>, <a class="el" href="mdsupport_8c_source.html#l00486">md_dev_os_write()</a>, <a class="el" href="mdsupport_8c_source.html#l00174">md_file_ropen()</a>, <a class="el" href="mdsupport_8c_source.html#l00305">md_file_wopen()</a>, <a class="el" href="mfe_8c_source.html#l02440">mfe_set_error()</a>, <a class="el" href="fevme_8cxx_source.html#l00170">odbReadUint32()</a>, <a class="el" href="mfe_8c_source.html#l01342">readout_thread()</a>, <a class="el" href="mfe_8c_source.html#l01429">receive_trigger_event()</a>, <a class="el" href="mevb_8c_source.html#l00114">register_equipment()</a>, <a class="el" href="midas_8c_source.html#l10632">rpc_flush_event()</a>, <a class="el" href="midas_8c_source.html#l08460">rpc_register_functions()</a>, <a class="el" href="midas_8c_source.html#l10419">rpc_send_event()</a>, <a class="el" href="midas_8c_source.html#l09492">rpc_set_option()</a>, <a class="el" href="mevb_8c_source.html#l00325">scan_fragment()</a>, <a class="el" href="mfe_8c_source.html#l01853">scheduler()</a>, <a class="el" href="mfe_8c_source.html#l01097">send_event()</a>, <a class="el" href="mevb_8c_source.html#l00833">source_booking()</a>, <a class="el" href="mevb_8c_source.html#l00997">source_scan()</a>, <a class="el" href="mevb_8c_source.html#l00914">source_unbooking()</a>, <a class="el" href="mevb_8c_source.html#l00614">tr_start()</a>, <a class="el" href="mfe_8c_source.html#l00187">tr_stop()</a>, and <a class="el" href="mfe_8c_source.html#l01001">update_odb()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2dcad358d4ad50963cf2f34c56201f62"></a><!-- doxytag: member="midas.c::cm_msg1" ref="ga2dcad358d4ad50963cf2f34c56201f62" args="(INT message_type, const char *filename, INT line, const char *facility, const char *routine, const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>facility</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine is similar to <a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg()</a>. It differs from <a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg()</a> only by the logging destination being a file given through the argument list i.e:<b>facility</b> </p>
<p><b>For internal use only.</b></p>
<p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>Do not add the "\n" escape carriage control at the end of the formated line as it is already added by the client on the receiving side. The first arg in the following example uses the predefined macro MINFO which handles automatically the first 3 arguments of the function (see <a class="el" href="F_Midas_Code_and_Libraries.html#midas_macro">midas_macro</a>). <div class="fragment"><pre class="fragment"> ...
   <a class="code" href="group__msgfunctionc.html#ga2dcad358d4ad50963cf2f34c56201f62">cm_msg1</a>(<a class="code" href="group__mdefineh.html#ga6e27d8876a43afce3ee4dd16527cbb9e">MINFO</a>, <span class="stringliteral">&quot;my_log_file&quot;</span>, <span class="stringliteral">&quot;my_program&quot;</span>,<span class="stringliteral">&quot; My message status:%d&quot;</span>, status);
   ...
<span class="comment">//----- File my_log_file.log</span>
Thu Nov  8 17:59:28 2001 [my_program] My message status:1
</pre></div> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message_type</em>&nbsp;</td><td>See <a class="el" href="F_Midas_Code_and_Libraries.html#midas_macro">midas_macro</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>Name of source file where error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>line</em>&nbsp;</td><td>Line number where error occured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>facility</em>&nbsp;</td><td>Logging file name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>routine</em>&nbsp;</td><td>Routine name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>message to printout, ... Parameters like for printf() </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>
</p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00904">904</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6ba42e516854f36cf4295d6947067d1a"></a><!-- doxytag: member="midas.c::cm_msg_buffer" ref="ga6ba42e516854f36cf4295d6947067d1a" args="(int ts, int message_type, const char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_buffer </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l00693">693</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l00843">cm_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa28e2fd30622699b67e7b0116da2923c"></a><!-- doxytag: member="midas.c::cm_msg_flush_buffer" ref="gaa28e2fd30622699b67e7b0116da2923c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_flush_buffer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This routine can be called to process messages buffered by <a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg()</a>. Normally it is called from <a class="el" href="group__cmfunctionc.html#ga115565c5a1d9591fcabf844c1dd624f8">cm_yield()</a> and <a class="el" href="group__cmfunctionc.html#ga7d5a287821786e8dde3d2340826215b2">cm_disconnect_experiment()</a> to make sure all accumulated messages are processed. </p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00750">750</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02051">cm_connect_experiment()</a>, <a class="el" href="midas_8c_source.html#l02511">cm_disconnect_experiment()</a>, <a class="el" href="midas_8c_source.html#l05176">cm_shutdown()</a>, and <a class="el" href="midas_8c_source.html#l04229">cm_yield()</a>.</p>

</div>
</div>
<a class="anchor" id="gaddfa3777e3786fbb1f3f6c759e59d7dd"></a><!-- doxytag: member="midas.c::cm_msg_format" ref="gaddfa3777e3786fbb1f3f6c759e59d7dd" args="(char *local_message, int sizeof_local_message, char *send_message, int sizeof_send_message, INT message_type, const char *filename, INT line, const char *routine, const char *format, va_list *argptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_format </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>local_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sizeof_local_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>send_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sizeof_send_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list *&nbsp;</td>
          <td class="paramname"> <em>argptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l00602">602</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l00843">cm_msg()</a>.</p>

</div>
</div>
<a class="anchor" id="gadac7f1f490117d6cdd4fc39bd7f9d0d5"></a><!-- doxytag: member="midas.c::cm_msg_log" ref="gadac7f1f490117d6cdd4fc39bd7f9d0d5" args="(INT message_type, const char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write message to logging file. Called by cm_msg. </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>May burn your fingers </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message_type</em>&nbsp;</td><td>Message type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Message string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00377">377</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l00750">cm_msg_flush_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="gacc533051c0100cc554cd28314079e71c"></a><!-- doxytag: member="midas.c::cm_msg_log1" ref="gacc533051c0100cc554cd28314079e71c" args="(INT message_type, const char *message, const char *facility)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_log1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>facility</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write message to logging file. Called by <a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg()</a>. </p>
<p><b>For internal use only.</b></p>
<p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>message_type</em>&nbsp;</td><td>Message type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>Message string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>facility</em>&nbsp;</td><td>Message facility, filename in which messages will be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>
</p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00469">469</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l00904">cm_msg1()</a>.</p>

</div>
</div>
<a class="anchor" id="gab857885ee2ef24ddef12fb3ecf5c4c7e"></a><!-- doxytag: member="midas.c::cm_msg_register" ref="gab857885ee2ef24ddef12fb3ecf5c4c7e" args="(void(*func)(HNDLE, HNDLE, EVENT_HEADER *, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_register </td>
          <td>(</td>
          <td class="paramtype">void(*)(HNDLE, HNDLE, <a class="el" href="structEVENT__HEADER.html">EVENT_HEADER</a> *, void *)&nbsp;</td>
          <td class="paramname"> <em>func</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register a dispatch function for receiving system messages.</p>
<ul>
<li>example code from mlxspeaker.c <div class="fragment"><pre class="fragment"><span class="keywordtype">void</span> receive_message(HNDLE hBuf, HNDLE <span class="keywordtype">id</span>, <a class="code" href="structEVENT__HEADER.html">EVENT_HEADER</a> *header, <span class="keywordtype">void</span> *message)
{
  <span class="keywordtype">char</span> str[256], *pc, *sp;
  <span class="comment">// print message</span>
  printf(<span class="stringliteral">&quot;%s\n&quot;</span>, (<span class="keywordtype">char</span> *)(message));

  printf(<span class="stringliteral">&quot;evID:%x Mask:%x Serial:%i Size:%d\n&quot;</span>
                 ,header-&gt;<a class="code" href="structEVENT__HEADER.html#a107bbb0fbe21582dc0f0e78f60b997b3">event_id</a>
                 ,header-&gt;<a class="code" href="structEVENT__HEADER.html#a9b4b94f41521f5c188655b7bb0f1ec1b">trigger_mask</a>
                 ,header-&gt;<a class="code" href="structEVENT__HEADER.html#a5ed07c075ebce619a8fa47e96f188440">serial_number</a>
                 ,header-&gt;<a class="code" href="structEVENT__HEADER.html#a194220c29419e01ef4cab6d3dd8daedb">data_size</a>);
  pc = strchr((<span class="keywordtype">char</span> *)(message),<span class="charliteral">&apos;]&apos;</span>)+2;
  ...
  <span class="comment">// skip none talking message</span>
  <span class="keywordflow">if</span> (header-&gt;<a class="code" href="structEVENT__HEADER.html#a9b4b94f41521f5c188655b7bb0f1ec1b">trigger_mask</a> == <a class="code" href="group__mdefineh.html#ga7d9c4230376d6527c7c8cd810eeb3e86">MT_TALK</a> ||
      header-&gt;<a class="code" href="structEVENT__HEADER.html#a9b4b94f41521f5c188655b7bb0f1ec1b">trigger_mask</a> == <a class="code" href="group__mdefineh.html#ga8e13ab6bdea106f548ecb162bdcd41a9">MT_USER</a>)
   ...
}

<span class="keywordtype">int</span> <a class="code" href="mfe_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
{
  ...
  <span class="comment">// now connect to server</span>
  status = <a class="code" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment</a>(host_name, exp_name, <span class="stringliteral">&quot;Speaker&quot;</span>, NULL);
  <span class="keywordflow">if</span> (status != <a class="code" href="group__err21.html#ga0180947941230d805f5dbb6f1801c17c">CM_SUCCESS</a>)
    <span class="keywordflow">return</span> 1;
  <span class="comment">// Register callback for messages</span>
  <a class="code" href="group__msgfunctionc.html#gab857885ee2ef24ddef12fb3ecf5c4c7e">cm_msg_register</a>(receive_message);
  ...
}
</pre></div> <dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>Dispatch function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS or bm_open_buffer and bm_request_event return status </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01035">1035</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad92636d84ec9438a25ca6b17c4e6760d"></a><!-- doxytag: member="midas.c::cm_msg_retrieve" ref="gad92636d84ec9438a25ca6b17c4e6760d" args="(INT n_message, char *message, INT buf_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_retrieve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>n_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>buf_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve old messages from log file </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n_message</em>&nbsp;</td><td>Number of messages to retrieve </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>buf_size bytes of messages, separated by <br/>
 characters. The returned number of bytes is normally smaller than the initial buf_size, since only full lines are returned. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*buf_size</em>&nbsp;</td><td>Size of message buffer to fill </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01136">1136</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga489f76d96b5d217fab6da7405ab559f8"></a><!-- doxytag: member="midas.c::cm_msg_retrieve1" ref="ga489f76d96b5d217fab6da7405ab559f8" args="(char *filename, INT n_message, char *message, INT buf_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_retrieve1 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>n_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>buf_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l01054">1054</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l01136">cm_msg_retrieve()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3f13bc780b6031ab92b5d602a7d97bcd"></a><!-- doxytag: member="midas.c::cm_msg_send_event" ref="ga3f13bc780b6031ab92b5d602a7d97bcd" args="(INT ts, INT message_type, const char *send_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_msg_send_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>message_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>send_message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l00662">662</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l00750">cm_msg_flush_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="gafe6ff62436845805cd87a7ea1bd3b4dd"></a><!-- doxytag: member="midas.c::cm_set_msg_print" ref="gafe6ff62436845805cd87a7ea1bd3b4dd" args="(INT system_mask, INT user_mask, int(*func)(const char *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_msg_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>system_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>user_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *)&nbsp;</td>
          <td class="paramname"> <em>func</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set message masks. When a message is generated by calling <a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg()</a>, it can got to two destinatinons. First a user defined callback routine and second to the "SYSMSG" buffer.</p>
<p>A user defined callback receives all messages which satisfy the user_mask.</p>
<div class="fragment"><pre class="fragment"><span class="keywordtype">int</span> <a class="code" href="mfe_8c.html#a4186dc25477a1b947c5d6ef64bcc4da0">message_print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg)
{
  <span class="keywordtype">char</span> str[160];

  memset(str, <span class="charliteral">&apos; &apos;</span>, 159);
  str[159] = 0;
  <span class="keywordflow">if</span> (msg[0] == <span class="charliteral">&apos;[&apos;</span>)
    msg = strchr(msg, <span class="charliteral">&apos;]&apos;</span>)+2;
  memcpy(str, msg, strlen(msg));
  ss_printf(0, 20, str);
  <span class="keywordflow">return</span> 0;
}
...
  <a class="code" href="group__msgfunctionc.html#gafe6ff62436845805cd87a7ea1bd3b4dd">cm_set_msg_print</a>(<a class="code" href="group__mdefineh.html#ga3378bf6f53a24392145df33c8acc9c0c">MT_ALL</a>, <a class="code" href="group__mdefineh.html#ga3378bf6f53a24392145df33c8acc9c0c">MT_ALL</a>, <a class="code" href="mfe_8c.html#a4186dc25477a1b947c5d6ef64bcc4da0">message_print</a>);
...
</pre></div> <dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>system_mask</em>&nbsp;</td><td>Bit masks for MERROR, MINFO etc. to send system messages. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_mask</em>&nbsp;</td><td>Bit masks for MERROR, MINFO etc. to send messages to the user callback. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>Function which receives all printout. By setting "puts", messages are just printed to the screen. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l00360">360</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, and <a class="el" href="mfe_8c_source.html#l02485">main()</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<br>
<hr WIDTH="100%">
Midas DOC Version 2.3.0&nbsp;----&nbsp;PSI Stefan Ritt&nbsp;----
<br>
Contributions: Pierre-Andre Amaudruz - Sergio Ballestrero - Suzannah Daviel -
<a href=http://www.stack.nl/~dimitri/doxygen/features.html>Doxygen</a> - Peter Green -
Qing Gu - Greg Hackman - Gertjan Hofman - Paul Knowles - Exaos Lee - Rudi Meier - Glenn
Moloney - Dave Morris - John M O'Donnell - Konstantin Olchanski - Chris Pearson - Renee Poutissou
- Tamsen Schurman - Andreas Suter - Jan M.Wouters - Piotr Adam Zolnierczuk
<hr WIDTH="100%">

