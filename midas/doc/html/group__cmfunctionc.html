<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Midas: Midas Common Functions (cm_xxx)</title>
<link href="midox.css" rel="stylesheet" type="text/css">
<!--
<link href="doxygen.css" rel="stylesheet" type="text/css">
-->
<link href="tabs.css" rel="stylesheet" type="text/css">

<script type="text/javascript"  src="navigation.js">
</script>

</head>

<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Midas Common Functions (cm_xxx)<br/>
<small>
[<a class="el" href="group__midasincludecode.html">The midas.h &amp; midas.c</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTR__CLIENT.html">TR_CLIENT</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga89d09a1a52a983be86ef502614fe555c">cm_synchronize</a> (<a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *seconds)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gac340cbe250a502de8befa8c0beeac945">cm_asctime</a> (char *str, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> buf_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gaf53e87e278dd31007a84cf643eddba2b">cm_time</a> (<a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga9e7d38eff9b9d85d57fc2f4b2aacc9ab">cm_get_version</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga2bdca42b13df835e667b9258cb41c7e2">cm_get_revision</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga006e27d46e2dd0eedde0a753f1b9ed67">cm_set_path</a> (const char *path)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gacfe11e1f0404bc4112d749eb0793671e">cm_get_path</a> (char *path)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gafe97f63815e3eacedd504bca6b22032a">cm_set_experiment_name</a> (const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga0ca8a626fc6fbdbfde87294eb38ad94d">cm_get_experiment_name</a> (char *name, int name_length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gacd0316ccf242cd450281c5fd153a985b">cm_scan_experiments</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gace4f91b59217b2dc6216065cc41377a1">cm_delete_client_info</a> (HNDLE <a class="el" href="mevb_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> pid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga43f5554b3e5296a0f92ec3d6aa15ed30">cm_check_client</a> (HNDLE <a class="el" href="mevb_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, HNDLE hKeyClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gae50ca92a705efaed76dd1204a3caa32e">cm_set_client_info</a> (HNDLE <a class="el" href="mevb_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, HNDLE *hKeyClient, char *<a class="el" href="mevb_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>, char *client_name, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> hw_type, char *password, <a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> watchdog_timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga0aa3002f758a710360b90a50500fc784">cm_get_client_info</a> (char *client_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gaa483e7c17ff962fd6cdfa581f4989f54">cm_get_environment</a> (char *<a class="el" href="mevb_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>, int host_name_size, char *<a class="el" href="mfe_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>, int exp_name_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment</a> (const char *<a class="el" href="mevb_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>, const char *<a class="el" href="mfe_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>, const char *client_name, void(*func)(char *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga4dfbe7e4683c5f1e7f7cc1f6f998bdda">cm_connect_experiment1</a> (const char *<a class="el" href="mevb_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>, const char *<a class="el" href="mfe_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>, const char *client_name, void(*func)(char *), <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> <a class="el" href="analyzer_8c.html#a7503268889a084b74a968787ffc025b7">odb_size</a>, <a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> watchdog_timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gad7e8e8d4f9d89c17133b09505539b351">cm_list_experiments</a> (const char *<a class="el" href="mevb_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>, char <a class="el" href="mfe_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>[MAX_EXPERIMENT][NAME_LENGTH])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga5b4ff6bff1fa714ea4697e317d39ea0f">cm_select_experiment</a> (const char *<a class="el" href="mevb_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>, char *<a class="el" href="mfe_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga6a8a21234c7ce94bdf26bbcbcf778a39">cm_connect_client</a> (char *client_name, HNDLE *hConn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga084b807db46901ac411824a94f59645d">cm_disconnect_client</a> (HNDLE hConn, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> bShutdown)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga7d5a287821786e8dde3d2340826215b2">cm_disconnect_experiment</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gadf088255bf3e91f3efe83c7e5f0cd733">cm_set_experiment_database</a> (HNDLE <a class="el" href="mevb_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, HNDLE hKeyClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga16b33b70783a3f5ba98b4094149d12b7">cm_get_experiment_database</a> (HNDLE *<a class="el" href="mevb_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, HNDLE *hKeyClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gab85c5c492c0ebadafe7b08fde9a4e946">bm_validate_client_index</a> (const <a class="el" href="structBUFFER.html">BUFFER</a> *buf, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> abort_if_invalid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gaf98a4288e4c02da7c75f3e0326ff0e72">cm_set_watchdog_params</a> (<a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> call_watchdog, <a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga1873a038ab84d2f812f92c02fed97eea">cm_get_watchdog_params</a> (<a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> *call_watchdog, <a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *timeout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga31688f905a1b4a3271dfea8b178e1108">cm_get_watchdog_info</a> (HNDLE <a class="el" href="mevb_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, char *client_name, <a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *timeout, <a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *last)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga00950930acadf846be75239b6d0e80dc">cm_register_transition</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> transition, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>(*func)(<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>, char *), <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> sequence_number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gac4b2b97d9cd12320b6f910f32e131aef">cm_set_transition_sequence</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> transition, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> sequence_number)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gaa043c651932a8d63ce6104a9ad79f370">cm_register_deferred_transition</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> transition, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>(*func)(<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gabc9cc8ea21e435ffff94d359686897e3">cm_check_deferred_transition</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga0dd9a488ef81843f8a64c7930ad40f06">cm_transition1</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> transition, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> <a class="el" href="mevb_8c.html#a16695ea2bfd19f294afe066d6007ab36">run_number</a>, char *errstr, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> errstr_size, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> async_flag, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> debug_flag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga115565c5a1d9591fcabf844c1dd624f8">cm_yield</a> (<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> millisec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga609631cf55247d2e58069bae08419a86">cm_execute</a> (const char *command, char *result, <a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> bufsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga01682993f1aa1d5a4ed22de45ecf45fe">cm_shutdown</a> (const char *name, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> bUnique)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#gafb034d850f13190ba256f235fcea5298">cm_exist</a> (const char *name, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> bUnique)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmfunctionc.html#ga6208deae04212a3f234d80fe3185f86d">cm_cleanup</a> (const char *client_name, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> ignore_timeout)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>dox dox</p>
<p>dox </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gab85c5c492c0ebadafe7b08fde9a4e946"></a><!-- doxytag: member="midas.c::bm_validate_client_index" ref="gab85c5c492c0ebadafe7b08fde9a4e946" args="(const BUFFER *buf, BOOL abort_if_invalid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int bm_validate_client_index </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBUFFER.html">BUFFER</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>abort_if_invalid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox </p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02726">2726</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l04521">bm_cleanup()</a>, <a class="el" href="midas_8c_source.html#l04826">bm_close_buffer()</a>, <a class="el" href="midas_8c_source.html#l07987">bm_empty_buffers()</a>, <a class="el" href="midas_8c_source.html#l06897">bm_flush_cache()</a>, <a class="el" href="midas_8c_source.html#l07426">bm_push_event()</a>, <a class="el" href="midas_8c_source.html#l07094">bm_receive_event()</a>, <a class="el" href="midas_8c_source.html#l06131">bm_remove_event_request()</a>, <a class="el" href="midas_8c_source.html#l06707">bm_send_event()</a>, <a class="el" href="midas_8c_source.html#l07378">bm_skip_event()</a>, <a class="el" href="midas_8c_source.html#l06473">bm_wait_for_free_space()</a>, <a class="el" href="midas_8c_source.html#l05381">cm_cleanup()</a>, <a class="el" href="midas_8c_source.html#l02809">cm_set_watchdog_params()</a>, and <a class="el" href="midas_8c_source.html#l04497">cm_update_last_activity()</a>.</p>

</div>
</div>
<a class="anchor" id="gac340cbe250a502de8befa8c0beeac945"></a><!-- doxytag: member="midas.c::cm_asctime" ref="gac340cbe250a502de8befa8c0beeac945" args="(char *str, INT buf_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_asctime </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>buf_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get time from MIDAS server and set local time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>return time string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf_size</em>&nbsp;</td><td>Maximum size of str </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01286">1286</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="alarm_8c_source.html#l00212">al_trigger_alarm()</a>, and <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>.</p>

</div>
</div>
<a class="anchor" id="ga43f5554b3e5296a0f92ec3d6aa15ed30"></a><!-- doxytag: member="midas.c::cm_check_client" ref="ga43f5554b3e5296a0f92ec3d6aa15ed30" args="(HNDLE hDB, HNDLE hKeyClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_check_client </td>
          <td>(</td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hDB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hKeyClient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if a client with a /system/client/xxx entry has a valid entry in the ODB client table. If not, remove that client from the /system/client tree. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hDB</em>&nbsp;</td><td>Handle to online database </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hKeyClient</em>&nbsp;</td><td>Handle to client key </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_NO_CLIENT </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01604">1604</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l01702">cm_set_client_info()</a>, and <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>.</p>

</div>
</div>
<a class="anchor" id="gabc9cc8ea21e435ffff94d359686897e3"></a><!-- doxytag: member="midas.c::cm_check_deferred_transition" ref="gabc9cc8ea21e435ffff94d359686897e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_check_deferred_transition </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check for any deferred transition. If a deferred transition handler has been registered via the cm_register_deferred_transition function, this routine should be called regularly. It checks if a transition request is pending. If so, it calld the registered handler if the transition should be done and then actually does the transition. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, &lt;error&gt; Error from <a class="el" href="group__cmfunctionc.html#ga376defd443d6bdfcca3830b99986a48d">cm_transition()</a> </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l03346">3346</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="mfe_8c_source.html#l01853">scheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6208deae04212a3f234d80fe3185f86d"></a><!-- doxytag: member="midas.c::cm_cleanup" ref="ga6208deae04212a3f234d80fe3185f86d" args="(const char *client_name, BOOL ignore_timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_cleanup </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>ignore_timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove hanging clients independent of their watchdog timeout.</p>
<p>Since this function does not obey the client watchdog timeout, it should be only called to remove clients which have their watchdog checking turned off or which are known to be dead. The normal client removement is done via cm_watchdog().</p>
<p>Currently (Sept. 02) there are two applications for that:</p>
<ol type="1">
<li>The ODBEdit command "cleanup", which can be used to remove clients which have their watchdog checking off, like the analyzer started with the "-d" flag for a debugging session.</li>
<li>The frontend init code to remove previous frontends. This can be helpful if a frontend dies. Normally, one would have to wait 60 sec. for a crashed frontend to be removed. Only then one can start again the frontend. Since the frontend init code contains a call to cm_cleanup(&lt;frontend_name&gt;), one can restart a frontend immediately.</li>
</ol>
<p>Added ignore_timeout on Nov.03. A logger might have an increased tiemout of up to 60 sec. because of tape operations. If ignore_timeout is FALSE, the logger is then not killed if its inactivity is less than 60 sec., while in the previous implementation it was always killed after 2*WATCHDOG_INTERVAL. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client_name</em>&nbsp;</td><td>Client name, if zero check all clients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ignore_timeout</em>&nbsp;</td><td>If TRUE, ignore a possible increased timeout defined by each client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l05381">5381</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>, and <a class="el" href="mfe_8c_source.html#l02485">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a8a21234c7ce94bdf26bbcbcf778a39"></a><!-- doxytag: member="midas.c::cm_connect_client" ref="ga6a8a21234c7ce94bdf26bbcbcf778a39" args="(char *client_name, HNDLE *hConn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_connect_client </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HNDLE *&nbsp;</td>
          <td class="paramname"> <em>hConn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to a MIDAS client of the current experiment </p>
<p><b>For internal use only.</b></p>
<p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client_name</em>&nbsp;</td><td>Name of client to connect to. This name is set by the other client via the cm_connect_experiment call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hConn</em>&nbsp;</td><td>Connection handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_NO_CLIENT </dd></dl>
</p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02431">2431</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e96495bb5b89e4ea770a1ea7bc7787b"></a><!-- doxytag: member="midas.c::cm_connect_experiment" ref="ga1e96495bb5b89e4ea770a1ea7bc7787b" args="(const char *host_name, const char *exp_name, const char *client_name, void(*func)(char *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_connect_experiment </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exp_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>func</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox This function connects to an existing MIDAS experiment. This must be the first call in a MIDAS application. It opens three TCP connection to the remote host (one for RPC calls, one to send events and one for hot-link notifications from the remote host) and writes client information into the ODB under /System/Clients. </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>All MIDAS applications should evaluate the MIDAS_SERVER_HOST and MIDAS_EXPT_NAME environment variables as defaults to the host name and experiment name (see <a class="el" href="BuildingOptions.html#Environment_variables">Environment_variables</a>). For that purpose, the function <a class="el" href="group__cmfunctionc.html#gaa483e7c17ff962fd6cdfa581f4989f54">cm_get_environment()</a> should be called prior to <a class="el" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment()</a>. If command line <a class="el" href="structparameters.html">parameters</a> -h and -e are used, the evaluation should be done between <a class="el" href="group__cmfunctionc.html#gaa483e7c17ff962fd6cdfa581f4989f54">cm_get_environment()</a> and <a class="el" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment()</a>. The function <a class="el" href="group__cmfunctionc.html#ga7d5a287821786e8dde3d2340826215b2">cm_disconnect_experiment()</a> must be called before a MIDAS application exits. <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="midas_8h.html">midas.h</a>&gt;</span>
<a class="code" href="mfe_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
{
  <a class="code" href="sis3803_8h.html#a09fddde158a3a20bd2dcadb609de11dc">INT</a>  status, i;
  <span class="keywordtype">char</span> <a class="code" href="mfe_8c.html#af65cc3664520b7cd0817adc7106f9624">host_name</a>[256],<a class="code" href="mfe_8c.html#a11eee1a5e2cef985b90bdfe0bfc8cf76">exp_name</a>[32];

  <span class="comment">// get default values from environment</span>
  <a class="code" href="group__cmfunctionc.html#gaa483e7c17ff962fd6cdfa581f4989f54">cm_get_environment</a>(host_name, exp_name);

  <span class="comment">// parse command line parameters</span>
  <span class="keywordflow">for</span> (i=1 ; i&lt;argc ; i++)
    {
    <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span>)
      {
      <span class="keywordflow">if</span> (i+1 &gt;= argc || argv[i+1][0] == <span class="charliteral">&apos;-&apos;</span>)
        <span class="keywordflow">goto</span> usage;
      <span class="keywordflow">if</span> (argv[i][1] == <span class="charliteral">&apos;e&apos;</span>)
        strcpy(exp_name, argv[++i]);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argv[i][1] == <span class="charliteral">&apos;h&apos;</span>)
        strcpy(host_name, argv[++i]);
      <span class="keywordflow">else</span>
        {
usage:
        printf(<span class="stringliteral">&quot;usage: test [-h Hostname] [-e Experiment]\n\n&quot;</span>);
        <span class="keywordflow">return</span> 1;
        }
      }
    }
  status = <a class="code" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment</a>(host_name, exp_name, <span class="stringliteral">&quot;Test&quot;</span>, NULL);
  <span class="keywordflow">if</span> (status != <a class="code" href="group__err21.html#ga0180947941230d805f5dbb6f1801c17c">CM_SUCCESS</a>)
    <span class="keywordflow">return</span> 1;
  ...do operations...
  <a class="code" href="group__cmfunctionc.html#ga7d5a287821786e8dde3d2340826215b2">cm_disconnect_experiment</a>();
}
</pre></div> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host_name</em>&nbsp;</td><td>Specifies host to connect to. Must be a valid IP host name. The string can be empty ("") if to connect to the local computer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exp_name</em>&nbsp;</td><td>Specifies the experiment to connect to. If this string is empty, the number of defined experiments in exptab is checked. If only one experiment is defined, the function automatically connects to this one. If more than one experiment is defined, a list is presented and the user can interactively select one experiment. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>client_name</em>&nbsp;</td><td>Client name of the calling program as it can be seen by others (like the scl command in ODBEdit). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>Callback function to read in a password if security has been enabled. In all command line applications this function is NULL which invokes an internal ss_gets() function to read in a password. In windows environments (MS Windows, X Windows) a function can be supplied to open a dialog box and read in the password. The argument of this function must be the returned password. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_UNDEF_EXP, CM_SET_ERROR, RPC_NET_ERROR <br/>
 CM_VERSION_MISMATCH MIDAS library version different on local and remote computer </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02051">2051</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="mevb_8c_source.html#l01157">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4dfbe7e4683c5f1e7f7cc1f6f998bdda"></a><!-- doxytag: member="midas.c::cm_connect_experiment1" ref="ga4dfbe7e4683c5f1e7f7cc1f6f998bdda" args="(const char *host_name, const char *exp_name, const char *client_name, void(*func)(char *), INT odb_size, DWORD watchdog_timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_connect_experiment1 </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exp_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>odb_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>watchdog_timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to a MIDAS experiment (to the online database) on a specific host. </p>
<p><b>For internal use only.</b></p>
<p>
</p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02074">2074</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02051">cm_connect_experiment()</a>, and <a class="el" href="mfe_8c_source.html#l02485">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gace4f91b59217b2dc6216065cc41377a1"></a><!-- doxytag: member="midas.c::cm_delete_client_info" ref="gace4f91b59217b2dc6216065cc41377a1" args="(HNDLE hDB, INT pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_delete_client_info </td>
          <td>(</td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hDB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>pid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete client info from database </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hDB</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>PID of entry to delete, zero for this process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01547">1547</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l01604">cm_check_client()</a>, <a class="el" href="midas_8c_source.html#l05381">cm_cleanup()</a>, <a class="el" href="midas_8c_source.html#l02511">cm_disconnect_experiment()</a>, and <a class="el" href="midas_8c_source.html#l05176">cm_shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="gabc04b8293c8387a6ea4f506edf746df7"></a><!-- doxytag: member="midas.c::cm_deregister_transition" ref="gabc04b8293c8387a6ea4f506edf746df7" args="(INT transition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_deregister_transition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>transition</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l03166">3166</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga084b807db46901ac411824a94f59645d"></a><!-- doxytag: member="midas.c::cm_disconnect_client" ref="ga084b807db46901ac411824a94f59645d" args="(HNDLE hConn, BOOL bShutdown)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_disconnect_client </td>
          <td>(</td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hConn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bShutdown</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disconnect from a MIDAS client </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hConn</em>&nbsp;</td><td>Connection handle obtained via <a class="el" href="group__cmfunctionc.html#ga6a8a21234c7ce94bdf26bbcbcf778a39">cm_connect_client()</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bShutdown</em>&nbsp;</td><td>If TRUE, disconnect from client and shut it down (exit the client program) by sending a RPC_SHUTDOWN message </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>see rpc_client_disconnect() </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02497">2497</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7d5a287821786e8dde3d2340826215b2"></a><!-- doxytag: member="midas.c::cm_disconnect_experiment" ref="ga7d5a287821786e8dde3d2340826215b2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_disconnect_experiment </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disconnect from a MIDAS experiment. </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>Should be the last call to a MIDAS library function in an application before it exits. This function removes the client information from the ODB, disconnects all TCP connections and frees all internal allocated memory. See <a class="el" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment()</a> for example. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02511">2511</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, <a class="el" href="mevb_8c_source.html#l01157">main()</a>, and <a class="el" href="mevb_8c_source.html#l00114">register_equipment()</a>.</p>

</div>
</div>
<a class="anchor" id="ga609631cf55247d2e58069bae08419a86"></a><!-- doxytag: member="midas.c::cm_execute" ref="ga609631cf55247d2e58069bae08419a86" args="(const char *command, char *result, INT bufsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_execute </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>bufsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes command via system() call </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>command</em>&nbsp;</td><td>Command string to execute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>stdout of command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufsize</em>&nbsp;</td><td>string size in byte </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l04288">4288</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="gafb034d850f13190ba256f235fcea5298"></a><!-- doxytag: member="midas.c::cm_exist" ref="gafb034d850f13190ba256f235fcea5298" args="(const char *name, BOOL bUnique)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_exist </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bUnique</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if a MIDAS client exists in current experiment </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Client name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bUnique</em>&nbsp;</td><td>If true, look for the exact client name. If false, look for namexxx where xxx is a any number </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_NO_CLIENT </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l05290">5290</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="alarm_8c_source.html#l00527">al_check()</a>, and <a class="el" href="mevb_8c_source.html#l01157">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0aa3002f758a710360b90a50500fc784"></a><!-- doxytag: member="midas.c::cm_get_client_info" ref="ga0aa3002f758a710360b90a50500fc784" args="(char *client_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_client_info </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get info about the current client </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*client_name</em>&nbsp;</td><td>Client name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_UNDEF_EXP </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01876">1876</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l04595">bm_open_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa483e7c17ff962fd6cdfa581f4989f54"></a><!-- doxytag: member="midas.c::cm_get_environment" ref="gaa483e7c17ff962fd6cdfa581f4989f54" args="(char *host_name, int host_name_size, char *exp_name, int exp_name_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_environment </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>host_name_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>exp_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>exp_name_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns MIDAS environment variables. </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>This function can be used to evaluate the standard MIDAS environment variables before connecting to an experiment (see <a class="el" href="BuildingOptions.html#Environment_variables">Environment_variables</a>). The usual way is that the host name and experiment name are first derived from the environment variables MIDAS_SERVER_HOST and MIDAS_EXPT_NAME. They can then be superseded by command line <a class="el" href="structparameters.html">parameters</a> with -h and -e flags. <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="midas_8h.html">midas.h</a>&gt;</span>
<a class="code" href="mfe_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
{
  <a class="code" href="sis3803_8h.html#a09fddde158a3a20bd2dcadb609de11dc">INT</a>  status, i;
  <span class="keywordtype">char</span> host_name[256],exp_name[32];

  <span class="comment">// get default values from environment</span>
  <a class="code" href="group__cmfunctionc.html#gaa483e7c17ff962fd6cdfa581f4989f54">cm_get_environment</a>(host_name, exp_name);

  <span class="comment">// parse command line parameters</span>
  <span class="keywordflow">for</span> (i=1 ; i&lt;argc ; i++)
    {
    <span class="keywordflow">if</span> (argv[i][0] == <span class="charliteral">&apos;-&apos;</span>)
      {
      <span class="keywordflow">if</span> (i+1 &gt;= argc || argv[i+1][0] == <span class="charliteral">&apos;-&apos;</span>)
        <span class="keywordflow">goto</span> usage;
      <span class="keywordflow">if</span> (argv[i][1] == <span class="charliteral">&apos;e&apos;</span>)
        strcpy(exp_name, argv[++i]);
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (argv[i][1] == <span class="charliteral">&apos;h&apos;</span>)
        strcpy(host_name, argv[++i]);
      <span class="keywordflow">else</span>
        {
usage:
        printf(<span class="stringliteral">&quot;usage: test [-h Hostname] [-e Experiment]\n\n&quot;</span>);
        <span class="keywordflow">return</span> 1;
        }
      }
    }
  status = <a class="code" href="group__cmfunctionc.html#ga1e96495bb5b89e4ea770a1ea7bc7787b">cm_connect_experiment</a>(host_name, exp_name, <span class="stringliteral">&quot;Test&quot;</span>, NULL);
  <span class="keywordflow">if</span> (status != <a class="code" href="group__err21.html#ga0180947941230d805f5dbb6f1801c17c">CM_SUCCESS</a>)
    <span class="keywordflow">return</span> 1;
    ...do anyting...
  <a class="code" href="group__cmfunctionc.html#ga7d5a287821786e8dde3d2340826215b2">cm_disconnect_experiment</a>();
}
</pre></div> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host_name</em>&nbsp;</td><td>Contents of MIDAS_SERVER_HOST environment variable. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host_name_size</em>&nbsp;</td><td>string length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exp_name</em>&nbsp;</td><td>Contents of MIDAS_EXPT_NAME environment variable. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exp_name_size</em>&nbsp;</td><td>string length </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01952">1952</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="mevb_8c_source.html#l01157">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga16b33b70783a3f5ba98b4094149d12b7"></a><!-- doxytag: member="midas.c::cm_get_experiment_database" ref="ga16b33b70783a3f5ba98b4094149d12b7" args="(HNDLE *hDB, HNDLE *hKeyClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_experiment_database </td>
          <td>(</td>
          <td class="paramtype">HNDLE *&nbsp;</td>
          <td class="paramname"> <em>hDB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HNDLE *&nbsp;</td>
          <td class="paramname"> <em>hKeyClient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox Get the handle to the ODB from the currently connected experiment.</p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>This function returns the handle of the online database (ODB) which can be used in future db_xxx() calls. The hkeyclient key handle can be used to access the client information in the ODB. If the client key handle is not needed, the parameter can be NULL. <div class="fragment"><pre class="fragment">HNDLE <a class="code" href="mfe_8c.html#ab1f60c53f74e806a3b9f687af38d7421">hDB</a>, hkeyclient;
 <span class="keywordtype">char</span>  name[32];
 <span class="keywordtype">int</span>   size;
 db_get_experiment_database(&amp;hdb, &amp;hkeyclient);
 size = <span class="keyword">sizeof</span>(name);
 <a class="code" href="group__odbfunctionc.html#gaf3958854e073e1ddbb43324e07a6287f">db_get_value</a>(hdb, hkeyclient, <span class="stringliteral">&quot;Name&quot;</span>, name, &amp;size, <a class="code" href="group__mdefineh.html#gab81af1d9631a5c29500d506f0c3470cd">TID_STRING</a>, TRUE);
 printf(<span class="stringliteral">&quot;My name is %s\n&quot;</span>, name);
</pre></div> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hDB</em>&nbsp;</td><td>Database handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hKeyClient</em>&nbsp;</td><td>Handle for key where search starts, zero for root. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02669">2669</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="alarm_8c_source.html#l00527">al_check()</a>, <a class="el" href="alarm_8c_source.html#l00714">al_get_alarms()</a>, <a class="el" href="alarm_8c_source.html#l00439">al_reset_alarm()</a>, <a class="el" href="alarm_8c_source.html#l00212">al_trigger_alarm()</a>, <a class="el" href="analyzer_8c_source.html#l00206">ana_end_of_run()</a>, <a class="el" href="analyzer_8c_source.html#l00137">analyzer_init()</a>, <a class="el" href="midas_8c_source.html#l04595">bm_open_buffer()</a>, <a class="el" href="midas_8c_source.html#l02431">cm_connect_client()</a>, <a class="el" href="midas_8c_source.html#l03166">cm_deregister_transition()</a>, <a class="el" href="midas_8c_source.html#l02511">cm_disconnect_experiment()</a>, <a class="el" href="midas_8c_source.html#l05290">cm_exist()</a>, <a class="el" href="midas_8c_source.html#l01876">cm_get_client_info()</a>, <a class="el" href="midas_8c_source.html#l00377">cm_msg_log()</a>, <a class="el" href="midas_8c_source.html#l00469">cm_msg_log1()</a>, <a class="el" href="midas_8c_source.html#l01136">cm_msg_retrieve()</a>, <a class="el" href="midas_8c_source.html#l03289">cm_register_deferred_transition()</a>, <a class="el" href="midas_8c_source.html#l03101">cm_register_transition()</a>, <a class="el" href="midas_8c_source.html#l03225">cm_set_transition_sequence()</a>, <a class="el" href="midas_8c_source.html#l02809">cm_set_watchdog_params()</a>, <a class="el" href="midas_8c_source.html#l05176">cm_shutdown()</a>, <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>, <a class="el" href="elog_8c_source.html#l00081">el_submit()</a>, <a class="el" href="hv_8c_source.html#l00463">hv_init()</a>, <a class="el" href="hv_8c_source.html#l00124">hv_read()</a>, and <a class="el" href="mevb_8c_source.html#l01157">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ca8a626fc6fbdbfde87294eb38ad94d"></a><!-- doxytag: member="midas.c::cm_get_experiment_name" ref="ga0ca8a626fc6fbdbfde87294eb38ad94d" args="(char *name, int name_length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_experiment_name </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>name_length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the experiment name </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Pointer to user string, size should be at least NAME_LENGTH </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name_size</em>&nbsp;</td><td>Size of user string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01418">1418</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacfe11e1f0404bc4112d749eb0793671e"></a><!-- doxytag: member="midas.c::cm_get_path" ref="gacfe11e1f0404bc4112d749eb0793671e" args="(char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_path </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the path name previously set with cm_set_path. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Pathname </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01385">1385</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, <a class="el" href="midas_8c_source.html#l00377">cm_msg_log()</a>, <a class="el" href="midas_8c_source.html#l00469">cm_msg_log1()</a>, and <a class="el" href="midas_8c_source.html#l01136">cm_msg_retrieve()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e1de5d518d7be99062d074c5482ae88"></a><!-- doxytag: member="midas.c::cm_get_path1" ref="ga2e1de5d518d7be99062d074c5482ae88" args="(char *path, int path_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_path1 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l01392">1392</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2bdca42b13df835e667b9258cb41c7e2"></a><!-- doxytag: member="midas.c::cm_get_revision" ref="ga2bdca42b13df835e667b9258cb41c7e2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cm_get_revision </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return svn revision number of current MIDAS library as a string </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>revision number </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01354">1354</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9e7d38eff9b9d85d57fc2f4b2aacc9ab"></a><!-- doxytag: member="midas.c::cm_get_version" ref="ga9e7d38eff9b9d85d57fc2f4b2aacc9ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* cm_get_version </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return version number of current MIDAS library as a string </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>version number </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01345">1345</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga31688f905a1b4a3271dfea8b178e1108"></a><!-- doxytag: member="midas.c::cm_get_watchdog_info" ref="ga31688f905a1b4a3271dfea8b178e1108" args="(HNDLE hDB, char *client_name, DWORD *timeout, DWORD *last)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_watchdog_info </td>
          <td>(</td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hDB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>last</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return watchdog information about specific client </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hDB</em>&nbsp;</td><td>ODB handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>client_name</em>&nbsp;</td><td>ODB client name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Timeout for this application in seconds </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>last</em>&nbsp;</td><td>Last time watchdog was called in msec </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_NO_CLIENT, DB_INVALID_HANDLE </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02942">2942</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1873a038ab84d2f812f92c02fed97eea"></a><!-- doxytag: member="midas.c::cm_get_watchdog_params" ref="ga1873a038ab84d2f812f92c02fed97eea" args="(BOOL *call_watchdog, DWORD *timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_get_watchdog_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a> *&nbsp;</td>
          <td class="paramname"> <em>call_watchdog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the current watchdog <a class="el" href="structparameters.html">parameters</a> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_watchdog</em>&nbsp;</td><td>Call the cm_watchdog routine periodically </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Timeout for this application in seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02922">2922</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l04595">bm_open_buffer()</a>, <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, <a class="el" href="midas_8c_source.html#l01702">cm_set_client_info()</a>, and <a class="el" href="odb_8c_source.html#l00788">db_open_database()</a>.</p>

</div>
</div>
<a class="anchor" id="gad7e8e8d4f9d89c17133b09505539b351"></a><!-- doxytag: member="midas.c::cm_list_experiments" ref="gad7e8e8d4f9d89c17133b09505539b351" args="(const char *host_name, char exp_name[MAX_EXPERIMENT][NAME_LENGTH])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_list_experiments </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>exp_name</em>[MAX_EXPERIMENT][NAME_LENGTH]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to a MIDAS server and return all defined experiments in *exp_name[MAX_EXPERIMENTS] </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host_name</em>&nbsp;</td><td>Internet host name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exp_name</em>&nbsp;</td><td>list of experiment names </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, RPC_NET_ERROR </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02278">2278</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02392">cm_select_experiment()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa043c651932a8d63ce6104a9ad79f370"></a><!-- doxytag: member="midas.c::cm_register_deferred_transition" ref="gaa043c651932a8d63ce6104a9ad79f370" args="(INT transition, BOOL(*func)(INT, BOOL))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_register_deferred_transition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>(*)(<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>, <a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>)&nbsp;</td>
          <td class="paramname"> <em>func</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox Register a deferred transition handler. If a client is registered as a deferred transition handler, it may defer a requested transition by returning FALSE until a certain condition (like a motor reaches its end position) is reached. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transition</em>&nbsp;</td><td>One of TR_xxx </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>(*func)</em>&nbsp;</td><td>Function which gets called whenever a transition is requested. If it returns FALSE, the transition is not performed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, &lt;error&gt; Error from ODB access </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l03289">3289</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga00950930acadf846be75239b6d0e80dc"></a><!-- doxytag: member="midas.c::cm_register_transition" ref="ga00950930acadf846be75239b6d0e80dc" args="(INT transition, INT(*func)(INT, char *), INT sequence_number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_register_transition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>(*)(<a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>, char *)&nbsp;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>sequence_number</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox Registers a callback function for run transitions. This function internally registers the transition callback function and publishes its request for transition notification by writing a transition request to /System/Clients/&lt;pid&gt;/Transition XXX. Other clients making a transition scan the transition requests of all clients and call their transition callbacks via RPC.</p>
<p>Clients can register for transitions (Start/Stop/Pause/Resume) in a given sequence. All sequence numbers given in the registration are sorted on a transition and the clients are contacted in ascending order. By default, all programs register with a sequence number of 500. The logger however uses 200 for start, so that it can open files before the other clients are contacted, and 800 for stop, so that the files get closed when all other clients have gone already through the stop trantition.</p>
<p>The callback function returns CM_SUCCESS if it can perform the transition or a value larger than one in case of error. An error string can be copied into the error variable. </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>The callback function will be called on transitions from inside the <a class="el" href="group__cmfunctionc.html#ga115565c5a1d9591fcabf844c1dd624f8">cm_yield()</a> function which therefore must be contained in the main program loop. <div class="fragment"><pre class="fragment"><a class="code" href="sis3803_8h.html#a09fddde158a3a20bd2dcadb609de11dc">INT</a> start(<a class="code" href="sis3803_8h.html#a09fddde158a3a20bd2dcadb609de11dc">INT</a> <a class="code" href="mfe_8c.html#a16695ea2bfd19f294afe066d6007ab36">run_number</a>, <span class="keywordtype">char</span> *error)
{
  <span class="keywordflow">if</span> (&lt;not ok&gt;)
    {
    strcpy(error, <span class="stringliteral">&quot;Cannot start because ...&quot;</span>);
    <span class="keywordflow">return</span> 2;
    }
  printf(<span class="stringliteral">&quot;Starting run %d\n&quot;</span>, run_number);
  <span class="keywordflow">return</span> <a class="code" href="group__err21.html#ga0180947941230d805f5dbb6f1801c17c">CM_SUCCESS</a>;
}
<a class="code" href="mfe_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()
{
  ...
  <a class="code" href="group__cmfunctionc.html#ga00950930acadf846be75239b6d0e80dc">cm_register_transition</a>(<a class="code" href="group__mdefineh.html#ga2abbc514b87837cc235da54a4cf59e09">TR_START</a>, start, 500);
  <span class="keywordflow">do</span>
    {
    status = <a class="code" href="group__cmfunctionc.html#ga115565c5a1d9591fcabf844c1dd624f8">cm_yield</a>(1000);
    } <span class="keywordflow">while</span> (status != <a class="code" href="group__err25.html#ga0406ee07e8c5afbf8e46cb0eed698bcd">RPC_SHUTDOWN</a> &amp;&amp;
             status != <a class="code" href="group__err24.html#ga136923b4499af07f13a3cd631b88ec0e">SS_ABORT</a>);
  ...
}
</pre></div> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transition</em>&nbsp;</td><td>Transition to register for (see <a class="el" href="RC_Run_States_and_Transitions.html#state_transition">state_transition</a>) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>Callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sequence_number</em>&nbsp;</td><td>Sequence number for that transition (1..1000) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l03101">3101</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="mevb_8c_source.html#l01157">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gacd0316ccf242cd450281c5fd153a985b"></a><!-- doxytag: member="midas.c::cm_scan_experiments" ref="gacd0316ccf242cd450281c5fd153a985b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_scan_experiments </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox Scan the "exptab" file for MIDAS experiment names and save them for later use by rpc_server_accept(). The file is first searched under $MIDAS/exptab if present, then the directory from argv[0] is probed. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS<br/>
 CM_UNDEF_EXP exptab not found and MIDAS_DIR not set </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01454">1454</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, and <a class="el" href="midas_8c_source.html#l02278">cm_list_experiments()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5b4ff6bff1fa714ea4697e317d39ea0f"></a><!-- doxytag: member="midas.c::cm_select_experiment" ref="ga5b4ff6bff1fa714ea4697e317d39ea0f" args="(const char *host_name, char *exp_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_select_experiment </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>exp_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Connect to a MIDAS server and select an experiment from the experiments available on this server </p>
<p><b>For internal use only.</b></p>
<p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host_name</em>&nbsp;</td><td>Internet host name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exp_name</em>&nbsp;</td><td>list of experiment names </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, RPC_NET_ERROR </dd></dl>
</p>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02392">2392</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>.</p>

</div>
</div>
<a class="anchor" id="gae50ca92a705efaed76dd1204a3caa32e"></a><!-- doxytag: member="midas.c::cm_set_client_info" ref="gae50ca92a705efaed76dd1204a3caa32e" args="(HNDLE hDB, HNDLE *hKeyClient, char *host_name, char *client_name, INT hw_type, char *password, DWORD watchdog_timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_client_info </td>
          <td>(</td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hDB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HNDLE *&nbsp;</td>
          <td class="paramname"> <em>hKeyClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>host_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>client_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>hw_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>watchdog_timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set client information in online database and return handle </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hDB</em>&nbsp;</td><td>Handle to online database </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hKeyClient</em>&nbsp;</td><td>returned key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host_name</em>&nbsp;</td><td>server name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>client_name</em>&nbsp;</td><td>Name of this program as it will be seen by other clients. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hw_type</em>&nbsp;</td><td>Type of byte order </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>MIDAS password </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>watchdog_timeout</em>&nbsp;</td><td>Default watchdog timeout, can be overwritten by ODB setting /programs/&lt;name&gt;/Watchdog timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01702">1702</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>.</p>

</div>
</div>
<a class="anchor" id="gadf088255bf3e91f3efe83c7e5f0cd733"></a><!-- doxytag: member="midas.c::cm_set_experiment_database" ref="gadf088255bf3e91f3efe83c7e5f0cd733" args="(HNDLE hDB, HNDLE hKeyClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_experiment_database </td>
          <td>(</td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hDB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HNDLE&nbsp;</td>
          <td class="paramname"> <em>hKeyClient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the handle to the ODB for the currently connected experiment </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hDB</em>&nbsp;</td><td>Database handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hKeyClient</em>&nbsp;</td><td>Key handle of client structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02602">2602</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, and <a class="el" href="midas_8c_source.html#l02511">cm_disconnect_experiment()</a>.</p>

</div>
</div>
<a class="anchor" id="gafe97f63815e3eacedd504bca6b22032a"></a><!-- doxytag: member="midas.c::cm_set_experiment_name" ref="gafe97f63815e3eacedd504bca6b22032a" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_experiment_name </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set name of the experiment </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Experiment name </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01405">1405</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>.</p>

</div>
</div>
<a class="anchor" id="ga006e27d46e2dd0eedde0a753f1b9ed67"></a><!-- doxytag: member="midas.c::cm_set_path" ref="ga006e27d46e2dd0eedde0a753f1b9ed67" args="(const char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_path </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set path to actual experiment. This function gets called by cm_connect_experiment if the connection is established to a local experiment (not through the TCP/IP server). The path is then used for all shared memory routines. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>Pathname </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01368">1368</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>.</p>

</div>
</div>
<a class="anchor" id="gac4b2b97d9cd12320b6f910f32e131aef"></a><!-- doxytag: member="midas.c::cm_set_transition_sequence" ref="gac4b2b97d9cd12320b6f910f32e131aef" args="(INT transition, INT sequence_number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_transition_sequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>sequence_number</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Change the transition sequence for the calling program. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transition</em>&nbsp;</td><td>TR_START, TR_PAUSE, TR_RESUME or TR_STOP. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sequence_number</em>&nbsp;</td><td>New sequence number, should be between 1 and 1000 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l03225">3225</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf98a4288e4c02da7c75f3e0326ff0e72"></a><!-- doxytag: member="midas.c::cm_set_watchdog_params" ref="gaf98a4288e4c02da7c75f3e0326ff0e72" args="(BOOL call_watchdog, DWORD timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_set_watchdog_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>call_watchdog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the internal watchdog flags and the own timeout. If call_watchdog is TRUE, the cm_watchdog routine is called periodically from the system to show other clients that this application is "alive". On UNIX systems, the alarm() timer is used which is then not available for user purposes.</p>
<p>The timeout specifies the time, after which the calling application should be considered "dead" by other clients. Normally, the cm_watchdog() routines is called periodically. If a client crashes, this does not occur any more. Then other clients can detect this and clear all buffer and database entries of this application so they are not blocked any more. If this application should not checked by others, the timeout can be specified as zero. It might be useful for debugging purposes to do so, because if a debugger comes to a breakpoint and stops the application, the periodic call of cm_watchdog is disabled and the client looks like dead.</p>
<p>If the timeout is not zero, but the watchdog is not called (call_watchdog == FALSE), the user must ensure to call cm_watchdog periodically with a period of WATCHDOG_INTERVAL milliseconds or less.</p>
<p>An application which calles system routines which block the alarm signal for some time, might increase the timeout to the maximum expected blocking time before issuing the calls. One example is the logger doing Exabyte tape IO, which can take up to one minute. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>call_watchdog</em>&nbsp;</td><td>Call the cm_watchdog routine periodically </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Timeout for this application in ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l02809">2809</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l02074">cm_connect_experiment1()</a>, <a class="el" href="midas_8c_source.html#l01702">cm_set_client_info()</a>, and <a class="el" href="mevb_8c_source.html#l01157">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga01682993f1aa1d5a4ed22de45ecf45fe"></a><!-- doxytag: member="midas.c::cm_shutdown" ref="ga01682993f1aa1d5a4ed22de45ecf45fe" args="(const char *name, BOOL bUnique)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_shutdown </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a239c7f0d40651c3e419c5b9651507d14">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bUnique</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Shutdown (exit) other MIDAS client </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Client name or "all" for all clients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bUnique</em>&nbsp;</td><td>If true, look for the exact client name. If false, look for namexxx where xxx is a any number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, CM_NO_CLIENT, DB_NO_KEY </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l05176">5176</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>, and <a class="el" href="mfe_8c_source.html#l02485">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga89d09a1a52a983be86ef502614fe555c"></a><!-- doxytag: member="midas.c::cm_synchronize" ref="ga89d09a1a52a983be86ef502614fe555c" args="(DWORD *seconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_synchronize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>seconds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get time from MIDAS server and set local time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>seconds</em>&nbsp;</td><td>Time in seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01258">1258</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="mfe_8c_source.html#l02485">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf53e87e278dd31007a84cf643eddba2b"></a><!-- doxytag: member="midas.c::cm_time" ref="gaf53e87e278dd31007a84cf643eddba2b" args="(DWORD *t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vt2_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&nbsp;</td>
          <td class="paramname"> <em>t</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get time from ss_time on server. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l01304">1304</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>.</p>

</div>
</div>
<a class="anchor" id="ga376defd443d6bdfcca3830b99986a48d"></a><!-- doxytag: member="midas.c::cm_transition" ref="ga376defd443d6bdfcca3830b99986a48d" args="(INT transition, INT run_number, char *errstr, INT errstr_size, INT async_flag, INT debug_flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_transition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>run_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>errstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>errstr_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>async_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>debug_flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l04117">4117</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l03346">cm_check_deferred_transition()</a>, <a class="el" href="fevmemodules_8c_source.html#l00621">frontend_loop()</a>, <a class="el" href="mevb_8c_source.html#l01157">main()</a>, <a class="el" href="mevb_8c_source.html#l00325">scan_fragment()</a>, and <a class="el" href="mfe_8c_source.html#l01853">scheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0dd9a488ef81843f8a64c7930ad40f06"></a><!-- doxytag: member="midas.c::cm_transition1" ref="ga0dd9a488ef81843f8a64c7930ad40f06" args="(INT transition, INT run_number, char *errstr, INT errstr_size, INT async_flag, INT debug_flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_transition1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>run_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>errstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>errstr_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>async_flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>debug_flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs a run transition (Start/Stop/Pause/Resume).</p>
<p>Synchronous/Asynchronous flag. If set to ASYNC, the transition is done asynchronously, meaning that clients are connected and told to execute their callback routine, but no result is awaited. The return value is specified by the transition callback function on the remote clients. If all callbacks can perform the transition, CM_SUCCESS is returned. If one callback cannot perform the transition, the return value of this callback is returned from <a class="el" href="group__cmfunctionc.html#ga376defd443d6bdfcca3830b99986a48d">cm_transition()</a>. The async_flag is usually FALSE so that transition callbacks can block a run transition in case of problems and return an error string. The only exception are situations where a run transition is performed automatically by a program which cannot block in a transition. For example the logger can cause a run stop when a disk is nearly full but it cannot block in the <a class="el" href="group__cmfunctionc.html#ga376defd443d6bdfcca3830b99986a48d">cm_transition()</a> function since it has its own run stop callback which must flush buffers and close disk files and tapes. </p>
<div class="fragment"><pre class="fragment">...
    i = 1;
    <a class="code" href="group__odbfunctionc.html#gaf0b052657ba1d4f4a8b6d47dbc70008c">db_set_value</a>(hDB, 0, <span class="stringliteral">&quot;/Runinfo/Transition in progress&quot;</span>, &amp;i, <span class="keyword">sizeof</span>(<a class="code" href="sis3803_8h.html#a09fddde158a3a20bd2dcadb609de11dc">INT</a>), 1, <a class="code" href="group__mdefineh.html#gad950d5fde6dd3ea7eba59fb6760a38cb">TID_INT</a>);

      status = <a class="code" href="group__cmfunctionc.html#ga376defd443d6bdfcca3830b99986a48d">cm_transition</a>(<a class="code" href="group__mdefineh.html#ga2abbc514b87837cc235da54a4cf59e09">TR_START</a>, new_run_number, str, <span class="keyword">sizeof</span>(str), <a class="code" href="group__mdefineh.html#ga9ac82e856c7683e23553431e5224d5f4">SYNC</a>, debug_flag);
      <span class="keywordflow">if</span> (status != <a class="code" href="group__err21.html#ga0180947941230d805f5dbb6f1801c17c">CM_SUCCESS</a>)
      {
        <span class="comment">// in case of error</span>
        printf(<span class="stringliteral">&quot;Error: %s\n&quot;</span>, str);
      }
    ...
</pre></div> <dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transition</em>&nbsp;</td><td>TR_START, TR_PAUSE, TR_RESUME or TR_STOP. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>run_number</em>&nbsp;</td><td>New run number. If zero, use current run number plus one. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errstr</em>&nbsp;</td><td>returned error string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errstr_size</em>&nbsp;</td><td>Size of error string. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>async_flag</em>&nbsp;</td><td>SYNC: synchronization flag (SYNC:wait completion, ASYNC: retun immediately) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>debug_flag</em>&nbsp;</td><td>If 1 output debugging information, if 2 output via <a class="el" href="group__msgfunctionc.html#gaac032ca2438c47466bfc9722de6746ea">cm_msg()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, &lt;error&gt; error code from remote client </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l03439">3439</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l04117">cm_transition()</a>.</p>

</div>
</div>
<a class="anchor" id="ga115565c5a1d9591fcabf844c1dd624f8"></a><!-- doxytag: member="midas.c::cm_yield" ref="ga115565c5a1d9591fcabf844c1dd624f8" args="(INT millisec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a> cm_yield </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vppg_8h.html#a392e62da233ed3e2f7c3fd4f487a3896">INT</a>&nbsp;</td>
          <td class="paramname"> <em>millisec</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>dox Central yield functions for clients. This routine should be called in an infinite loop by a client in order to give the MIDAS system the opportunity to receive commands over RPC channels, update database records and receive events. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>millisec</em>&nbsp;</td><td>Timeout in millisec. If no message is received during the specified timeout, the routine returns. If millisec=-1, it only returns when receiving an RPC_SHUTDOWN message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>CM_SUCCESS, RPC_SHUTDOWN </dd></dl>

<p>Definition at line <a class="el" href="midas_8c_source.html#l04229">4229</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="mevb_8c_source.html#l00325">scan_fragment()</a>, and <a class="el" href="mfe_8c_source.html#l01853">scheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0a3c6097ceeaa7dcbe2bb3ea6a768e70"></a><!-- doxytag: member="midas.c::tr_compare" ref="ga0a3c6097ceeaa7dcbe2bb3ea6a768e70" args="(const void *arg1, const void *arg2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tr_compare </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>arg2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="midas_8c_source.html#l03394">3394</a> of file <a class="el" href="midas_8c_source.html">midas.c</a>.</p>

<p>Referenced by <a class="el" href="midas_8c_source.html#l03439">cm_transition1()</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<br>
<hr WIDTH="100%">
Midas DOC Version 2.3.0&nbsp;----&nbsp;PSI Stefan Ritt&nbsp;----
<br>
Contributions: Pierre-Andre Amaudruz - Sergio Ballestrero - Suzannah Daviel -
<a href=http://www.stack.nl/~dimitri/doxygen/features.html>Doxygen</a> - Peter Green -
Qing Gu - Greg Hackman - Gertjan Hofman - Paul Knowles - Exaos Lee - Rudi Meier - Glenn
Moloney - Dave Morris - John M O'Donnell - Konstantin Olchanski - Chris Pearson - Renee Poutissou
- Tamsen Schurman - Andreas Suter - Jan M.Wouters - Piotr Adam Zolnierczuk
<hr WIDTH="100%">

