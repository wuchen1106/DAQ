<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Midas: Frontend code</title>
<link href="midox.css" rel="stylesheet" type="text/css">
<!--
<link href="doxygen.css" rel="stylesheet" type="text/css">
-->
<link href="tabs.css" rel="stylesheet" type="text/css">

<script type="text/javascript"  src="navigation.js">
</script>

</head>

<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">Midas Documentation</a>&nbsp;&raquo&nbsp;<a class="el" href="FrontendOperation.html">SECTION 6: Frontend Operation</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="Frontend_code">Frontend code </a></h1><p><br/>
</p>
 
<script type="text/javascript">
// pages parameters: back index next {top bottom}
pages( "FE_table","FrontendOperation", "FE_code_sections","Frontend_code","end" );
// section parameters: last section; top of this section; next section
sections("RunControl","FrontendOperation","DataAnalysis");
</script>
<p><br/>
 <a class="anchor" id="idx_Frontend_code"></a> </p>
<h2><a class="anchor" id="FE_intro">
Introduction</a></h2>
<p>The features of a typical frontend program are best explained by reference to examples of the user code provided in the Midas Package. The examples in this document are taken from the following C code examples. There are also examples available in C++ (see table below).</p>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
<caption align="bottom">Examples of user frontend routines for different hardware and language </caption>
<tr>
<td style="vertical-align: top;  background-color: rgb(255, 255, 204) ;"><p><span style="font-weight: bold;">Hardware :</span>  </p>
</td><td style="vertical-align: top;  background-color: rgb(255, 255, 204);"><p><span style="font-weight: bold;">Filename :</span>  </p>
</td><td style="vertical-align: top;  background-color: rgb(255, 255, 204);"><p><span style="font-weight: bold;">Directory :</span>  <span style="font-weight: bold;"> </span></p>
</td><td><p><span style="font-weight: bold;">Language :</span>  </p>
</td></tr>
<tr>
<td><p>VME </p>
</td><td><p><a class="el" href="fevmemodules_8c.html">fevmemodules.c</a> </p>
</td><td><p>examples/experiment </p>
</td><td><p>C  </p>
</td></tr>
<tr>
<td><p>CAMAC </p>
</td><td><p><a class="el" href="frontend_8c.html">frontend.c</a> </p>
</td><td><p>../examples/experiment  </p>
</td><td><p>C  </p>
</td></tr>
<tr>
<td><p>VME </p>
</td><td><p><a class="el" href="fevme_8cxx.html">fevme.cxx</a> </p>
</td><td><p>../examples/Triumf/c++   </p>
</td><td><p>C++ </p>
</td></tr>
</table>
<p><br/>
 Other examples of frontend code can be found in the Midas distribution under the <b></b>../examples directory.</p>
<p><a class="anchor" id="idx_CAMAC_LAM-macro"></a></p>
<h3><a class="anchor" id="FE_LAM_macros">
CAMAC DAQ Event LAM Macros</a></h3>
<p>Midas provides <b> Macros for CAMAC LAM manipulation </b> which may be used in the frontend or analyzer code. These Macros are used to interact with the LAM register. Usually the CAMAC Crate Controller has the feature that it is able to register one bit per slot and present this register to the user. It may even have the option to mask off this register to allow to set a "general" LAM register containing either "1" (At least one LAM from the masked LAM is set) or "0" ( no LAM set from the maksed LAM register). The <a class="el" href="FE_eq_event_routines.html#FE_poll_event">poll_event()</a> CAMAC routine uses this feature to return a variable which contains a bit-wise value of the current LAM register in the Crate Controller.</p>
<ul>
<li><a class="el" href="group__midasincludecode.html#ga93fde3913a488880c4f96267e24579ee">LAM_SOURCE</a></li>
<li><a class="el" href="group__midasincludecode.html#ga479219e07f43223f74ff8638705a804e">LAM_STATION</a></li>
<li><a class="el" href="group__midasincludecode.html#gafac465450c8035c37ba5482970e026eb">LAM_SOURCE_CRATE</a></li>
<li><a class="el" href="group__midasincludecode.html#gae70f372186346224788f2980de071736">LAM_SOURCE_STATION</a></li>
</ul>
<hr/>
<ul>
<li><a class="el" href="FE_code_sections.html">Frontend Code Sections</a></li>
<li><a class="el" href="FE_sequence.html">Sequence of operations</a></li>
<li><a class="el" href="FE_eq_event_routines.html">Frontend Routines associated with Equipments</a></li>
<li><a class="el" href="FE_event_notification.html">Frontend Event Notification</a></li>
<li><a class="el" href="FE_event_notification.html#FE_Deferred_Transition">Deferred Transition</a></li>
<li><a class="el" href="FE_bank_construction.html">Bank construction in an Event readout routine</a></li>
<li><a class="el" href="FE_Super_Event.html">Super-Event</a></li>
<li><a class="el" href="FE_Event_Builder.html">Event Builder Functions</a></li>
<li><a class="el" href="FE_Slow_Control_system.html">Slow Control System</a><ul>
<li><a class="el" href="FE_event_buffer_size.html">Increase the Event Buffer Size(s)</a></li>
<li><a class="el" href="FE_Appendices.html">Frontend Appendices</a></li>
</ul>
</li>
</ul>
<p><br/>
  
<script type="text/javascript">
pages( "FE_table","FrontendOperation", "FE_code_sections","Frontend_code","" ); // back index next {top bottom}
// section parameters: last section; top of this section; next section
sections("RunControl","FrontendOperation","DataAnalysis");
</script>
 <br/>
 <a class="anchor" id="end"></a> </p>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<br>
<hr WIDTH="100%">
Midas DOC Version 2.3.0&nbsp;----&nbsp;PSI Stefan Ritt&nbsp;----
<br>
Contributions: Pierre-Andre Amaudruz - Sergio Ballestrero - Suzannah Daviel -
<a href=http://www.stack.nl/~dimitri/doxygen/features.html>Doxygen</a> - Peter Green -
Qing Gu - Greg Hackman - Gertjan Hofman - Paul Knowles - Exaos Lee - Rudi Meier - Glenn
Moloney - Dave Morris - John M O'Donnell - Konstantin Olchanski - Chris Pearson - Renee Poutissou
- Tamsen Schurman - Andreas Suter - Jan M.Wouters - Piotr Adam Zolnierczuk
<hr WIDTH="100%">

