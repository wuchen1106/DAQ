<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ROOT Analyzer: analyzer.cxx File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>analyzer.cxx File Reference</h1><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="a00091_source.html">TMidasOnline.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00087_source.html">TMidasEvent.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00089_source.html">TMidasFile.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00113_source.html">XmlOdb.h</a>&quot;</code><br/>
<code>#include &lt;TSystem.h&gt;</code><br/>
<code>#include &lt;TROOT.h&gt;</code><br/>
<code>#include &lt;TApplication.h&gt;</code><br/>
<code>#include &lt;TTimer.h&gt;</code><br/>
<code>#include &lt;TFile.h&gt;</code><br/>
<code>#include &lt;TDirectory.h&gt;</code><br/>
<code>#include &lt;TGClient.h&gt;</code><br/>
<code>#include &lt;TGFrame.h&gt;</code><br/>
<code>#include &lt;TFolder.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="a00053_source.html">Globals.h</a>&quot;</code><br/>
<code>#include &lt;TH1D.h&gt;</code><br/>
<code>#include &lt;TGMenu.h&gt;</code><br/>
<div class="dynheader">
Include dependency graph for analyzer.cxx:</div>
<div class="dynsection">
<div class="center"><img src="a00149.png" border="0" usemap="#analyzer_8cxx_map" alt=""/></div>
<map name="analyzer_8cxx_map" id="analyzer_8cxx">
<area shape="rect" id="node13" href="a00091.html" title="TMidasOnline.h" alt="" coords="201,83,324,112"/><area shape="rect" id="node22" href="a00087.html" title="TMidasEvent.h" alt="" coords="452,83,572,112"/><area shape="rect" id="node27" href="a00089.html" title="TMidasFile.h" alt="" coords="76,83,177,112"/><area shape="rect" id="node30" href="a00113.html" title="XmlOdb.h" alt="" coords="596,83,681,112"/><area shape="rect" id="node60" href="a00053.html" title="Globals.h" alt="" coords="348,83,428,112"/><area shape="rect" id="node18" href="a00111.html" title="VirtualOdb.h" alt="" coords="211,160,315,189"/><area shape="rect" id="node24" href="a00093.html" title="TMidasStructs.h" alt="" coords="339,160,469,189"/></map>
</div>

<p><a href="a00049_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00009.html">MyPeriodic</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html">MainWindow</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a86ca54f6c4f162654162f3aa5f2fd920">M_FILE_EXIT</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#aed5e107931778acf0dec4d53809130b4">GetTimeSec</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a4e082e91477310a20b1befbfe7917a79">startRun</a> (int transition, int run, int time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#aafa783d6b432e3fb42e1fe5c97c4c9a5">endRun</a> (int transition, int run, int time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a1700345458ef0b50773df63aad4b9be9">HandleSample</a> (int ichan, void *ptr, int wsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a02459e0090feced3b21974cef795351a">HandleMidasEvent</a> (<a class="el" href="a00030.html">TMidasEvent</a> &amp;event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a248b55c42bdb565a94be7790a08f2be6">eventHandler</a> (const void *pheader, const void *pdata, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a6973be6408175a61a9cb696648b4959c">ProcessMidasFile</a> (TApplication *app, const char *fname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#ab4ac2d59faf760d2272bb679c09b793f">ShowMem</a> (const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a97ee70a8770dc30d06c744b24eb2fcfc">help</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a6cf028aba8f1557987171e864c6e92aa">gRunNumber</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a4b1bfdba322ba30fe8bb49e3d3b40cf3">gIsPedestalsRun</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a9c47b919164f4d2be7fcf95761311698">gIsOffline</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a23df21001564909dbffa60ba0f52ddbb">gEventCutoff</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00019.html">TDirectory</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TFile *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00045.html">VirtualOdb</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a04f129423143dbb41b65a5de57a71b43">gOdb</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html#a91cc1a3c62679e579b1415884e2534e6">gEnableShowMem</a> = false</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a86ca54f6c4f162654162f3aa5f2fd920"></a><!-- doxytag: member="analyzer.cxx::M_FILE_EXIT" ref="a86ca54f6c4f162654162f3aa5f2fd920" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M_FILE_EXIT&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00400">400</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00433">MainWindow::MainWindow()</a>, and <a class="el" href="a00049_source.html#l00402">MainWindow::ProcessMessage()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aafa783d6b432e3fb42e1fe5c97c4c9a5"></a><!-- doxytag: member="analyzer.cxx::endRun" ref="aafa783d6b432e3fb42e1fe5c97c4c9a5" args="(int transition, int run, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void endRun </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00135">135</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00049_source.html#l00043">gIsRunning</a>, <a class="el" href="a00139_source.html#l00288">gManaHistosFolder</a>, <a class="el" href="a00049_source.html#l00049">gOutputFile</a>, and <a class="el" href="a00049_source.html#l00042">gRunNumber</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00471">MainWindow::CloseWindow()</a>, <a class="el" href="a00049_source.html#l00402">MainWindow::ProcessMessage()</a>, and <a class="el" href="a00049_source.html#l00241">ProcessMidasFile()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137   <a class="code" href="a00049.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a> = <span class="keyword">false</span>;
<a name="l00138"></a>00138   <a class="code" href="a00049.html#a6cf028aba8f1557987171e864c6e92aa">gRunNumber</a> = run;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 <span class="preprocessor">#ifdef HAVE_MIDASSERVER</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="a00058.html#a5fa7695c5cc2f2ec1604f9c83bc7c737">gManaHistosFolder</a>)
<a name="l00142"></a>00142     <a class="code" href="a00058.html#a5fa7695c5cc2f2ec1604f9c83bc7c737">gManaHistosFolder</a>-&gt;Clear();
<a name="l00143"></a>00143 <span class="preprocessor">#endif</span>
<a name="l00144"></a>00144 <span class="preprocessor"></span>
<a name="l00145"></a>00145   <span class="keywordflow">if</span> (<a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>)
<a name="l00146"></a>00146     {
<a name="l00147"></a>00147       <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>-&gt;Write();
<a name="l00148"></a>00148       <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>-&gt;Close();             <span class="comment">//close the histogram file</span>
<a name="l00149"></a>00149       <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a> = NULL;
<a name="l00150"></a>00150     }
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   printf(<span class="stringliteral">&quot;End of run %d\n&quot;</span>,run);
<a name="l00153"></a>00153 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_aafa783d6b432e3fb42e1fe5c97c4c9a5_icgraph.png" border="0" usemap="#a00049_aafa783d6b432e3fb42e1fe5c97c4c9a5_icgraph_map" alt=""></div>
<map name="a00049_aafa783d6b432e3fb42e1fe5c97c4c9a5_icgraph_map" id="a00049_aafa783d6b432e3fb42e1fe5c97c4c9a5_icgraph">
<area shape="rect" id="node3" href="a00008.html#a030bda5de4b8e1793e650001f4debc07" title="MainWindow::CloseWindow" alt="" coords="139,5,339,35"/><area shape="rect" id="node5" href="a00008.html#ab059a23977448a23ac90a17d76c90572" title="MainWindow::ProcessMessage" alt="" coords="125,59,352,88"/><area shape="rect" id="node7" href="a00049.html#a6973be6408175a61a9cb696648b4959c" title="ProcessMidasFile" alt="" coords="172,112,305,141"/><area shape="rect" id="node9" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="401,112,455,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a248b55c42bdb565a94be7790a08f2be6"></a><!-- doxytag: member="analyzer.cxx::eventHandler" ref="a248b55c42bdb565a94be7790a08f2be6" args="(const void *pheader, const void *pdata, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void eventHandler </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pheader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00232">232</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00135_source.html#l00125">TMidasEvent::GetEventHeader()</a>, and <a class="el" href="a00049_source.html#l00189">HandleMidasEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00233"></a>00233 {
<a name="l00234"></a>00234   <a class="code" href="a00030.html" title="MIDAS event.">TMidasEvent</a> event;
<a name="l00235"></a>00235   memcpy(event.<a class="code" href="a00030.html#a185596086a78015119f24c5e5132f2d0" title="return pointer to the event header">GetEventHeader</a>(), pheader, <span class="keyword">sizeof</span>(<a class="code" href="a00029.html" title="Event header.">TMidas_EVENT_HEADER</a>));
<a name="l00236"></a>00236   <span class="keyword">event</span>.SetData(size, (<span class="keywordtype">char</span>*)pdata);
<a name="l00237"></a>00237   <span class="keyword">event</span>.SetBankList();
<a name="l00238"></a>00238   <a class="code" href="a00049.html#a02459e0090feced3b21974cef795351a">HandleMidasEvent</a>(event);
<a name="l00239"></a>00239 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a248b55c42bdb565a94be7790a08f2be6_cgraph.png" border="0" usemap="#a00049_a248b55c42bdb565a94be7790a08f2be6_cgraph_map" alt=""></div>
<map name="a00049_a248b55c42bdb565a94be7790a08f2be6_cgraph_map" id="a00049_a248b55c42bdb565a94be7790a08f2be6_cgraph">
<area shape="rect" id="node3" href="a00030.html#a185596086a78015119f24c5e5132f2d0" title="return pointer to the event header" alt="" coords="168,5,403,35"/><area shape="rect" id="node5" href="a00049.html#a02459e0090feced3b21974cef795351a" title="HandleMidasEvent" alt="" coords="212,59,359,88"/><area shape="rect" id="node7" href="a00049.html#a1700345458ef0b50773df63aad4b9be9" title="HandleSample" alt="" coords="451,59,568,88"/><area shape="rect" id="node9" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a" title="TDirectory::Get" alt="" coords="617,59,745,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aed5e107931778acf0dec4d53809130b4"></a><!-- doxytag: member="analyzer.cxx::GetTimeSec" ref="aed5e107931778acf0dec4d53809130b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GetTimeSec </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00054">54</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00070">MyPeriodic::MyPeriodic()</a>, <a class="el" href="a00120_source.html#l00022">TPeriodicClass::Notify()</a>, <a class="el" href="a00049_source.html#l00079">MyPeriodic::Notify()</a>, and <a class="el" href="a00120_source.html#l00013">TPeriodicClass::TPeriodicClass()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055 {
<a name="l00056"></a>00056   <span class="keyword">struct </span>timeval tv;
<a name="l00057"></a>00057   gettimeofday(&amp;tv,NULL);
<a name="l00058"></a>00058   <span class="keywordflow">return</span> tv.tv_sec + 0.000001*tv.tv_usec;
<a name="l00059"></a>00059 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_aed5e107931778acf0dec4d53809130b4_icgraph.png" border="0" usemap="#a00049_aed5e107931778acf0dec4d53809130b4_icgraph_map" alt=""></div>
<map name="a00049_aed5e107931778acf0dec4d53809130b4_icgraph_map" id="a00049_aed5e107931778acf0dec4d53809130b4_icgraph">
<area shape="rect" id="node3" href="a00009.html#abc523c514850616ec3fcb33eb43eb753" title="MyPeriodic::MyPeriodic" alt="" coords="183,5,361,35"/><area shape="rect" id="node5" href="a00036.html#a06afbda500ef7826a0efc9f06eba3ca9" title="TPeriodicClass::Notify" alt="" coords="188,59,356,88"/><area shape="rect" id="node7" href="a00009.html#abc3c8bdea115df8cc0d74da299784c23" title="MyPeriodic::Notify" alt="" coords="199,112,345,141"/><area shape="rect" id="node9" href="a00036.html#a113bb1e235a82995bb39e51aa0245e48" title="TPeriodicClass::TPeriodicClass" alt="" coords="160,165,384,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a02459e0090feced3b21974cef795351a"></a><!-- doxytag: member="analyzer.cxx::HandleMidasEvent" ref="a02459e0090feced3b21974cef795351a" args="(TMidasEvent &amp;event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleMidasEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00030.html">TMidasEvent</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00189">189</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00049_source.html#l00044">gIsPedestalsRun</a>, <a class="el" href="a00049_source.html#l00043">gIsRunning</a>, and <a class="el" href="a00049_source.html#l00157">HandleSample()</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00232">eventHandler()</a>, and <a class="el" href="a00049_source.html#l00241">ProcessMidasFile()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00190"></a>00190 {
<a name="l00191"></a>00191   <span class="keywordtype">int</span> eventId = <span class="keyword">event</span>.GetEventId();
<a name="l00192"></a>00192 
<a name="l00193"></a>00193   <span class="keywordflow">if</span> (<span class="keyword">false</span>&amp;&amp;(eventId == 1))
<a name="l00194"></a>00194     {
<a name="l00195"></a>00195       <span class="keywordtype">void</span> *ptr;
<a name="l00196"></a>00196       <span class="keywordtype">int</span> size = <span class="keyword">event</span>.LocateBank(NULL, <span class="stringliteral">&quot;CHA3&quot;</span>, &amp;ptr);
<a name="l00197"></a>00197       <span class="keywordflow">if</span> (ptr)
<a name="l00198"></a>00198         <a class="code" href="a00049.html#a1700345458ef0b50773df63aad4b9be9">HandleSample</a>(3, ptr, size);
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200   <span class="keywordflow">if</span> (<span class="keyword">false</span>&amp;&amp;(eventId == 1)&amp;&amp;(<a class="code" href="a00049.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a>==<span class="keyword">true</span>)&amp;&amp;(<a class="code" href="a00049.html#a4b1bfdba322ba30fe8bb49e3d3b40cf3">gIsPedestalsRun</a>==<span class="keyword">false</span>)) <span class="comment">// SIS data</span>
<a name="l00201"></a>00201     {
<a name="l00202"></a>00202       <span class="comment">//printf(&quot;SIS event\n&quot;);</span>
<a name="l00203"></a>00203       <span class="comment">//event.Print();</span>
<a name="l00204"></a>00204       <span class="comment">//void *ptr;</span>
<a name="l00205"></a>00205       <span class="comment">//int size = event.LocateBank(event.GetData(),&quot;MCS&quot;,&amp;ptr);</span>
<a name="l00206"></a>00206       <span class="comment">//HandleSIS(kMaxSisChannels,size,ptr);</span>
<a name="l00207"></a>00207     }
<a name="l00208"></a>00208   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">false</span>&amp;&amp;(eventId == 2)&amp;&amp;(<a class="code" href="a00049.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a>==<span class="keyword">true</span>)) <span class="comment">// ADC data</span>
<a name="l00209"></a>00209     {
<a name="l00210"></a>00210       <span class="comment">//printf(&quot;ADC event\n&quot;);</span>
<a name="l00211"></a>00211       <span class="comment">//event.Print();</span>
<a name="l00212"></a>00212       <span class="comment">//void *ptr;</span>
<a name="l00213"></a>00213       <span class="comment">//int size = event.LocateBank(event.GetData(),&quot;ADC&quot;,&amp;ptr);</span>
<a name="l00214"></a>00214       <span class="comment">//HandleBeamADC(kMaxADCChannels,size,ptr,event);</span>
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">false</span>&amp;&amp;(eventId==5)&amp;&amp;(<a class="code" href="a00049.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a>==<span class="keyword">true</span>)&amp;&amp;(<a class="code" href="a00049.html#a4b1bfdba322ba30fe8bb49e3d3b40cf3">gIsPedestalsRun</a>==<span class="keyword">false</span>))<span class="comment">// Scaler data</span>
<a name="l00217"></a>00217     {
<a name="l00218"></a>00218       <span class="comment">//event.Print();</span>
<a name="l00219"></a>00219       <span class="comment">//void *sclrptr;</span>
<a name="l00220"></a>00220       <span class="comment">//int sclrsize = event.LocateBank(event.GetData(),&quot;SCLR&quot;,&amp;sclrptr);</span>
<a name="l00221"></a>00221       <span class="comment">//void *scrtptr;</span>
<a name="l00222"></a>00222       <span class="comment">//int scrtsize = event.LocateBank(event.GetData(),&quot;SCRT&quot;,&amp;scrtptr);</span>
<a name="l00223"></a>00223       <span class="comment">//HandleScaler(kMaxScalerChannels,sclrsize,sclrptr,scrtsize,scrtptr,event);</span>
<a name="l00224"></a>00224     }
<a name="l00225"></a>00225   <span class="keywordflow">else</span>
<a name="l00226"></a>00226     {
<a name="l00227"></a>00227       <span class="comment">// unknown event type</span>
<a name="l00228"></a>00228       <span class="keyword">event</span>.Print();
<a name="l00229"></a>00229     }
<a name="l00230"></a>00230 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a02459e0090feced3b21974cef795351a_cgraph.png" border="0" usemap="#a00049_a02459e0090feced3b21974cef795351a_cgraph_map" alt=""></div>
<map name="a00049_a02459e0090feced3b21974cef795351a_cgraph_map" id="a00049_a02459e0090feced3b21974cef795351a_cgraph">
<area shape="rect" id="node3" href="a00049.html#a1700345458ef0b50773df63aad4b9be9" title="HandleSample" alt="" coords="200,5,317,35"/><area shape="rect" id="node5" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a" title="TDirectory::Get" alt="" coords="367,5,495,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a02459e0090feced3b21974cef795351a_icgraph.png" border="0" usemap="#a00049_a02459e0090feced3b21974cef795351a_icgraph_map" alt=""></div>
<map name="a00049_a02459e0090feced3b21974cef795351a_icgraph_map" id="a00049_a02459e0090feced3b21974cef795351a_icgraph">
<area shape="rect" id="node3" href="a00049.html#a248b55c42bdb565a94be7790a08f2be6" title="eventHandler" alt="" coords="211,5,325,35"/><area shape="rect" id="node5" href="a00049.html#a6973be6408175a61a9cb696648b4959c" title="ProcessMidasFile" alt="" coords="201,59,335,88"/><area shape="rect" id="node7" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="385,59,439,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1700345458ef0b50773df63aad4b9be9"></a><!-- doxytag: member="analyzer.cxx::HandleSample" ref="a1700345458ef0b50773df63aad4b9be9" args="(int ichan, void *ptr, int wsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleSample </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ichan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>wsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00157">157</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00070_source.html#l00039">gDirectory</a>, <a class="el" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a">TDirectory::Get()</a>, <a class="el" href="a00139_source.html#l00288">gManaHistosFolder</a>, and <a class="el" href="a00049_source.html#l00049">gOutputFile</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00189">HandleMidasEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158 {
<a name="l00159"></a>00159   uint16_t *samples = (uint16_t*) ptr;
<a name="l00160"></a>00160   <span class="keywordtype">int</span> numSamples = wsize;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162   <span class="keywordflow">if</span> (numSamples != 512)
<a name="l00163"></a>00163     <span class="keywordflow">return</span>;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165   <span class="keywordtype">char</span> name[256];
<a name="l00166"></a>00166   sprintf(name, <span class="stringliteral">&quot;channel%d&quot;</span>, ichan);
<a name="l00167"></a>00167 
<a name="l00168"></a>00168   <span class="keywordflow">if</span> (<a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>)
<a name="l00169"></a>00169     <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>-&gt;cd();
<a name="l00170"></a>00170 
<a name="l00171"></a>00171   TH1D* samplePlot = (TH1D*)<a class="code" href="a00070.html#a5bbe8c15751fe59280d72d356ff00f07">gDirectory</a>-&gt;<a class="code" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a">Get</a>(name);
<a name="l00172"></a>00172 
<a name="l00173"></a>00173   <span class="keywordflow">if</span> (!samplePlot)
<a name="l00174"></a>00174     {
<a name="l00175"></a>00175       printf(<span class="stringliteral">&quot;Create [%s]\n&quot;</span>, name);
<a name="l00176"></a>00176       samplePlot = <span class="keyword">new</span> TH1D(name, name, numSamples, 0, numSamples);
<a name="l00177"></a>00177       <span class="comment">//samplePlot-&gt;SetMinimum(0);</span>
<a name="l00178"></a>00178 <span class="preprocessor">#ifdef HAVE_MIDASSERVER</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (<a class="code" href="a00058.html#a5fa7695c5cc2f2ec1604f9c83bc7c737">gManaHistosFolder</a>)
<a name="l00180"></a>00180         <a class="code" href="a00058.html#a5fa7695c5cc2f2ec1604f9c83bc7c737">gManaHistosFolder</a>-&gt;Add(samplePlot);
<a name="l00181"></a>00181 <span class="preprocessor">#endif</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>    }
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ti=0; ti&lt;numSamples; ti++)
<a name="l00185"></a>00185     samplePlot-&gt;SetBinContent(ti, samples[ti]);
<a name="l00186"></a>00186 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a1700345458ef0b50773df63aad4b9be9_cgraph.png" border="0" usemap="#a00049_a1700345458ef0b50773df63aad4b9be9_cgraph_map" alt=""></div>
<map name="a00049_a1700345458ef0b50773df63aad4b9be9_cgraph_map" id="a00049_a1700345458ef0b50773df63aad4b9be9_cgraph">
<area shape="rect" id="node3" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a" title="TDirectory::Get" alt="" coords="172,5,300,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a1700345458ef0b50773df63aad4b9be9_icgraph.png" border="0" usemap="#a00049_a1700345458ef0b50773df63aad4b9be9_icgraph_map" alt=""></div>
<map name="a00049_a1700345458ef0b50773df63aad4b9be9_icgraph_map" id="a00049_a1700345458ef0b50773df63aad4b9be9_icgraph">
<area shape="rect" id="node3" href="a00049.html#a02459e0090feced3b21974cef795351a" title="HandleMidasEvent" alt="" coords="171,32,317,61"/><area shape="rect" id="node5" href="a00049.html#a248b55c42bdb565a94be7790a08f2be6" title="eventHandler" alt="" coords="376,5,491,35"/><area shape="rect" id="node7" href="a00049.html#a6973be6408175a61a9cb696648b4959c" title="ProcessMidasFile" alt="" coords="367,59,500,88"/><area shape="rect" id="node9" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="551,59,604,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97ee70a8770dc30d06c744b24eb2fcfc"></a><!-- doxytag: member="analyzer.cxx::help" ref="a97ee70a8770dc30d06c744b24eb2fcfc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void help </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00499">499</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00521">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00500"></a>00500 {
<a name="l00501"></a>00501   printf(<span class="stringliteral">&quot;\nUsage:\n&quot;</span>);
<a name="l00502"></a>00502   printf(<span class="stringliteral">&quot;\n./analyzer.exe [-h] [-Hhostname] [-Eexptname] [-eMaxEvents] [-P9091] [-p9090] [-m] [-g] [file1 file2 ...]\n&quot;</span>);
<a name="l00503"></a>00503   printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00504"></a>00504   printf(<span class="stringliteral">&quot;\t-h: print this help message\n&quot;</span>);
<a name="l00505"></a>00505   printf(<span class="stringliteral">&quot;\t-T: test mode - start and serve a test histogram\n&quot;</span>);
<a name="l00506"></a>00506   printf(<span class="stringliteral">&quot;\t-Hhostname: connect to MIDAS experiment on given host\n&quot;</span>);
<a name="l00507"></a>00507   printf(<span class="stringliteral">&quot;\t-Eexptname: connect to this MIDAS experiment\n&quot;</span>);
<a name="l00508"></a>00508   printf(<span class="stringliteral">&quot;\t-P: Start the TNetDirectory server on specified tcp port (for use with roody -Plocalhost:9091)\n&quot;</span>);
<a name="l00509"></a>00509   printf(<span class="stringliteral">&quot;\t-p: Start the old midas histogram server on specified tcp port (for use with roody -Hlocalhost:9090)\n&quot;</span>);
<a name="l00510"></a>00510   printf(<span class="stringliteral">&quot;\t-e: Number of events to read from input data files\n&quot;</span>);
<a name="l00511"></a>00511   printf(<span class="stringliteral">&quot;\t-m: Enable memory leak debugging\n&quot;</span>);
<a name="l00512"></a>00512   printf(<span class="stringliteral">&quot;\t-g: Enable graphics display when processing data files\n&quot;</span>);
<a name="l00513"></a>00513   printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00514"></a>00514   printf(<span class="stringliteral">&quot;Example1: analyze online data: ./analyzer.exe -P9091\n&quot;</span>);
<a name="l00515"></a>00515   printf(<span class="stringliteral">&quot;Example2: analyze existing data: ./analyzer.exe /data/alpha/current/run00500.mid\n&quot;</span>);
<a name="l00516"></a>00516   exit(1);
<a name="l00517"></a>00517 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a97ee70a8770dc30d06c744b24eb2fcfc_icgraph.png" border="0" usemap="#a00049_a97ee70a8770dc30d06c744b24eb2fcfc_icgraph_map" alt=""></div>
<map name="a00049_a97ee70a8770dc30d06c744b24eb2fcfc_icgraph_map" id="a00049_a97ee70a8770dc30d06c744b24eb2fcfc_icgraph">
<area shape="rect" id="node3" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="105,5,159,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a><!-- doxytag: member="analyzer.cxx::main" ref="a0ddf1224851353fc92bfbff6f499fa97" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00521">521</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00019.html#ad44b6f5729763e2c82528f74b092c7c9">TDirectory::cd()</a>, <a class="el" href="a00144_source.html#l00954">XmlServer::Export()</a>, <a class="el" href="a00049_source.html#l00046">gEventCutoff</a>, <a class="el" href="a00049_source.html#l00045">gIsOffline</a>, <a class="el" href="a00049_source.html#l00499">help()</a>, <a class="el" href="a00049_source.html#l00241">ProcessMidasFile()</a>, <a class="el" href="a00144_source.html#l00947">XmlServer::SetVerbose()</a>, <a class="el" href="a00144_source.html#l01008">XmlServer::Start()</a>, <a class="el" href="a00139_source.html#l00290">StartMidasServer()</a>, and <a class="el" href="a00140_source.html#l00672">StartNetDirectoryServer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00522"></a>00522 {
<a name="l00523"></a>00523    setbuf(stdout,NULL);
<a name="l00524"></a>00524    setbuf(stderr,NULL);
<a name="l00525"></a>00525  
<a name="l00526"></a>00526    signal(SIGILL,  SIG_DFL);
<a name="l00527"></a>00527    signal(SIGBUS,  SIG_DFL);
<a name="l00528"></a>00528    signal(SIGSEGV, SIG_DFL);
<a name="l00529"></a>00529    signal(SIGPIPE, SIG_DFL);
<a name="l00530"></a>00530  
<a name="l00531"></a>00531    std::vector&lt;std::string&gt; args;
<a name="l00532"></a>00532    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;argc; i++)
<a name="l00533"></a>00533      {
<a name="l00534"></a>00534        <span class="keywordflow">if</span> (strcmp(argv[i],<span class="stringliteral">&quot;-h&quot;</span>)==0)
<a name="l00535"></a>00535          <a class="code" href="a00049.html#a97ee70a8770dc30d06c744b24eb2fcfc">help</a>(); <span class="comment">// does not return</span>
<a name="l00536"></a>00536        args.push_back(argv[i]);
<a name="l00537"></a>00537      }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539    TApplication *app = <span class="keyword">new</span> TApplication(<span class="stringliteral">&quot;rootana&quot;</span>, &amp;argc, argv);
<a name="l00540"></a>00540 
<a name="l00541"></a>00541    <span class="keywordflow">if</span>(gROOT-&gt;IsBatch()) {
<a name="l00542"></a>00542         printf(<span class="stringliteral">&quot;Cannot run in batch mode\n&quot;</span>);
<a name="l00543"></a>00543         <span class="keywordflow">return</span> 1;
<a name="l00544"></a>00544    }
<a name="l00545"></a>00545 
<a name="l00546"></a>00546    <span class="keywordtype">bool</span> forceEnableGraphics = <span class="keyword">false</span>;
<a name="l00547"></a>00547    <span class="keywordtype">bool</span> testMode = <span class="keyword">false</span>;
<a name="l00548"></a>00548    <span class="keywordtype">int</span>  oldTcpPort = 0;
<a name="l00549"></a>00549    <span class="keywordtype">int</span>  tcpPort = 0;
<a name="l00550"></a>00550    <span class="keywordtype">int</span>  xmlTcpPort = 0;
<a name="l00551"></a>00551    <span class="keyword">const</span> <span class="keywordtype">char</span>* hostname = NULL;
<a name="l00552"></a>00552    <span class="keyword">const</span> <span class="keywordtype">char</span>* exptname = NULL;
<a name="l00553"></a>00553 
<a name="l00554"></a>00554    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;args.size(); i++) <span class="comment">// loop over the commandline options</span>
<a name="l00555"></a>00555      {
<a name="l00556"></a>00556        <span class="keyword">const</span> <span class="keywordtype">char</span>* arg = args[i].c_str();
<a name="l00557"></a>00557        <span class="comment">//printf(&quot;argv[%d] is %s\n&quot;,i,arg);</span>
<a name="l00558"></a>00558            
<a name="l00559"></a>00559        <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-e&quot;</span>,2)==0)  <span class="comment">// Event cutoff flag (only applicable in offline mode)</span>
<a name="l00560"></a>00560          <a class="code" href="a00049.html#a23df21001564909dbffa60ba0f52ddbb">gEventCutoff</a> = atoi(arg+2);
<a name="l00561"></a>00561        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-m&quot;</span>,2)==0) <span class="comment">// Enable memory debugging</span>
<a name="l00562"></a>00562          <a class="code" href="a00049.html#a91cc1a3c62679e579b1415884e2534e6">gEnableShowMem</a> = <span class="keyword">true</span>;
<a name="l00563"></a>00563        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-p&quot;</span>,2)==0) <span class="comment">// Set the histogram server port</span>
<a name="l00564"></a>00564          oldTcpPort = atoi(arg+2);
<a name="l00565"></a>00565        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-P&quot;</span>,2)==0) <span class="comment">// Set the histogram server port</span>
<a name="l00566"></a>00566          tcpPort = atoi(arg+2);
<a name="l00567"></a>00567        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-X&quot;</span>,2)==0) <span class="comment">// Set the histogram server port</span>
<a name="l00568"></a>00568          xmlTcpPort = atoi(arg+2);
<a name="l00569"></a>00569        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg,<span class="stringliteral">&quot;-T&quot;</span>)==0)
<a name="l00570"></a>00570          testMode = <span class="keyword">true</span>;
<a name="l00571"></a>00571        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg,<span class="stringliteral">&quot;-g&quot;</span>)==0)
<a name="l00572"></a>00572          forceEnableGraphics = <span class="keyword">true</span>;
<a name="l00573"></a>00573        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-H&quot;</span>,2)==0)
<a name="l00574"></a>00574          hostname = strdup(arg+2);
<a name="l00575"></a>00575        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-E&quot;</span>,2)==0)
<a name="l00576"></a>00576          exptname = strdup(arg+2);
<a name="l00577"></a>00577        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg,<span class="stringliteral">&quot;-h&quot;</span>)==0)
<a name="l00578"></a>00578          <a class="code" href="a00049.html#a97ee70a8770dc30d06c744b24eb2fcfc">help</a>(); <span class="comment">// does not return</span>
<a name="l00579"></a>00579        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arg[0] == <span class="charliteral">&apos;-&apos;</span>)
<a name="l00580"></a>00580          <a class="code" href="a00049.html#a97ee70a8770dc30d06c744b24eb2fcfc">help</a>(); <span class="comment">// does not return</span>
<a name="l00581"></a>00581     }
<a name="l00582"></a>00582     
<a name="l00583"></a>00583    <a class="code" href="a00008.html">MainWindow</a> mainWindow(gClient-&gt;GetRoot(), 200, 300);
<a name="l00584"></a>00584 
<a name="l00585"></a>00585    gROOT-&gt;cd();
<a name="l00586"></a>00586    <a class="code" href="a00049.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a> = <span class="keyword">new</span> <a class="code" href="a00019.html">TDirectory</a>(<span class="stringliteral">&quot;rootana&quot;</span>, <span class="stringliteral">&quot;rootana online plots&quot;</span>);
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 <span class="preprocessor">#ifdef HAVE_MIDASSERVER</span>
<a name="l00589"></a>00589 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (oldTcpPort)
<a name="l00590"></a>00590      <a class="code" href="a00058.html#aeca754799402cdd99d6eacc8f454d423">StartMidasServer</a>(oldTcpPort);
<a name="l00591"></a>00591 <span class="preprocessor">#else</span>
<a name="l00592"></a>00592 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (oldTcpPort)
<a name="l00593"></a>00593      fprintf(stderr,<span class="stringliteral">&quot;ERROR: No support for the old midas server!\n&quot;</span>);
<a name="l00594"></a>00594 <span class="preprocessor">#endif</span>
<a name="l00595"></a>00595 <span class="preprocessor"></span><span class="preprocessor">#ifdef HAVE_LIBNETDIRECTORY</span>
<a name="l00596"></a>00596 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (tcpPort)
<a name="l00597"></a>00597      <a class="code" href="a00060.html#af280d129baa10e736ba821d2f6bf4682">StartNetDirectoryServer</a>(tcpPort, <a class="code" href="a00049.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a>);
<a name="l00598"></a>00598 <span class="preprocessor">#else</span>
<a name="l00599"></a>00599 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (tcpPort)
<a name="l00600"></a>00600      fprintf(stderr,<span class="stringliteral">&quot;ERROR: No support for the TNetDirectory server!\n&quot;</span>);
<a name="l00601"></a>00601 <span class="preprocessor">#endif</span>
<a name="l00602"></a>00602 <span class="preprocessor"></span><span class="preprocessor">#ifdef HAVE_XMLSERVER</span>
<a name="l00603"></a>00603 <span class="preprocessor"></span>   <a class="code" href="a00048.html">XmlServer</a>* xmlServer = NULL;
<a name="l00604"></a>00604    <span class="keywordflow">if</span> (xmlTcpPort)
<a name="l00605"></a>00605      {
<a name="l00606"></a>00606         xmlServer = <span class="keyword">new</span> <a class="code" href="a00048.html">XmlServer</a>();
<a name="l00607"></a>00607         xmlServer-&gt;<a class="code" href="a00048.html#a69b01f1e5f2b0879f25319ba702fde0b">SetVerbose</a>(<span class="keyword">true</span>);
<a name="l00608"></a>00608         xmlServer-&gt;<a class="code" href="a00048.html#af7d8699ca08edc3142c9b1339c4d92d6">Start</a>(xmlTcpPort);
<a name="l00609"></a>00609         xmlServer-&gt;<a class="code" href="a00048.html#a41a96e8328c9df0269ed240f2d70d015">Export</a>(<a class="code" href="a00049.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a>, <a class="code" href="a00049.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a>-&gt;GetName());
<a name="l00610"></a>00610      }
<a name="l00611"></a>00611 <span class="preprocessor">#else</span>
<a name="l00612"></a>00612 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (xmlTcpPort)
<a name="l00613"></a>00613      fprintf(stderr,<span class="stringliteral">&quot;ERROR: No support for the XML Server!\n&quot;</span>);
<a name="l00614"></a>00614 <span class="preprocessor">#endif</span>
<a name="l00615"></a>00615 <span class="preprocessor"></span>         
<a name="l00616"></a>00616    <a class="code" href="a00049.html#a9c47b919164f4d2be7fcf95761311698">gIsOffline</a> = <span class="keyword">false</span>;
<a name="l00617"></a>00617 
<a name="l00618"></a>00618    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;args.size(); i++)
<a name="l00619"></a>00619      {
<a name="l00620"></a>00620        <span class="keyword">const</span> <span class="keywordtype">char</span>* arg = args[i].c_str();
<a name="l00621"></a>00621 
<a name="l00622"></a>00622        <span class="keywordflow">if</span> (arg[0] != <span class="charliteral">&apos;-&apos;</span>)  
<a name="l00623"></a>00623          {  
<a name="l00624"></a>00624            <a class="code" href="a00049.html#a9c47b919164f4d2be7fcf95761311698">gIsOffline</a> = <span class="keyword">true</span>;
<a name="l00625"></a>00625            <span class="comment">//gEnableGraphics = false;</span>
<a name="l00626"></a>00626            <span class="comment">//gEnableGraphics |= forceEnableGraphics;</span>
<a name="l00627"></a>00627            <a class="code" href="a00049.html#a6973be6408175a61a9cb696648b4959c">ProcessMidasFile</a>(app,arg);
<a name="l00628"></a>00628          }
<a name="l00629"></a>00629      }
<a name="l00630"></a>00630 
<a name="l00631"></a>00631    <span class="keywordflow">if</span> (testMode)
<a name="l00632"></a>00632      {
<a name="l00633"></a>00633        <a class="code" href="a00049.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a>-&gt;<a class="code" href="a00019.html#ad44b6f5729763e2c82528f74b092c7c9">cd</a>();
<a name="l00634"></a>00634        TH1D* hh = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;test&quot;</span>, 100, 0, 100);
<a name="l00635"></a>00635        hh-&gt;Fill(1);
<a name="l00636"></a>00636        hh-&gt;Fill(10);
<a name="l00637"></a>00637        hh-&gt;Fill(50);
<a name="l00638"></a>00638 
<a name="l00639"></a>00639        app-&gt;Run(kTRUE);
<a name="l00640"></a>00640        <span class="keywordflow">return</span> 0;
<a name="l00641"></a>00641      }
<a name="l00642"></a>00642 
<a name="l00643"></a>00643    <span class="comment">// if we processed some data files,</span>
<a name="l00644"></a>00644    <span class="comment">// do not go into online mode.</span>
<a name="l00645"></a>00645    <span class="keywordflow">if</span> (<a class="code" href="a00049.html#a9c47b919164f4d2be7fcf95761311698">gIsOffline</a>)
<a name="l00646"></a>00646      <span class="keywordflow">return</span> 0;
<a name="l00647"></a>00647            
<a name="l00648"></a>00648    <a class="code" href="a00049.html#a9c47b919164f4d2be7fcf95761311698">gIsOffline</a> = <span class="keyword">false</span>;
<a name="l00649"></a>00649    <span class="comment">//gEnableGraphics = true;</span>
<a name="l00650"></a>00650 <span class="preprocessor">#ifdef HAVE_MIDAS</span>
<a name="l00651"></a>00651 <span class="preprocessor"></span>   ProcessMidasOnline(app, hostname, exptname);
<a name="l00652"></a>00652 <span class="preprocessor">#endif</span>
<a name="l00653"></a>00653 <span class="preprocessor"></span>   
<a name="l00654"></a>00654    <span class="keywordflow">return</span> 0;
<a name="l00655"></a>00655 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#a00049_a0ddf1224851353fc92bfbff6f499fa97_cgraph_map" alt=""></div>
<map name="a00049_a0ddf1224851353fc92bfbff6f499fa97_cgraph_map" id="a00049_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" id="node3" href="a00019.html#ad44b6f5729763e2c82528f74b092c7c9" title="TDirectory::cd" alt="" coords="147,158,264,187"/><area shape="rect" id="node5" href="a00048.html#a41a96e8328c9df0269ed240f2d70d015" title="XmlServer::Export" alt="" coords="132,211,279,241"/><area shape="rect" id="node7" href="a00049.html#a97ee70a8770dc30d06c744b24eb2fcfc" title="help" alt="" coords="180,265,231,294"/><area shape="rect" id="node9" href="a00049.html#a6973be6408175a61a9cb696648b4959c" title="ProcessMidasFile" alt="" coords="139,318,272,347"/><area shape="rect" id="node58" href="a00048.html#a69b01f1e5f2b0879f25319ba702fde0b" title="XmlServer::SetVerbose" alt="" coords="116,371,295,401"/><area shape="rect" id="node60" href="a00048.html#af7d8699ca08edc3142c9b1339c4d92d6" title="XmlServer::Start" alt="" coords="137,425,273,454"/><area shape="rect" id="node101" href="a00058.html#aeca754799402cdd99d6eacc8f454d423" title="StartMidasServer" alt="" coords="136,478,275,507"/><area shape="rect" id="node103" href="a00060.html#af280d129baa10e736ba821d2f6bf4682" title="StartNetDirectoryServer" alt="" coords="111,531,300,561"/><area shape="rect" id="node11" href="a00031.html#a693315cd892c50575f44c46080a339b8" title="Close input file." alt="" coords="707,27,843,57"/><area shape="rect" id="node13" href="a00049.html#aafa783d6b432e3fb42e1fe5c97c4c9a5" title="endRun" alt="" coords="431,214,503,243"/><area shape="rect" id="node15" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer" alt="" coords="685,134,864,163"/><area shape="rect" id="node21" href="a00030.html#acbaff1df97247584f3772ac8b5df720e" title="return the serial number" alt="" coords="349,371,584,401"/><area shape="rect" id="node23" href="a00049.html#a02459e0090feced3b21974cef795351a" title="HandleMidasEvent" alt="" coords="393,505,540,534"/><area shape="rect" id="node29" href="a00031.html#a0f39c35bb559a648f46a5b0d05c16768" title="Open input file." alt="" coords="399,81,535,110"/><area shape="rect" id="node34" href="a00031.html#acd25594fcc51873a05fd16ec24979940" title="Read one event from the file." alt="" coords="400,318,533,347"/><area shape="rect" id="node52" href="a00049.html#a4e082e91477310a20b1befbfe7917a79" title="startRun" alt="" coords="427,611,507,641"/><area shape="rect" id="node17" href="a00030.html#a49f5869d31fb4f9ec1f6c9db12050fee" title="allocate data buffer using the existing event header" alt="" coords="965,134,1173,163"/><area shape="rect" id="node19" href="a00030.html#a7431aed59b35c7850894ea8fafd01964" title="validate the event length" alt="" coords="1221,161,1413,190"/><area shape="rect" id="node25" href="a00049.html#a1700345458ef0b50773df63aad4b9be9" title="HandleSample" alt="" coords="716,558,833,587"/><area shape="rect" id="node27" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a" title="TDirectory::Get" alt="" coords="1005,531,1133,561"/><area shape="rect" id="node32" href="a00136.html#acc3a0586541b034e8d61632b1c093dde" title="hasSuffix" alt="" coords="733,81,816,110"/><area shape="rect" id="node36" href="a00030.html#a2eaf81576e2c7b54ab3af3ec1da749bd" title="clear event for reuse" alt="" coords="697,238,852,267"/><area shape="rect" id="node39" href="a00030.html#a339db17cb1f0d30c298d008fa380f164" title="return the event size" alt="" coords="672,291,877,321"/><area shape="rect" id="node41" href="a00030.html#a185596086a78015119f24c5e5132f2d0" title="return pointer to the event header" alt="" coords="657,345,892,374"/><area shape="rect" id="node44" href="a00136.html#abd66d29dd5da5c7324f68debe264f1c0" title="readpipe" alt="" coords="735,398,815,427"/><area shape="rect" id="node46" href="a00030.html#a0eb2dd100dd1f4e269407b406bb072d7" title="convert event data between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)" alt="" coords="677,451,872,481"/><area shape="rect" id="node50" href="a00030.html#aff76bdda6b1c357c47047bbc1a01c11d" title="convert event header between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)..." alt="" coords="632,505,917,534"/><area shape="rect" id="node48" href="a00030.html#a892acc37f677273cb286c1cc18174bf1" title="returns &quot;true&quot; if event uses 32&#45;bit banks" alt="" coords="980,451,1159,481"/><area shape="rect" id="node54" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc" title="NetDirectoryExport" alt="" coords="696,611,853,641"/><area shape="rect" id="node56" href="a00045.html#ab282d9685e765d1fe15254a22507af31" title="Read a boolean value, midas type TID_BOOL." alt="" coords="680,665,869,694"/><area shape="rect" id="node62" href="a00144.html#a83a76a4595c89afdc909f166074de672" title="xsocket_listener" alt="" coords="400,758,533,787"/><area shape="rect" id="node64" href="a00144.html#abdd83f68f9a66cea6b4ee2b2058acd90" title="xroot_server_thread" alt="" coords="695,875,855,905"/><area shape="rect" id="node66" href="a00144.html#adc52ec5b655b3512a1b31968a6bab908" title="FindTopLevelObject" alt="" coords="992,585,1147,614"/><area shape="rect" id="node68" href="a00140.html#a1f94c9de379d617293cd1e6f6a3ff22f" title="FollowPath" alt="" coords="1023,638,1116,667"/><area shape="rect" id="node70" href="a00019.html#aba49bc8f34765ac6b7844203f9a4620f" title="TDirectory::GetList" alt="" coords="1240,717,1395,746"/><area shape="rect" id="node72" href="a00019.html#af264c3df01495cae22aa6b88f31cc123" title="TDirectory::GetListOfKeys" alt="" coords="968,795,1171,825"/><area shape="rect" id="node74" href="a00144.html#a053a3ba20035dfb37ea26fd81c393aa6" title="HtmlDecode" alt="" coords="1016,849,1123,878"/><area shape="rect" id="node78" href="a00144.html#aa0aeef175dcb6b37a292c9f1aae7d9da" title="HtmlEncode" alt="" coords="1265,953,1369,982"/><area shape="rect" id="node80" href="a00144.html#a3dbece18942b9ad9a9c631c6f60d7911" title="HtmlTag" alt="" coords="1279,1033,1356,1062"/><area shape="rect" id="node82" href="a00144.html#a187edeeeaec458bf6bc0cfe1e1d9fe4c" title="MakeHtmlEntry" alt="" coords="1005,953,1133,982"/><area shape="rect" id="node85" href="a00144.html#a1944e65b118f21df09716d3d74796071" title="MakeXmlEntry" alt="" coords="1009,1006,1129,1035"/><area shape="rect" id="node89" href="a00144.html#a9e67f6ff65e00e74a11c61ed6acfc078" title="ResetObject" alt="" coords="1015,742,1124,771"/><area shape="rect" id="node92" href="a00144.html#ae83e9ccf20e9cde693b374c17a56c69f" title="SendFile" alt="" coords="1031,1161,1108,1190"/><area shape="rect" id="node94" href="a00144.html#a97cd2fd5714753ff4e960707a1bc4b79" title="SendHttpReply" alt="" coords="1256,1135,1379,1165"/><area shape="rect" id="node99" href="a00046.html#a68223ed16c1ebd4d81ca8c93a020ee8f" title="XLockRootGuard::Unlock" alt="" coords="976,1214,1163,1243"/><area shape="rect" id="node76" href="a00144.html#ae53e2103a7c5a141855df7ee2e7b0611" title="atohex" alt="" coords="1283,849,1352,878"/><area shape="rect" id="node96" href="a00144.html#a7d0dbb6b8de3479fe92f70b556703bd5" title="SendString" alt="" coords="1463,1135,1556,1165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6973be6408175a61a9cb696648b4959c"></a><!-- doxytag: member="analyzer.cxx::ProcessMidasFile" ref="a6973be6408175a61a9cb696648b4959c" args="(TApplication *app, const char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ProcessMidasFile </td>
          <td>(</td>
          <td class="paramtype">TApplication *&nbsp;</td>
          <td class="paramname"> <em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00241">241</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00136_source.html#l00374">TMidasFile::Close()</a>, <a class="el" href="a00049_source.html#l00135">endRun()</a>, <a class="el" href="a00135_source.html#l00118">TMidasEvent::GetData()</a>, <a class="el" href="a00135_source.html#l00103">TMidasEvent::GetSerialNumber()</a>, <a class="el" href="a00049_source.html#l00046">gEventCutoff</a>, <a class="el" href="a00049_source.html#l00042">gRunNumber</a>, <a class="el" href="a00049_source.html#l00189">HandleMidasEvent()</a>, <a class="el" href="a00136_source.html#l00050">TMidasFile::Open()</a>, <a class="el" href="a00136_source.html#l00279">TMidasFile::Read()</a>, and <a class="el" href="a00049_source.html#l00104">startRun()</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00521">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00242"></a>00242 {
<a name="l00243"></a>00243   <a class="code" href="a00031.html" title="Reader for MIDAS .mid files.">TMidasFile</a> f;
<a name="l00244"></a>00244   <span class="keywordtype">bool</span> tryOpen = f.<a class="code" href="a00031.html#a0f39c35bb559a648f46a5b0d05c16768" title="Open input file.">Open</a>(fname);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246   <span class="keywordflow">if</span> (!tryOpen)
<a name="l00247"></a>00247     {
<a name="l00248"></a>00248       printf(<span class="stringliteral">&quot;Cannot open input file \&quot;%s\&quot;\n&quot;</span>,fname);
<a name="l00249"></a>00249       <span class="keywordflow">return</span> -1;
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252   <span class="keywordtype">int</span> i=0;
<a name="l00253"></a>00253   <span class="keywordflow">while</span> (1)
<a name="l00254"></a>00254     {
<a name="l00255"></a>00255       <a class="code" href="a00030.html" title="MIDAS event.">TMidasEvent</a> event;
<a name="l00256"></a>00256       <span class="keywordflow">if</span> (!f.<a class="code" href="a00031.html#acd25594fcc51873a05fd16ec24979940" title="Read one event from the file.">Read</a>(&amp;event))
<a name="l00257"></a>00257         <span class="keywordflow">break</span>;
<a name="l00258"></a>00258 
<a name="l00259"></a>00259       <span class="keywordtype">int</span> eventId = <span class="keyword">event</span>.GetEventId();
<a name="l00260"></a>00260       <span class="comment">//printf(&quot;Have an event of type %d\n&quot;,eventId);</span>
<a name="l00261"></a>00261 
<a name="l00262"></a>00262       <span class="keywordflow">if</span> ((eventId &amp; 0xFFFF) == 0x8000)
<a name="l00263"></a>00263         {
<a name="l00264"></a>00264           <span class="comment">// begin run</span>
<a name="l00265"></a>00265           <span class="keyword">event</span>.Print();
<a name="l00266"></a>00266 
<a name="l00267"></a>00267           <span class="comment">//char buf[256];</span>
<a name="l00268"></a>00268           <span class="comment">//memset(buf,0,sizeof(buf));</span>
<a name="l00269"></a>00269           <span class="comment">//memcpy(buf,event.GetData(),255);</span>
<a name="l00270"></a>00270           <span class="comment">//printf(&quot;buf is [%s]\n&quot;,buf);</span>
<a name="l00271"></a>00271 
<a name="l00272"></a>00272           <span class="comment">//</span>
<a name="l00273"></a>00273           <span class="comment">// Load ODB contents from the ODB XML file</span>
<a name="l00274"></a>00274           <span class="comment">//</span>
<a name="l00275"></a>00275           <span class="keywordflow">if</span> (<a class="code" href="a00049.html#a04f129423143dbb41b65a5de57a71b43">gOdb</a>)
<a name="l00276"></a>00276             <span class="keyword">delete</span> <a class="code" href="a00049.html#a04f129423143dbb41b65a5de57a71b43">gOdb</a>;
<a name="l00277"></a>00277           <a class="code" href="a00049.html#a04f129423143dbb41b65a5de57a71b43">gOdb</a> = <span class="keyword">new</span> <a class="code" href="a00047.html" title="Access to ODB saved in XML format inside midas .mid files.">XmlOdb</a>(event.<a class="code" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer">GetData</a>(),<span class="keyword">event</span>.GetDataSize());
<a name="l00278"></a>00278 
<a name="l00279"></a>00279           <a class="code" href="a00049.html#a4e082e91477310a20b1befbfe7917a79">startRun</a>(0,event.<a class="code" href="a00030.html#acbaff1df97247584f3772ac8b5df720e" title="return the serial number">GetSerialNumber</a>(),0);
<a name="l00280"></a>00280         }
<a name="l00281"></a>00281       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((eventId &amp; 0xFFFF) == 0x8001)
<a name="l00282"></a>00282         {
<a name="l00283"></a>00283           <span class="comment">// end run</span>
<a name="l00284"></a>00284           <span class="keyword">event</span>.Print();
<a name="l00285"></a>00285         }
<a name="l00286"></a>00286       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((eventId &amp; 0xFFFF) == 0x8002) 
<a name="l00287"></a>00287         { 
<a name="l00288"></a>00288           <span class="comment">// log message </span>
<a name="l00289"></a>00289           <span class="keyword">event</span>.Print(); 
<a name="l00290"></a>00290           printf(<span class="stringliteral">&quot;Log message: %s\n&quot;</span>, event.<a class="code" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer">GetData</a>()); 
<a name="l00291"></a>00291         } 
<a name="l00292"></a>00292       <span class="keywordflow">else</span>
<a name="l00293"></a>00293         {
<a name="l00294"></a>00294           <span class="keyword">event</span>.SetBankList();
<a name="l00295"></a>00295           <span class="comment">//event.Print();</span>
<a name="l00296"></a>00296           <a class="code" href="a00049.html#a02459e0090feced3b21974cef795351a">HandleMidasEvent</a>(event);
<a name="l00297"></a>00297         }
<a name="l00298"></a>00298         
<a name="l00299"></a>00299       <span class="keywordflow">if</span>((i%500)==0)
<a name="l00300"></a>00300         {
<a name="l00301"></a>00301           <span class="comment">//resetClock2time();</span>
<a name="l00302"></a>00302           printf(<span class="stringliteral">&quot;Processing event %d\n&quot;</span>,i);
<a name="l00303"></a>00303           <span class="comment">//SISperiodic();</span>
<a name="l00304"></a>00304           <span class="comment">//StepThroughSISBuffer();</span>
<a name="l00305"></a>00305         }
<a name="l00306"></a>00306       
<a name="l00307"></a>00307       i++;
<a name="l00308"></a>00308       <span class="keywordflow">if</span> ((<a class="code" href="a00049.html#a23df21001564909dbffa60ba0f52ddbb">gEventCutoff</a>!=0)&amp;&amp;(i&gt;=<a class="code" href="a00049.html#a23df21001564909dbffa60ba0f52ddbb">gEventCutoff</a>))
<a name="l00309"></a>00309         {
<a name="l00310"></a>00310           printf(<span class="stringliteral">&quot;Reached event %d, exiting loop.\n&quot;</span>,i);
<a name="l00311"></a>00311           <span class="keywordflow">break</span>;
<a name="l00312"></a>00312         }
<a name="l00313"></a>00313     }
<a name="l00314"></a>00314   
<a name="l00315"></a>00315   f.<a class="code" href="a00031.html#a693315cd892c50575f44c46080a339b8" title="Close input file.">Close</a>();
<a name="l00316"></a>00316 
<a name="l00317"></a>00317   <a class="code" href="a00049.html#aafa783d6b432e3fb42e1fe5c97c4c9a5">endRun</a>(0,<a class="code" href="a00049.html#a6cf028aba8f1557987171e864c6e92aa">gRunNumber</a>,0);
<a name="l00318"></a>00318 
<a name="l00319"></a>00319   <span class="comment">// start the ROOT GUI event loop</span>
<a name="l00320"></a>00320   <span class="comment">//  app-&gt;Run(kTRUE);</span>
<a name="l00321"></a>00321 
<a name="l00322"></a>00322   <span class="keywordflow">return</span> 0;
<a name="l00323"></a>00323 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a6973be6408175a61a9cb696648b4959c_cgraph.png" border="0" usemap="#a00049_a6973be6408175a61a9cb696648b4959c_cgraph_map" alt=""></div>
<map name="a00049_a6973be6408175a61a9cb696648b4959c_cgraph_map" id="a00049_a6973be6408175a61a9cb696648b4959c_cgraph">
<area shape="rect" id="node3" href="a00031.html#a693315cd892c50575f44c46080a339b8" title="Close input file." alt="" coords="547,136,683,165"/><area shape="rect" id="node5" href="a00049.html#aafa783d6b432e3fb42e1fe5c97c4c9a5" title="endRun" alt="" coords="271,59,343,88"/><area shape="rect" id="node7" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer" alt="" coords="525,255,704,284"/><area shape="rect" id="node13" href="a00030.html#acbaff1df97247584f3772ac8b5df720e" title="return the serial number" alt="" coords="189,163,424,192"/><area shape="rect" id="node15" href="a00049.html#a02459e0090feced3b21974cef795351a" title="HandleMidasEvent" alt="" coords="233,5,380,35"/><area shape="rect" id="node21" href="a00031.html#a0f39c35bb559a648f46a5b0d05c16768" title="Open input file." alt="" coords="239,216,375,245"/><area shape="rect" id="node26" href="a00031.html#acd25594fcc51873a05fd16ec24979940" title="Read one event from the file." alt="" coords="240,415,373,444"/><area shape="rect" id="node44" href="a00049.html#a4e082e91477310a20b1befbfe7917a79" title="startRun" alt="" coords="267,679,347,708"/><area shape="rect" id="node9" href="a00030.html#a49f5869d31fb4f9ec1f6c9db12050fee" title="allocate data buffer using the existing event header" alt="" coords="805,361,1013,391"/><area shape="rect" id="node11" href="a00030.html#a7431aed59b35c7850894ea8fafd01964" title="validate the event length" alt="" coords="1061,495,1253,524"/><area shape="rect" id="node17" href="a00049.html#a1700345458ef0b50773df63aad4b9be9" title="HandleSample" alt="" coords="556,5,673,35"/><area shape="rect" id="node19" href="a00019.html#af65d6b86aa0f57f7ab7cc8fc60c6558a" title="TDirectory::Get" alt="" coords="845,5,973,35"/><area shape="rect" id="node24" href="a00136.html#acc3a0586541b034e8d61632b1c093dde" title="hasSuffix" alt="" coords="573,201,656,231"/><area shape="rect" id="node28" href="a00030.html#a2eaf81576e2c7b54ab3af3ec1da749bd" title="clear event for reuse" alt="" coords="537,308,692,337"/><area shape="rect" id="node31" href="a00030.html#a339db17cb1f0d30c298d008fa380f164" title="return the event size" alt="" coords="512,361,717,391"/><area shape="rect" id="node33" href="a00030.html#a185596086a78015119f24c5e5132f2d0" title="return pointer to the event header" alt="" coords="497,415,732,444"/><area shape="rect" id="node36" href="a00136.html#abd66d29dd5da5c7324f68debe264f1c0" title="readpipe" alt="" coords="575,468,655,497"/><area shape="rect" id="node38" href="a00030.html#a0eb2dd100dd1f4e269407b406bb072d7" title="convert event data between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)" alt="" coords="517,521,712,551"/><area shape="rect" id="node42" href="a00030.html#aff76bdda6b1c357c47047bbc1a01c11d" title="convert event header between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)..." alt="" coords="472,575,757,604"/><area shape="rect" id="node40" href="a00030.html#a892acc37f677273cb286c1cc18174bf1" title="returns &quot;true&quot; if event uses 32&#45;bit banks" alt="" coords="820,521,999,551"/><area shape="rect" id="node46" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc" title="NetDirectoryExport" alt="" coords="536,732,693,761"/><area shape="rect" id="node48" href="a00045.html#ab282d9685e765d1fe15254a22507af31" title="Read a boolean value, midas type TID_BOOL." alt="" coords="520,679,709,708"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a6973be6408175a61a9cb696648b4959c_icgraph.png" border="0" usemap="#a00049_a6973be6408175a61a9cb696648b4959c_icgraph_map" alt=""></div>
<map name="a00049_a6973be6408175a61a9cb696648b4959c_icgraph_map" id="a00049_a6973be6408175a61a9cb696648b4959c_icgraph">
<area shape="rect" id="node3" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="191,5,244,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab4ac2d59faf760d2272bb679c09b793f"></a><!-- doxytag: member="analyzer.cxx::ShowMem" ref="ab4ac2d59faf760d2272bb679c09b793f" args="(const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ShowMem </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>label</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00480">480</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00481"></a>00481 {
<a name="l00482"></a>00482   <span class="keywordflow">if</span> (!<a class="code" href="a00049.html#a91cc1a3c62679e579b1415884e2534e6">gEnableShowMem</a>)
<a name="l00483"></a>00483     <span class="keywordflow">return</span> 0;
<a name="l00484"></a>00484 
<a name="l00485"></a>00485   FILE* fp = fopen(<span class="stringliteral">&quot;/proc/self/statm&quot;</span>,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l00486"></a>00486   <span class="keywordflow">if</span> (!fp)
<a name="l00487"></a>00487     <span class="keywordflow">return</span> 0;
<a name="l00488"></a>00488 
<a name="l00489"></a>00489   <span class="keywordtype">int</span> mem = 0;
<a name="l00490"></a>00490   fscanf(fp,<span class="stringliteral">&quot;%d&quot;</span>,&amp;mem);
<a name="l00491"></a>00491   fclose(fp);
<a name="l00492"></a>00492 
<a name="l00493"></a>00493   <span class="keywordflow">if</span> (label)
<a name="l00494"></a>00494     printf(<span class="stringliteral">&quot;memory at %s is %d\n&quot;</span>, label, mem);
<a name="l00495"></a>00495 
<a name="l00496"></a>00496   <span class="keywordflow">return</span> mem;
<a name="l00497"></a>00497 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4e082e91477310a20b1befbfe7917a79"></a><!-- doxytag: member="analyzer.cxx::startRun" ref="a4e082e91477310a20b1befbfe7917a79" args="(int transition, int run, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void startRun </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00104">104</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>References <a class="el" href="a00049_source.html#l00044">gIsPedestalsRun</a>, <a class="el" href="a00049_source.html#l00043">gIsRunning</a>, <a class="el" href="a00049_source.html#l00049">gOutputFile</a>, <a class="el" href="a00049_source.html#l00042">gRunNumber</a>, <a class="el" href="a00140_source.html#l00618">NetDirectoryExport()</a>, and <a class="el" href="a00045.html#ab282d9685e765d1fe15254a22507af31">VirtualOdb::odbReadBool()</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00241">ProcessMidasFile()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105 {
<a name="l00106"></a>00106   <a class="code" href="a00049.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a> = <span class="keyword">true</span>;
<a name="l00107"></a>00107   <a class="code" href="a00049.html#a6cf028aba8f1557987171e864c6e92aa">gRunNumber</a> = run;
<a name="l00108"></a>00108   <a class="code" href="a00049.html#a4b1bfdba322ba30fe8bb49e3d3b40cf3">gIsPedestalsRun</a> = <a class="code" href="a00049.html#a04f129423143dbb41b65a5de57a71b43">gOdb</a>-&gt;<a class="code" href="a00045.html#ab282d9685e765d1fe15254a22507af31" title="Read a boolean value, midas type TID_BOOL.">odbReadBool</a>(<span class="stringliteral">&quot;/experiment/edit on start/Pedestals run&quot;</span>);
<a name="l00109"></a>00109   printf(<span class="stringliteral">&quot;Begin run: %d, pedestal run: %d\n&quot;</span>, <a class="code" href="a00049.html#a6cf028aba8f1557987171e864c6e92aa">gRunNumber</a>, <a class="code" href="a00049.html#a4b1bfdba322ba30fe8bb49e3d3b40cf3">gIsPedestalsRun</a>);
<a name="l00110"></a>00110     
<a name="l00111"></a>00111   <span class="keywordflow">if</span>(<a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>!=NULL)
<a name="l00112"></a>00112   {
<a name="l00113"></a>00113     <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>-&gt;Write();
<a name="l00114"></a>00114     <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>-&gt;Close();
<a name="l00115"></a>00115     <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>=NULL;
<a name="l00116"></a>00116   }  
<a name="l00117"></a>00117 
<a name="l00118"></a>00118   <span class="keywordtype">char</span> filename[1024];
<a name="l00119"></a>00119   sprintf(filename, <span class="stringliteral">&quot;output%05d.root&quot;</span>, run);
<a name="l00120"></a>00120   <a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a> = <span class="keyword">new</span> TFile(filename, <span class="stringliteral">&quot;RECREATE&quot;</span>);
<a name="l00121"></a>00121   
<a name="l00122"></a>00122   <span class="comment">//if (gOutputFile &amp;&amp; !gOutputFile-&gt;IsOpen())</span>
<a name="l00123"></a>00123   <span class="comment">//gOutputFile = NULL;</span>
<a name="l00124"></a>00124 
<a name="l00125"></a>00125   assert(<a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>);
<a name="l00126"></a>00126   assert(<a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>-&gt;IsOpen());
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="comment">//printf(&quot;gOutputFile: %p, isOpen %d\n&quot;, gOutputFile, gOutputFile-&gt;IsOpen());</span>
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="preprocessor">#ifdef HAVE_LIBNETDIRECTORY</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>  <a class="code" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc">NetDirectoryExport</a>(<a class="code" href="a00049.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a>, <span class="stringliteral">&quot;outputFile&quot;</span>);
<a name="l00132"></a>00132 <span class="preprocessor">#endif</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span>}
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a4e082e91477310a20b1befbfe7917a79_cgraph.png" border="0" usemap="#a00049_a4e082e91477310a20b1befbfe7917a79_cgraph_map" alt=""></div>
<map name="a00049_a4e082e91477310a20b1befbfe7917a79_cgraph_map" id="a00049_a4e082e91477310a20b1befbfe7917a79_cgraph">
<area shape="rect" id="node3" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc" title="NetDirectoryExport" alt="" coords="152,5,309,35"/><area shape="rect" id="node5" href="a00045.html#ab282d9685e765d1fe15254a22507af31" title="Read a boolean value, midas type TID_BOOL." alt="" coords="136,59,325,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00049_a4e082e91477310a20b1befbfe7917a79_icgraph.png" border="0" usemap="#a00049_a4e082e91477310a20b1befbfe7917a79_icgraph_map" alt=""></div>
<map name="a00049_a4e082e91477310a20b1befbfe7917a79_icgraph_map" id="a00049_a4e082e91477310a20b1befbfe7917a79_icgraph">
<area shape="rect" id="node3" href="a00049.html#a6973be6408175a61a9cb696648b4959c" title="ProcessMidasFile" alt="" coords="137,5,271,35"/><area shape="rect" id="node5" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="321,5,375,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a91cc1a3c62679e579b1415884e2534e6"></a><!-- doxytag: member="analyzer.cxx::gEnableShowMem" ref="a91cc1a3c62679e579b1415884e2534e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00145.html#a91cc1a3c62679e579b1415884e2534e6">gEnableShowMem</a> = false<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00478">478</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a23df21001564909dbffa60ba0f52ddbb"></a><!-- doxytag: member="analyzer.cxx::gEventCutoff" ref="a23df21001564909dbffa60ba0f52ddbb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00052.html#a23df21001564909dbffa60ba0f52ddbb">gEventCutoff</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00046">46</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00521">main()</a>, and <a class="el" href="a00049_source.html#l00241">ProcessMidasFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a9c47b919164f4d2be7fcf95761311698"></a><!-- doxytag: member="analyzer.cxx::gIsOffline" ref="a9c47b919164f4d2be7fcf95761311698" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00053.html#a9c47b919164f4d2be7fcf95761311698">gIsOffline</a> = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00045">45</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00521">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b1bfdba322ba30fe8bb49e3d3b40cf3"></a><!-- doxytag: member="analyzer.cxx::gIsPedestalsRun" ref="a4b1bfdba322ba30fe8bb49e3d3b40cf3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00053.html#a4b1bfdba322ba30fe8bb49e3d3b40cf3">gIsPedestalsRun</a> = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00044">44</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00189">HandleMidasEvent()</a>, and <a class="el" href="a00049_source.html#l00104">startRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a67d96e62cbb9dfae0655f222220cec"></a><!-- doxytag: member="analyzer.cxx::gIsRunning" ref="a2a67d96e62cbb9dfae0655f222220cec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00053.html#a2a67d96e62cbb9dfae0655f222220cec">gIsRunning</a> = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00043">43</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00471">MainWindow::CloseWindow()</a>, <a class="el" href="a00049_source.html#l00135">endRun()</a>, <a class="el" href="a00049_source.html#l00189">HandleMidasEvent()</a>, <a class="el" href="a00049_source.html#l00402">MainWindow::ProcessMessage()</a>, and <a class="el" href="a00049_source.html#l00104">startRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a04f129423143dbb41b65a5de57a71b43"></a><!-- doxytag: member="analyzer.cxx::gOdb" ref="a04f129423143dbb41b65a5de57a71b43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00045.html">VirtualOdb</a>* <a class="el" href="a00146.html#a04f129423143dbb41b65a5de57a71b43">gOdb</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00050">50</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a407abaf72a170e5f72bd9895d1321d75"></a><!-- doxytag: member="analyzer.cxx::gOnlineHistDir" ref="a407abaf72a170e5f72bd9895d1321d75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00019.html">TDirectory</a>* <a class="el" href="a00145.html#a407abaf72a170e5f72bd9895d1321d75">gOnlineHistDir</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00048">48</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="adfc671c1d981c8748737e93f0e170dcb"></a><!-- doxytag: member="analyzer.cxx::gOutputFile" ref="adfc671c1d981c8748737e93f0e170dcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TFile* <a class="el" href="a00145.html#adfc671c1d981c8748737e93f0e170dcb">gOutputFile</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00049">49</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00135">endRun()</a>, <a class="el" href="a00049_source.html#l00157">HandleSample()</a>, and <a class="el" href="a00049_source.html#l00104">startRun()</a>.</p>

</div>
</div>
<a class="anchor" id="a6cf028aba8f1557987171e864c6e92aa"></a><!-- doxytag: member="analyzer.cxx::gRunNumber" ref="a6cf028aba8f1557987171e864c6e92aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00053.html#a6cf028aba8f1557987171e864c6e92aa">gRunNumber</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00049_source.html#l00042">42</a> of file <a class="el" href="a00049_source.html">analyzer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00049_source.html#l00471">MainWindow::CloseWindow()</a>, <a class="el" href="a00049_source.html#l00135">endRun()</a>, <a class="el" href="a00049_source.html#l00402">MainWindow::ProcessMessage()</a>, <a class="el" href="a00049_source.html#l00241">ProcessMidasFile()</a>, and <a class="el" href="a00049_source.html#l00104">startRun()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 May 2013 for ROOT Analyzer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
