<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ROOT Analyzer: TRootanaEventLoop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TRootanaEventLoop Class Reference</h1><!-- doxytag: class="TRootanaEventLoop" -->
<p><code>#include &lt;<a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TRootanaEventLoop:</div>
<div class="dynsection">
<div class="center"><img src="a00346.png" border="0" usemap="#TRootanaEventLoop_inherit__map" alt="Inheritance graph"/></div>
<map name="TRootanaEventLoop_inherit__map" id="TRootanaEventLoop_inherit__map">
<area shape="rect" id="node3" href="a00010.html" title="MyTestLoop" alt="" coords="5,160,107,189"/><area shape="rect" id="node5" href="a00037.html" title="TRootanaDisplay" alt="" coords="41,83,175,112"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TRootanaEventLoop:</div>
<div class="dynsection">
<div class="center"><img src="a00347.png" border="0" usemap="#TRootanaEventLoop_coll__map" alt="Collaboration graph"/></div>
<map name="TRootanaEventLoop_coll__map" id="TRootanaEventLoop_coll__map">
<area shape="rect" id="node6" href="a00019.html" title="TDirectory" alt="" coords="973,426,1067,456"/><area shape="rect" id="node8" href="a00033.html" title="TNamed" alt="" coords="631,482,708,512"/><area shape="rect" id="node28" href="a00015.html" title="TDataContainer" alt="" coords="955,784,1085,813"/><area shape="rect" id="node32" href="a00030.html" title="MIDAS event." alt="" coords="615,810,724,840"/><area shape="rect" id="node34" href="a00029.html" title="Event header." alt="" coords="231,818,415,848"/><area shape="rect" id="node49" href="a00045.html" title="Interface class for ODB access." alt="" coords="975,992,1065,1021"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="a00348.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a1c6a15831e58af664fbe40cf1157de5b">~TRootanaEventLoop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00015.html">TDataContainer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ae31d3a73fa59f1c40995e1485226cee9">GetDataContainer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to get the data container that event loop owns.  <a href="#ae31d3a73fa59f1c40995e1485226cee9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a41650949d3a59bca09b468af845271d9">ProcessMidasEvent</a> (<a class="el" href="a00015.html">TDataContainer</a> &amp;dataContainer)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a3d6502097ba23177d477dd0b4528aca9">Initialize</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a7adb0f62ab8aff8b9a9f31ce5fea6f0d">BeginRun</a> (int transition, int run, int time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ab75d515101b4f51fbc0e1a9388b3a09b">EndRun</a> (int transition, int run, int time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#acc1296767b1faaefde3e5d98fbb35d96">Finalize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ad0b0df6c32a6187f0800517d16593793">Usage</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a83f3b98d9ee54d5f5100bf4636233c87">CheckOption</a> (std::string option)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a924fce568d61d499154590e8c1c564a8">IsOnline</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Are we processing online data?  <a href="#a924fce568d61d499154590e8c1c564a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a9157ed25b82028066221b620c95a57d5">IsOffline</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Are we processing offline data?  <a href="#a9157ed25b82028066221b620c95a57d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ab3c9be09f6e0a6e64f68fc88400b697f">GetCurrentRunNumber</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current Run Number.  <a href="#ab3c9be09f6e0a6e64f68fc88400b697f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a55b099d67823015adca698576c78bdfa">SetCurrentRunNumber</a> (int run)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current Run Number.  <a href="#a55b099d67823015adca698576c78bdfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d">ExecuteLoop</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to actually process the Midas information, either as file or online.  <a href="#a8a9f5d8b69ba5306e258d2d4a383002d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0">ProcessMidasFile</a> (TApplication *app, const char *fname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a04208713ae6d200ba44dd8932fdd532a">DisableAutoMainWindow</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable automatic creation of <a class="el" href="a00008.html">MainWindow</a>.  <a href="#a04208713ae6d200ba44dd8932fdd532a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00045.html">VirtualOdb</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a8bd9117901c0e5e13074f33deb91c2f0">GetODB</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get pointer to ODB variables.  <a href="#a8bd9117901c0e5e13074f33deb91c2f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a50feed82f7bdd7ebb3c8d4f3628517ee">OpenRootFile</a> (int run)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open output ROOT file.  <a href="#a50feed82f7bdd7ebb3c8d4f3628517ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301">CloseRootFile</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cloe output ROOT file.  <a href="#aa9b12eede82ae2990ea4dfa2f38e5301"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a416bd93c51749889b680be3abd8d6099">DisableRootOutput</a> (bool disable=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#aefae28fa8b83e6cbef469727b8918d17">~TRootanaEventLoop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00015.html">TDataContainer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ae31d3a73fa59f1c40995e1485226cee9">GetDataContainer</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to get the data container that event loop owns.  <a href="#ae31d3a73fa59f1c40995e1485226cee9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a41650949d3a59bca09b468af845271d9">ProcessMidasEvent</a> (<a class="el" href="a00015.html">TDataContainer</a> &amp;dataContainer)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a08aac9cd136da883f44944cb80650298">Initialize</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a3592377bb748c9a444865df6042f98c6">BeginRun</a> (int transition, int run, int time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a77fb70147016273ec97166baa21215a4">EndRun</a> (int transition, int run, int time)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ade054566dce34430dcafb2e4487dc3cc">Finalize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ac0583108cab1ad7f0fafc6baf27e76d4">Usage</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#acde96f8d9214ab2e1bf8f9ec91a508d0">CheckOption</a> (std::string option)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a924fce568d61d499154590e8c1c564a8">IsOnline</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Are we processing online data?  <a href="#a924fce568d61d499154590e8c1c564a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a9157ed25b82028066221b620c95a57d5">IsOffline</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Are we processing offline data?  <a href="#a9157ed25b82028066221b620c95a57d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ab3c9be09f6e0a6e64f68fc88400b697f">GetCurrentRunNumber</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current Run Number.  <a href="#ab3c9be09f6e0a6e64f68fc88400b697f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a55b099d67823015adca698576c78bdfa">SetCurrentRunNumber</a> (int run)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current Run Number.  <a href="#a55b099d67823015adca698576c78bdfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d">ExecuteLoop</a> (int argc, char *argv[])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method to actually process the Midas information, either as file or online.  <a href="#a8a9f5d8b69ba5306e258d2d4a383002d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0">ProcessMidasFile</a> (TApplication *app, const char *fname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a04208713ae6d200ba44dd8932fdd532a">DisableAutoMainWindow</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable automatic creation of <a class="el" href="a00008.html">MainWindow</a>.  <a href="#a04208713ae6d200ba44dd8932fdd532a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00045.html">VirtualOdb</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a8bd9117901c0e5e13074f33deb91c2f0">GetODB</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get pointer to ODB variables.  <a href="#a8bd9117901c0e5e13074f33deb91c2f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a50feed82f7bdd7ebb3c8d4f3628517ee">OpenRootFile</a> (int run)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open output ROOT file.  <a href="#a50feed82f7bdd7ebb3c8d4f3628517ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301">CloseRootFile</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cloe output ROOT file.  <a href="#aa9b12eede82ae2990ea4dfa2f38e5301"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a416bd93c51749889b680be3abd8d6099">DisableRootOutput</a> (bool disable=true)</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00038.html">TRootanaEventLoop</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a1e49d4cf36c6ca0f5a33d365b501aceb">Get</a> (void)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00038.html#a7d72841cf56f7350b4638cd699f1191a">CreateSingleton</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00038.html">TRootanaEventLoop</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a6dffae12e1b951c03c4f3bbde0b0bc3f">Get</a> (void)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00038.html#a7d72841cf56f7350b4638cd699f1191a">CreateSingleton</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a5c5d9e9887cdca2ac7837e5acd15c413">CreateOutputFile</a> (std::string name, std::string options=&quot;RECREATE&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a86afa3cf5059cd34e1f058a9b2080589">TRootanaEventLoop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a5c5d9e9887cdca2ac7837e5acd15c413">CreateOutputFile</a> (std::string name, std::string options=&quot;RECREATE&quot;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a86afa3cf5059cd34e1f058a9b2080589">TRootanaEventLoop</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00019.html">TDirectory</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#ac3cafb683213b53656319b428f87f6db">fOnlineHistDir</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="a00019.html">TDirectory</a> for online histograms.  <a href="#ac3cafb683213b53656319b428f87f6db"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00038.html">TRootanaEventLoop</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a3a5067ce01b0543438b755b3d5451884">fTRootanaEventLoop</a> = NULL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The static pointer to the singleton instance.  <a href="#a3a5067ce01b0543438b755b3d5451884"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a4fb28064359beb3b0781833976377233">PrintHelp</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Help Message.  <a href="#a4fb28064359beb3b0781833976377233"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a4fb28064359beb3b0781833976377233">PrintHelp</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Help Message.  <a href="#a4fb28064359beb3b0781833976377233"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TFile *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a">fOutputFile</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Output ROOT file.  <a href="#a7089722dbfc08d890c4d3a9d30f7d43a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a0ca33af48e5060946f73897cb864b24b">fDisableRootOutput</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Variable for disabling/enabling Root output.  <a href="#a0ca33af48e5060946f73897cb864b24b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00045.html">VirtualOdb</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d">fODB</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the ODB access instance.  <a href="#a5dc5adeb5c2f1d79b799b168dc0bc53d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a">fIsOffline</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Are we processing offline or online data?  <a href="#a2716141e276df8c688463e3b6a23ff5a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48">fCurrentRunNumber</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current run number.  <a href="#a86992da8f477f6c9a88afdab69b6fb48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00015.html">TDataContainer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a65fcda67dcd6af3c5ae4bbce0d5cf74f">fMaxEvents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TApplication *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a01ccf4d3ecb695d5e6628dfc83b46b3e">fApp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is a base class for event loops that are derived from rootana.</p>
<p>The user should create a class that derives from this <a class="el" href="a00038.html">TRootanaEventLoop</a> class and then fill in the methods that they want to implement.</p>
<p>The user must implement the method <a class="el" href="a00038.html#a41650949d3a59bca09b468af845271d9">ProcessMidasEvent()</a>, which will get executed on each event.</p>
<p>The user can also implement methods like Initialize, BeginRun, EndRun, Finalize if there are actions they want to execute at certain points.</p>
<p>The event loop will work in both offline and online mode (online only if the user has MIDAS installed).</p>
<p>In example of this type of event loop is shown in examples/analyzer_example.cxx </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00040">40</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1c6a15831e58af664fbe40cf1157de5b"></a><!-- doxytag: member="TRootanaEventLoop::~TRootanaEventLoop" ref="a1c6a15831e58af664fbe40cf1157de5b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TRootanaEventLoop::~TRootanaEventLoop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00121_source.html#l00060">60</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00121_source.html#l00342">CloseRootFile()</a>, and <a class="el" href="a00102_source.html#l00170">fODB</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00060"></a>00060                                       {
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a>) <span class="keyword">delete</span> <a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a>;
<a name="l00063"></a>00063   <a class="code" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301" title="Cloe output ROOT file.">CloseRootFile</a>();
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a1c6a15831e58af664fbe40cf1157de5b_cgraph.png" border="0" usemap="#a00038_a1c6a15831e58af664fbe40cf1157de5b_cgraph_map" alt=""></div>
<map name="a00038_a1c6a15831e58af664fbe40cf1157de5b_cgraph_map" id="a00038_a1c6a15831e58af664fbe40cf1157de5b_cgraph">
<area shape="rect" id="node3" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301" title="Cloe output ROOT file." alt="" coords="372,5,631,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a86afa3cf5059cd34e1f058a9b2080589"></a><!-- doxytag: member="TRootanaEventLoop::TRootanaEventLoop" ref="a86afa3cf5059cd34e1f058a9b2080589" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TRootanaEventLoop::TRootanaEventLoop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Create the TApplication </p>
</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00041">41</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00196">fApp</a>, <a class="el" href="a00102_source.html#l00199">fCreateMainWindow</a>, <a class="el" href="a00102_source.html#l00176">fCurrentRunNumber</a>, <a class="el" href="a00102_source.html#l00184">fDataContainer</a>, <a class="el" href="a00102_source.html#l00167">fDisableRootOutput</a>, <a class="el" href="a00102_source.html#l00173">fIsOffline</a>, <a class="el" href="a00102_source.html#l00193">fMaxEvents</a>, <a class="el" href="a00102_source.html#l00170">fODB</a>, <a class="el" href="a00102_source.html#l00154">fOnlineHistDir</a>, and <a class="el" href="a00102_source.html#l00164">fOutputFile</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00041"></a>00041                                      {
<a name="l00042"></a>00042 
<a name="l00043"></a>00043   <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a> = 0;
<a name="l00044"></a>00044   <a class="code" href="a00038.html#a0ca33af48e5060946f73897cb864b24b" title="Variable for disabling/enabling Root output.">fDisableRootOutput</a> = <span class="keyword">false</span>;
<a name="l00045"></a>00045   <a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a> = 0;
<a name="l00046"></a>00046   <a class="code" href="a00038.html#ac3cafb683213b53656319b428f87f6db" title="TDirectory for online histograms.">fOnlineHistDir</a> = 0;
<a name="l00047"></a>00047   <a class="code" href="a00038.html#a65fcda67dcd6af3c5ae4bbce0d5cf74f">fMaxEvents</a> = 0;
<a name="l00048"></a>00048   <a class="code" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48" title="Current run number.">fCurrentRunNumber</a> = 0;
<a name="l00049"></a>00049   <a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a> = <span class="keyword">true</span>;
<a name="l00050"></a>00050   <a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a> = <span class="keyword">true</span>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052   <a class="code" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a> = <span class="keyword">new</span> <a class="code" href="a00015.html">TDataContainer</a>();
<a name="l00053"></a>00053 <span class="comment"></span>
<a name="l00054"></a>00054 <span class="comment">  /// Create the TApplication</span>
<a name="l00055"></a>00055 <span class="comment"></span>  <span class="keywordtype">char</span> **argv2 = NULL;
<a name="l00056"></a>00056   <a class="code" href="a00038.html#a01ccf4d3ecb695d5e6628dfc83b46b3e">fApp</a> = <span class="keyword">new</span> TApplication(<span class="stringliteral">&quot;rootana&quot;</span>, 0, argv2);
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aefae28fa8b83e6cbef469727b8918d17"></a><!-- doxytag: member="TRootanaEventLoop::~TRootanaEventLoop" ref="aefae28fa8b83e6cbef469727b8918d17" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual TRootanaEventLoop::~TRootanaEventLoop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a86afa3cf5059cd34e1f058a9b2080589"></a><!-- doxytag: member="TRootanaEventLoop::TRootanaEventLoop" ref="a86afa3cf5059cd34e1f058a9b2080589" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TRootanaEventLoop::TRootanaEventLoop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3592377bb748c9a444865df6042f98c6"></a><!-- doxytag: member="TRootanaEventLoop::BeginRun" ref="a3592377bb748c9a444865df6042f98c6" args="(int transition, int run, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TRootanaEventLoop::BeginRun </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called before the first event of a file is read, but you should prefer <a class="el" href="a00038.html#a3d6502097ba23177d477dd0b4528aca9">Initialize()</a> for general initialization. This method will be called once for each input file. </p>

<p>Reimplemented in <a class="el" href="a00037.html#a59288bcf3bd2f6bcb8c7d2ee2db85b43">TRootanaDisplay</a>, <a class="el" href="a00010.html#ae7430f5bc8b6df3b3183516b253a9379">MyTestLoop</a>, and <a class="el" href="a00037.html#a59288bcf3bd2f6bcb8c7d2ee2db85b43">TRootanaDisplay</a>.</p>

</div>
</div>
<a class="anchor" id="a7adb0f62ab8aff8b9a9f31ce5fea6f0d"></a><!-- doxytag: member="TRootanaEventLoop::BeginRun" ref="a7adb0f62ab8aff8b9a9f31ce5fea6f0d" args="(int transition, int run, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::BeginRun </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called before the first event of a file is read, but you should prefer <a class="el" href="a00038.html#a3d6502097ba23177d477dd0b4528aca9">Initialize()</a> for general initialization. This method will be called once for each input file. </p>

<p>Reimplemented in <a class="el" href="a00037.html#a59288bcf3bd2f6bcb8c7d2ee2db85b43">TRootanaDisplay</a>, <a class="el" href="a00010.html#ae7430f5bc8b6df3b3183516b253a9379">MyTestLoop</a>, and <a class="el" href="a00037.html#a59288bcf3bd2f6bcb8c7d2ee2db85b43">TRootanaDisplay</a>.</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00070">70</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 {};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a7adb0f62ab8aff8b9a9f31ce5fea6f0d_icgraph.png" border="0" usemap="#a00038_a7adb0f62ab8aff8b9a9f31ce5fea6f0d_icgraph_map" alt=""></div>
<map name="a00038_a7adb0f62ab8aff8b9a9f31ce5fea6f0d_icgraph_map" id="a00038_a7adb0f62ab8aff8b9a9f31ce5fea6f0d_icgraph">
<area shape="rect" id="node3" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="285,5,568,35"/><area shape="rect" id="node5" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="616,5,875,35"/><area shape="rect" id="node7" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="924,5,977,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acde96f8d9214ab2e1bf8f9ec91a508d0"></a><!-- doxytag: member="TRootanaEventLoop::CheckOption" ref="acde96f8d9214ab2e1bf8f9ec91a508d0" args="(std::string option)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TRootanaEventLoop::CheckOption </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>option</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check an option and return true if it is valid. The return value is used to flag errors during option handling. If the options are valid, then CheckOption should return true to indicate success. If there is a problem processing the options, then CheckOption should return false. If this returns false, then the event loop will print the Usage message and exit with a non zero value (i.e. indicate failure). </p>

<p>Reimplemented in <a class="el" href="a00010.html#aeac23a1ffcea9075505c55bc5575fdfc">MyTestLoop</a>.</p>

</div>
</div>
<a class="anchor" id="a83f3b98d9ee54d5f5100bf4636233c87"></a><!-- doxytag: member="TRootanaEventLoop::CheckOption" ref="a83f3b98d9ee54d5f5100bf4636233c87" args="(std::string option)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::CheckOption </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>option</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check an option and return true if it is valid. The return value is used to flag errors during option handling. If the options are valid, then CheckOption should return true to indicate success. If there is a problem processing the options, then CheckOption should return false. If this returns false, then the event loop will print the Usage message and exit with a non zero value (i.e. indicate failure). </p>

<p>Reimplemented in <a class="el" href="a00010.html#aeac23a1ffcea9075505c55bc5575fdfc">MyTestLoop</a>.</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00079">79</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00079"></a>00079 {<span class="keywordflow">return</span> <span class="keyword">false</span>;}
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a83f3b98d9ee54d5f5100bf4636233c87_icgraph.png" border="0" usemap="#a00038_a83f3b98d9ee54d5f5100bf4636233c87_icgraph_map" alt=""></div>
<map name="a00038_a83f3b98d9ee54d5f5100bf4636233c87_icgraph_map" id="a00038_a83f3b98d9ee54d5f5100bf4636233c87_icgraph">
<area shape="rect" id="node3" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="309,5,568,35"/><area shape="rect" id="node5" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="617,5,671,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa9b12eede82ae2990ea4dfa2f38e5301"></a><!-- doxytag: member="TRootanaEventLoop::CloseRootFile" ref="aa9b12eede82ae2990ea4dfa2f38e5301" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::CloseRootFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cloe output ROOT file. </p>

</div>
</div>
<a class="anchor" id="aa9b12eede82ae2990ea4dfa2f38e5301"></a><!-- doxytag: member="TRootanaEventLoop::CloseRootFile" ref="aa9b12eede82ae2990ea4dfa2f38e5301" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::CloseRootFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cloe output ROOT file. </p>

<p>Definition at line <a class="el" href="a00121_source.html#l00342">342</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00164">fOutputFile</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>, and <a class="el" href="a00121_source.html#l00060">~TRootanaEventLoop()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00342"></a>00342                                      {
<a name="l00343"></a>00343 
<a name="l00344"></a>00344   std::cout &lt;&lt; <span class="stringliteral">&quot;Closing ROOT file &quot;</span> &lt;&lt; std::endl;
<a name="l00345"></a>00345   <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>) {
<a name="l00346"></a>00346     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>-&gt;Write();
<a name="l00347"></a>00347     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>-&gt;Close();
<a name="l00348"></a>00348     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>=0;
<a name="l00349"></a>00349   } 
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_aa9b12eede82ae2990ea4dfa2f38e5301_icgraph.png" border="0" usemap="#a00038_aa9b12eede82ae2990ea4dfa2f38e5301_icgraph_map" alt=""></div>
<map name="a00038_aa9b12eede82ae2990ea4dfa2f38e5301_icgraph_map" id="a00038_aa9b12eede82ae2990ea4dfa2f38e5301_icgraph">
<area shape="rect" id="node3" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="332,5,615,35"/><area shape="rect" id="node9" href="a00038.html#a1c6a15831e58af664fbe40cf1157de5b" title="TRootanaEventLoop::~TRootanaEventLoop" alt="" coords="315,59,632,88"/><area shape="rect" id="node5" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="680,5,939,35"/><area shape="rect" id="node7" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="988,5,1041,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c5d9e9887cdca2ac7837e5acd15c413"></a><!-- doxytag: member="TRootanaEventLoop::CreateOutputFile" ref="a5c5d9e9887cdca2ac7837e5acd15c413" args="(std::string name, std::string options=&quot;RECREATE&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::CreateOutputFile </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>options</em> = <code>&quot;RECREATE&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00103_source.html#l00140">140</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00164">fOutputFile</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00140"></a>00140                                                                        {
<a name="l00141"></a>00141     
<a name="l00142"></a>00142     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a> = <span class="keyword">new</span> TFile(name.c_str(),options.c_str());
<a name="l00143"></a>00143     
<a name="l00144"></a>00144     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00145"></a>00145   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5c5d9e9887cdca2ac7837e5acd15c413"></a><!-- doxytag: member="TRootanaEventLoop::CreateOutputFile" ref="a5c5d9e9887cdca2ac7837e5acd15c413" args="(std::string name, std::string options=&quot;RECREATE&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::CreateOutputFile </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>options</em> = <code>&quot;RECREATE&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00102_source.html#l00140">140</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00164">fOutputFile</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00140"></a>00140                                                                        {
<a name="l00141"></a>00141     
<a name="l00142"></a>00142     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a> = <span class="keyword">new</span> TFile(name.c_str(),options.c_str());
<a name="l00143"></a>00143     
<a name="l00144"></a>00144     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00145"></a>00145   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7d72841cf56f7350b4638cd699f1191a"></a><!-- doxytag: member="TRootanaEventLoop::CreateSingleton" ref="a7d72841cf56f7350b4638cd699f1191a" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void TRootanaEventLoop::CreateSingleton </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This static templated function will make it a little easier for users to create the singleton instance. </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00114">114</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00151">fTRootanaEventLoop</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00115"></a>00115   {
<a name="l00116"></a>00116     <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a3a5067ce01b0543438b755b3d5451884" title="The static pointer to the singleton instance.">fTRootanaEventLoop</a>)
<a name="l00117"></a>00117       std::cout &lt;&lt; <span class="stringliteral">&quot;Singleton has already been created&quot;</span> &lt;&lt; std::endl;
<a name="l00118"></a>00118     <span class="keywordflow">else</span>
<a name="l00119"></a>00119       <a class="code" href="a00038.html#a3a5067ce01b0543438b755b3d5451884" title="The static pointer to the singleton instance.">fTRootanaEventLoop</a> = <span class="keyword">new</span> T();
<a name="l00120"></a>00120   } 
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7d72841cf56f7350b4638cd699f1191a"></a><!-- doxytag: member="TRootanaEventLoop::CreateSingleton" ref="a7d72841cf56f7350b4638cd699f1191a" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static void TRootanaEventLoop::CreateSingleton </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This static templated function will make it a little easier for users to create the singleton instance. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00114">114</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00151">fTRootanaEventLoop</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00115"></a>00115   {
<a name="l00116"></a>00116     <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a3a5067ce01b0543438b755b3d5451884" title="The static pointer to the singleton instance.">fTRootanaEventLoop</a>)
<a name="l00117"></a>00117       std::cout &lt;&lt; <span class="stringliteral">&quot;Singleton has already been created&quot;</span> &lt;&lt; std::endl;
<a name="l00118"></a>00118     <span class="keywordflow">else</span>
<a name="l00119"></a>00119       <a class="code" href="a00038.html#a3a5067ce01b0543438b755b3d5451884" title="The static pointer to the singleton instance.">fTRootanaEventLoop</a> = <span class="keyword">new</span> T();
<a name="l00120"></a>00120   } 
</pre></div></p>

</div>
</div>
<a class="anchor" id="a04208713ae6d200ba44dd8932fdd532a"></a><!-- doxytag: member="TRootanaEventLoop::DisableAutoMainWindow" ref="a04208713ae6d200ba44dd8932fdd532a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::DisableAutoMainWindow </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable automatic creation of <a class="el" href="a00008.html">MainWindow</a>. </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00124">124</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00199">fCreateMainWindow</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00124"></a>00124 {  <a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a> = <span class="keyword">false</span>;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a04208713ae6d200ba44dd8932fdd532a"></a><!-- doxytag: member="TRootanaEventLoop::DisableAutoMainWindow" ref="a04208713ae6d200ba44dd8932fdd532a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::DisableAutoMainWindow </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable automatic creation of <a class="el" href="a00008.html">MainWindow</a>. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00124">124</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00199">fCreateMainWindow</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00124"></a>00124 {  <a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a> = <span class="keyword">false</span>;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a416bd93c51749889b680be3abd8d6099"></a><!-- doxytag: member="TRootanaEventLoop::DisableRootOutput" ref="a416bd93c51749889b680be3abd8d6099" args="(bool disable=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::DisableRootOutput </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>disable</em> = <code>true</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00103_source.html#l00136">136</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00167">fDisableRootOutput</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {<a class="code" href="a00038.html#a0ca33af48e5060946f73897cb864b24b" title="Variable for disabling/enabling Root output.">fDisableRootOutput</a> = disable;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a416bd93c51749889b680be3abd8d6099"></a><!-- doxytag: member="TRootanaEventLoop::DisableRootOutput" ref="a416bd93c51749889b680be3abd8d6099" args="(bool disable=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::DisableRootOutput </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>disable</em> = <code>true</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00102_source.html#l00136">136</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00167">fDisableRootOutput</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {<a class="code" href="a00038.html#a0ca33af48e5060946f73897cb864b24b" title="Variable for disabling/enabling Root output.">fDisableRootOutput</a> = disable;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a77fb70147016273ec97166baa21215a4"></a><!-- doxytag: member="TRootanaEventLoop::EndRun" ref="a77fb70147016273ec97166baa21215a4" args="(int transition, int run, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TRootanaEventLoop::EndRun </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after the last event of a file is read, but you should prefer <a class="el" href="a00038.html#acc1296767b1faaefde3e5d98fbb35d96">Finalize()</a> for general finalization. This method will be called once for each input file. </p>

<p>Reimplemented in <a class="el" href="a00037.html#a23f4d591f375d3415e48f46f648e130d">TRootanaDisplay</a>, <a class="el" href="a00010.html#a6ccb2529c90191ad35b94c02663fbbe2">MyTestLoop</a>, and <a class="el" href="a00037.html#a23f4d591f375d3415e48f46f648e130d">TRootanaDisplay</a>.</p>

</div>
</div>
<a class="anchor" id="ab75d515101b4f51fbc0e1a9388b3a09b"></a><!-- doxytag: member="TRootanaEventLoop::EndRun" ref="ab75d515101b4f51fbc0e1a9388b3a09b" args="(int transition, int run, int time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::EndRun </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>transition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>time</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after the last event of a file is read, but you should prefer <a class="el" href="a00038.html#acc1296767b1faaefde3e5d98fbb35d96">Finalize()</a> for general finalization. This method will be called once for each input file. </p>

<p>Reimplemented in <a class="el" href="a00037.html#a23f4d591f375d3415e48f46f648e130d">TRootanaDisplay</a>, <a class="el" href="a00010.html#a6ccb2529c90191ad35b94c02663fbbe2">MyTestLoop</a>, and <a class="el" href="a00037.html#a23f4d591f375d3415e48f46f648e130d">TRootanaDisplay</a>.</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00072">72</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00072"></a>00072 {};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_ab75d515101b4f51fbc0e1a9388b3a09b_icgraph.png" border="0" usemap="#a00038_ab75d515101b4f51fbc0e1a9388b3a09b_icgraph_map" alt=""></div>
<map name="a00038_ab75d515101b4f51fbc0e1a9388b3a09b_icgraph_map" id="a00038_ab75d515101b4f51fbc0e1a9388b3a09b_icgraph">
<area shape="rect" id="node3" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="272,5,555,35"/><area shape="rect" id="node5" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="603,5,861,35"/><area shape="rect" id="node7" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="911,5,964,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a9f5d8b69ba5306e258d2d4a383002d"></a><!-- doxytag: member="TRootanaEventLoop::ExecuteLoop" ref="a8a9f5d8b69ba5306e258d2d4a383002d" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRootanaEventLoop::ExecuteLoop </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to actually process the Midas information, either as file or online. </p>

</div>
</div>
<a class="anchor" id="a8a9f5d8b69ba5306e258d2d4a383002d"></a><!-- doxytag: member="TRootanaEventLoop::ExecuteLoop" ref="a8a9f5d8b69ba5306e258d2d4a383002d" args="(int argc, char *argv[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRootanaEventLoop::ExecuteLoop </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to actually process the Midas information, either as file or online. </p>

<p>Definition at line <a class="el" href="a00121_source.html#l00105">105</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00019.html#ad44b6f5729763e2c82528f74b092c7c9">TDirectory::cd()</a>, <a class="el" href="a00121_source.html#l00079">CheckOption()</a>, <a class="el" href="a00102_source.html#l00196">fApp</a>, <a class="el" href="a00102_source.html#l00199">fCreateMainWindow</a>, <a class="el" href="a00121_source.html#l00074">Finalize()</a>, <a class="el" href="a00102_source.html#l00173">fIsOffline</a>, <a class="el" href="a00102_source.html#l00193">fMaxEvents</a>, <a class="el" href="a00102_source.html#l00154">fOnlineHistDir</a>, <a class="el" href="a00121_source.html#l00068">Initialize()</a>, <a class="el" href="a00121_source.html#l00082">PrintHelp()</a>, <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>, and <a class="el" href="a00140_source.html#l00672">StartNetDirectoryServer()</a>.</p>

<p>Referenced by <a class="el" href="a00116_source.html#l00107">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00105"></a>00105                                                         {
<a name="l00106"></a>00106   
<a name="l00107"></a>00107   setbuf(stdout,NULL);
<a name="l00108"></a>00108   setbuf(stderr,NULL);
<a name="l00109"></a>00109   
<a name="l00110"></a>00110   signal(SIGILL,  SIG_DFL);
<a name="l00111"></a>00111   signal(SIGBUS,  SIG_DFL);
<a name="l00112"></a>00112   signal(SIGSEGV, SIG_DFL);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   std::vector&lt;std::string&gt; args;
<a name="l00115"></a>00115   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;argc; i++)
<a name="l00116"></a>00116     {
<a name="l00117"></a>00117       <span class="keywordflow">if</span> (strcmp(argv[i],<span class="stringliteral">&quot;-h&quot;</span>)==0)
<a name="l00118"></a>00118         <a class="code" href="a00038.html#a4fb28064359beb3b0781833976377233" title="Help Message.">PrintHelp</a>(); <span class="comment">// does not return</span>
<a name="l00119"></a>00119       args.push_back(argv[i]);
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121   
<a name="l00122"></a>00122   
<a name="l00123"></a>00123   <span class="keywordflow">if</span>(gROOT-&gt;IsBatch()) {
<a name="l00124"></a>00124     printf(<span class="stringliteral">&quot;Cannot run in batch mode\n&quot;</span>);
<a name="l00125"></a>00125     <span class="keywordflow">return</span> 1;
<a name="l00126"></a>00126   }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="keywordtype">bool</span> forceEnableGraphics = <span class="keyword">false</span>;
<a name="l00129"></a>00129   <span class="keywordtype">bool</span> testMode = <span class="keyword">false</span>;
<a name="l00130"></a>00130   <span class="keywordtype">int</span>  tcpPort = 0;
<a name="l00131"></a>00131   <span class="keyword">const</span> <span class="keywordtype">char</span>* hostname = NULL;
<a name="l00132"></a>00132   <span class="keyword">const</span> <span class="keywordtype">char</span>* exptname = NULL;
<a name="l00133"></a>00133   
<a name="l00134"></a>00134   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;args.size(); i++) <span class="comment">// loop over the commandline options</span>
<a name="l00135"></a>00135     {
<a name="l00136"></a>00136       <span class="keyword">const</span> <span class="keywordtype">char</span>* arg = args[i].c_str();
<a name="l00137"></a>00137       <span class="comment">//printf(&quot;argv[%d] is %s\n&quot;,i,arg);</span>
<a name="l00138"></a>00138       
<a name="l00139"></a>00139       <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-e&quot;</span>,2)==0)  <span class="comment">// Event cutoff flag (only applicable in offline mode)</span>
<a name="l00140"></a>00140         <a class="code" href="a00038.html#a65fcda67dcd6af3c5ae4bbce0d5cf74f">fMaxEvents</a> = atoi(arg+2);
<a name="l00141"></a>00141       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-m&quot;</span>,2)==0) <span class="comment">// Enable memory debugging</span>
<a name="l00142"></a>00142         ;<span class="comment">//      gEnableShowMem = true;</span>
<a name="l00143"></a>00143       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-P&quot;</span>,2)==0) <span class="comment">// Set the histogram server port</span>
<a name="l00144"></a>00144         tcpPort = atoi(arg+2);
<a name="l00145"></a>00145       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg,<span class="stringliteral">&quot;-T&quot;</span>)==0)
<a name="l00146"></a>00146         testMode = <span class="keyword">true</span>;
<a name="l00147"></a>00147       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg,<span class="stringliteral">&quot;-g&quot;</span>)==0)
<a name="l00148"></a>00148         forceEnableGraphics = <span class="keyword">true</span>;
<a name="l00149"></a>00149       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-H&quot;</span>,2)==0)
<a name="l00150"></a>00150         hostname = strdup(arg+2);
<a name="l00151"></a>00151       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(arg,<span class="stringliteral">&quot;-E&quot;</span>,2)==0)
<a name="l00152"></a>00152         exptname = strdup(arg+2);
<a name="l00153"></a>00153       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg,<span class="stringliteral">&quot;-h&quot;</span>)==0)
<a name="l00154"></a>00154         <a class="code" href="a00038.html#a4fb28064359beb3b0781833976377233" title="Help Message.">PrintHelp</a>(); <span class="comment">// does not return</span>
<a name="l00155"></a>00155       <span class="keywordflow">else</span> <span class="keywordflow">if</span>(arg[0] == <span class="charliteral">&apos;-&apos;</span> &amp;&amp; !<a class="code" href="a00038.html#a83f3b98d9ee54d5f5100bf4636233c87">CheckOption</a>(args[i])) <span class="comment">// Chec if a user-defined option  </span>
<a name="l00156"></a>00156         <a class="code" href="a00038.html#a4fb28064359beb3b0781833976377233" title="Help Message.">PrintHelp</a>(); <span class="comment">// does not return</span>
<a name="l00157"></a>00157     }
<a name="l00158"></a>00158     
<a name="l00159"></a>00159   <span class="comment">// Do quick check if we are processing online or offline.</span>
<a name="l00160"></a>00160   <span class="comment">// Want to know before we initialize.</span>
<a name="l00161"></a>00161   <a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a> = <span class="keyword">false</span>;  
<a name="l00162"></a>00162   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;args.size(); i++){
<a name="l00163"></a>00163     <span class="keyword">const</span> <span class="keywordtype">char</span>* arg = args[i].c_str();
<a name="l00164"></a>00164     <span class="keywordflow">if</span> (arg[0] != <span class="charliteral">&apos;-&apos;</span>)  
<a name="l00165"></a>00165       {  
<a name="l00166"></a>00166         <a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a> = <span class="keyword">true</span>;
<a name="l00167"></a>00167       }
<a name="l00168"></a>00168   }
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00171"></a>00171   <a class="code" href="a00008.html">MainWindow</a> *mainWindow=0;
<a name="l00172"></a>00172   <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a>){
<a name="l00173"></a>00173     mainWindow = <span class="keyword">new</span> <a class="code" href="a00008.html">MainWindow</a>(gClient-&gt;GetRoot(), 200, 300);
<a name="l00174"></a>00174   }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176    gROOT-&gt;cd();
<a name="l00177"></a>00177    <a class="code" href="a00038.html#ac3cafb683213b53656319b428f87f6db" title="TDirectory for online histograms.">fOnlineHistDir</a> = <span class="keyword">new</span> <a class="code" href="a00019.html">TDirectory</a>(<span class="stringliteral">&quot;rootana&quot;</span>, <span class="stringliteral">&quot;rootana online plots&quot;</span>);
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="preprocessor">#ifdef HAVE_LIBNETDIRECTORY</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (tcpPort)
<a name="l00181"></a>00181      <a class="code" href="a00060.html#af280d129baa10e736ba821d2f6bf4682">StartNetDirectoryServer</a>(tcpPort, <a class="code" href="a00038.html#ac3cafb683213b53656319b428f87f6db" title="TDirectory for online histograms.">fOnlineHistDir</a>);
<a name="l00182"></a>00182 <span class="preprocessor">#else</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>   <span class="keywordflow">if</span> (tcpPort)
<a name="l00184"></a>00184      fprintf(stderr,<span class="stringliteral">&quot;ERROR: No support for the TNetDirectory server!\n&quot;</span>);
<a name="l00185"></a>00185 <span class="preprocessor">#endif</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>   
<a name="l00187"></a>00187    <span class="comment">// Initialize the event loop with user initialization.</span>
<a name="l00188"></a>00188    <a class="code" href="a00038.html#a3d6502097ba23177d477dd0b4528aca9">Initialize</a>();
<a name="l00189"></a>00189 
<a name="l00190"></a>00190    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt;args.size(); i++){
<a name="l00191"></a>00191      <span class="keyword">const</span> <span class="keywordtype">char</span>* arg = args[i].c_str();
<a name="l00192"></a>00192      <span class="keywordflow">if</span> (arg[0] != <span class="charliteral">&apos;-&apos;</span>)  
<a name="l00193"></a>00193        {  
<a name="l00194"></a>00194            <a class="code" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0">ProcessMidasFile</a>(<a class="code" href="a00038.html#a01ccf4d3ecb695d5e6628dfc83b46b3e">fApp</a>,arg);
<a name="l00195"></a>00195        }
<a name="l00196"></a>00196    }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198    <span class="keywordflow">if</span> (testMode){
<a name="l00199"></a>00199      std::cout &lt;&lt; <span class="stringliteral">&quot;Entering test mode.&quot;</span> &lt;&lt; std::endl;
<a name="l00200"></a>00200      <a class="code" href="a00038.html#ac3cafb683213b53656319b428f87f6db" title="TDirectory for online histograms.">fOnlineHistDir</a>-&gt;<a class="code" href="a00019.html#ad44b6f5729763e2c82528f74b092c7c9">cd</a>();
<a name="l00201"></a>00201      TH1D* hh = <span class="keyword">new</span> TH1D(<span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;test&quot;</span>, 100, 0, 100);
<a name="l00202"></a>00202      hh-&gt;Fill(1);
<a name="l00203"></a>00203      hh-&gt;Fill(10);
<a name="l00204"></a>00204      hh-&gt;Fill(50);
<a name="l00205"></a>00205      
<a name="l00206"></a>00206      <a class="code" href="a00038.html#a01ccf4d3ecb695d5e6628dfc83b46b3e">fApp</a>-&gt;Run(kTRUE);
<a name="l00207"></a>00207      <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a>) <span class="keyword">delete</span> mainWindow;
<a name="l00208"></a>00208      <span class="keywordflow">return</span> 0;
<a name="l00209"></a>00209    }
<a name="l00210"></a>00210 
<a name="l00211"></a>00211    <span class="comment">// if we processed some data files,</span>
<a name="l00212"></a>00212    <span class="comment">// do not go into online mode.</span>
<a name="l00213"></a>00213    <span class="keywordflow">if</span> (<a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a>){
<a name="l00214"></a>00214      <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a>) <span class="keyword">delete</span> mainWindow;
<a name="l00215"></a>00215      <span class="keywordflow">return</span> 0;
<a name="l00216"></a>00216    }
<a name="l00217"></a>00217            
<a name="l00218"></a>00218 <span class="preprocessor">#ifdef HAVE_MIDAS</span>
<a name="l00219"></a>00219 <span class="preprocessor"></span>   ProcessMidasOnline(<a class="code" href="a00038.html#a01ccf4d3ecb695d5e6628dfc83b46b3e">fApp</a>, hostname, exptname);;
<a name="l00220"></a>00220 <span class="preprocessor">#endif</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span>   
<a name="l00222"></a>00222    <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">fCreateMainWindow</a>) <span class="keyword">delete</span> mainWindow;
<a name="l00223"></a>00223    
<a name="l00224"></a>00224    <a class="code" href="a00038.html#acc1296767b1faaefde3e5d98fbb35d96">Finalize</a>();
<a name="l00225"></a>00225    
<a name="l00226"></a>00226    <span class="keywordflow">return</span> 0;
<a name="l00227"></a>00227   
<a name="l00228"></a>00228 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a8a9f5d8b69ba5306e258d2d4a383002d_cgraph.png" border="0" usemap="#a00038_a8a9f5d8b69ba5306e258d2d4a383002d_cgraph_map" alt=""></div>
<map name="a00038_a8a9f5d8b69ba5306e258d2d4a383002d_cgraph_map" id="a00038_a8a9f5d8b69ba5306e258d2d4a383002d_cgraph">
<area shape="rect" id="node3" href="a00019.html#ad44b6f5729763e2c82528f74b092c7c9" title="TDirectory::cd" alt="" coords="395,56,512,85"/><area shape="rect" id="node5" href="a00038.html#a83f3b98d9ee54d5f5100bf4636233c87" title="TRootanaEventLoop::CheckOption" alt="" coords="325,109,581,139"/><area shape="rect" id="node7" href="a00038.html#acc1296767b1faaefde3e5d98fbb35d96" title="TRootanaEventLoop::Finalize" alt="" coords="344,163,563,192"/><area shape="rect" id="node9" href="a00038.html#a3d6502097ba23177d477dd0b4528aca9" title="TRootanaEventLoop::Initialize" alt="" coords="341,216,565,245"/><area shape="rect" id="node11" href="a00038.html#a4fb28064359beb3b0781833976377233" title="Help Message." alt="" coords="339,269,568,299"/><area shape="rect" id="node15" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="312,323,595,352"/><area shape="rect" id="node66" href="a00060.html#af280d129baa10e736ba821d2f6bf4682" title="StartNetDirectoryServer" alt="" coords="359,376,548,405"/><area shape="rect" id="node13" href="a00038.html#ad0b0df6c32a6187f0800517d16593793" title="TRootanaEventLoop::Usage" alt="" coords="688,5,899,35"/><area shape="rect" id="node17" href="a00038.html#a7adb0f62ab8aff8b9a9f31ce5fea6f0d" title="TRootanaEventLoop::BeginRun" alt="" coords="677,112,909,141"/><area shape="rect" id="node19" href="a00015.html#ad9be9716a529451b8aa0cc23b635dd40" title="TDataContainer::CleanupEvent" alt="" coords="676,165,911,195"/><area shape="rect" id="node21" href="a00031.html#a693315cd892c50575f44c46080a339b8" title="Close input file." alt="" coords="1067,219,1203,248"/><area shape="rect" id="node23" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301" title="Cloe output ROOT file." alt="" coords="664,269,923,299"/><area shape="rect" id="node25" href="a00038.html#ab75d515101b4f51fbc0e1a9388b3a09b" title="TRootanaEventLoop::EndRun" alt="" coords="684,323,903,352"/><area shape="rect" id="node27" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer" alt="" coords="1045,749,1224,779"/><area shape="rect" id="node33" href="a00030.html#acbaff1df97247584f3772ac8b5df720e" title="return the serial number" alt="" coords="676,429,911,459"/><area shape="rect" id="node35" href="a00031.html#a0f39c35bb559a648f46a5b0d05c16768" title="Open input file." alt="" coords="725,376,861,405"/><area shape="rect" id="node40" href="a00038.html#a50feed82f7bdd7ebb3c8d4f3628517ee" title="Open output ROOT file." alt="" coords="664,483,923,512"/><area shape="rect" id="node44" href="a00038.html#a41650949d3a59bca09b468af845271d9" title="TRootanaEventLoop::ProcessMidasEvent" alt="" coords="643,589,944,619"/><area shape="rect" id="node46" href="a00031.html#acd25594fcc51873a05fd16ec24979940" title="Read one event from the file." alt="" coords="727,536,860,565"/><area shape="rect" id="node64" href="a00015.html#a8794353097037750b70434c447c52a05" title="TDataContainer::SetMidasEventPointer" alt="" coords="648,59,939,88"/><area shape="rect" id="node29" href="a00030.html#a49f5869d31fb4f9ec1f6c9db12050fee" title="allocate data buffer using the existing event header" alt="" coords="1325,669,1533,699"/><area shape="rect" id="node31" href="a00030.html#a7431aed59b35c7850894ea8fafd01964" title="validate the event length" alt="" coords="1581,524,1773,553"/><area shape="rect" id="node38" href="a00136.html#acc3a0586541b034e8d61632b1c093dde" title="hasSuffix" alt="" coords="1093,272,1176,301"/><area shape="rect" id="node42" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc" title="NetDirectoryExport" alt="" coords="1056,325,1213,355"/><area shape="rect" id="node48" href="a00030.html#a2eaf81576e2c7b54ab3af3ec1da749bd" title="clear event for reuse" alt="" coords="1057,643,1212,672"/><area shape="rect" id="node51" href="a00030.html#a339db17cb1f0d30c298d008fa380f164" title="return the event size" alt="" coords="1032,696,1237,725"/><area shape="rect" id="node53" href="a00030.html#a185596086a78015119f24c5e5132f2d0" title="return pointer to the event header" alt="" coords="1017,429,1252,459"/><area shape="rect" id="node56" href="a00136.html#abd66d29dd5da5c7324f68debe264f1c0" title="readpipe" alt="" coords="1095,483,1175,512"/><area shape="rect" id="node58" href="a00030.html#a0eb2dd100dd1f4e269407b406bb072d7" title="convert event data between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)" alt="" coords="1037,536,1232,565"/><area shape="rect" id="node62" href="a00030.html#aff76bdda6b1c357c47047bbc1a01c11d" title="convert event header between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)..." alt="" coords="992,589,1277,619"/><area shape="rect" id="node60" href="a00030.html#a892acc37f677273cb286c1cc18174bf1" title="returns &quot;true&quot; if event uses 32&#45;bit banks" alt="" coords="1340,536,1519,565"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a8a9f5d8b69ba5306e258d2d4a383002d_icgraph.png" border="0" usemap="#a00038_a8a9f5d8b69ba5306e258d2d4a383002d_icgraph_map" alt=""></div>
<map name="a00038_a8a9f5d8b69ba5306e258d2d4a383002d_icgraph_map" id="a00038_a8a9f5d8b69ba5306e258d2d4a383002d_icgraph">
<area shape="rect" id="node3" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="313,5,367,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ade054566dce34430dcafb2e4487dc3cc"></a><!-- doxytag: member="TRootanaEventLoop::Finalize" ref="ade054566dce34430dcafb2e4487dc3cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TRootanaEventLoop::Finalize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after the last event has been processed, but before any open output files are closed. </p>

</div>
</div>
<a class="anchor" id="acc1296767b1faaefde3e5d98fbb35d96"></a><!-- doxytag: member="TRootanaEventLoop::Finalize" ref="acc1296767b1faaefde3e5d98fbb35d96" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::Finalize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after the last event has been processed, but before any open output files are closed. </p>

<p>Definition at line <a class="el" href="a00121_source.html#l00074">74</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00074"></a>00074 {};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_acc1296767b1faaefde3e5d98fbb35d96_icgraph.png" border="0" usemap="#a00038_acc1296767b1faaefde3e5d98fbb35d96_icgraph_map" alt=""></div>
<map name="a00038_acc1296767b1faaefde3e5d98fbb35d96_icgraph_map" id="a00038_acc1296767b1faaefde3e5d98fbb35d96_icgraph">
<area shape="rect" id="node3" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="272,5,531,35"/><area shape="rect" id="node5" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="580,5,633,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6dffae12e1b951c03c4f3bbde0b0bc3f"></a><!-- doxytag: member="TRootanaEventLoop::Get" ref="a6dffae12e1b951c03c4f3bbde0b0bc3f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a00038.html">TRootanaEventLoop</a>&amp; TRootanaEventLoop::Get </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1e49d4cf36c6ca0f5a33d365b501aceb"></a><!-- doxytag: member="TRootanaEventLoop::Get" ref="a1e49d4cf36c6ca0f5a33d365b501aceb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00038.html">TRootanaEventLoop</a> &amp; TRootanaEventLoop::Get </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00121_source.html#l00029">29</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00151">fTRootanaEventLoop</a>.</p>

<p>Referenced by <a class="el" href="a00116_source.html#l00107">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00029"></a>00029                                               {
<a name="l00030"></a>00030   
<a name="l00031"></a>00031   <span class="keywordflow">if</span>(!<a class="code" href="a00038.html#a3a5067ce01b0543438b755b3d5451884" title="The static pointer to the singleton instance.">fTRootanaEventLoop</a>){
<a name="l00032"></a>00032     std::cerr &lt;&lt; <span class="stringliteral">&quot;Singleton Not Instantiated! &quot;</span> 
<a name="l00033"></a>00033               &lt;&lt; <span class="stringliteral">&quot; Need to call something like SomeClass::CreateSingleton&lt;SomeClass&gt;(); Exiting!&quot;</span>
<a name="l00034"></a>00034               &lt;&lt;std::endl; exit(0);
<a name="l00035"></a>00035   }
<a name="l00036"></a>00036   <span class="keywordflow">return</span> *<a class="code" href="a00038.html#a3a5067ce01b0543438b755b3d5451884" title="The static pointer to the singleton instance.">fTRootanaEventLoop</a>;
<a name="l00037"></a>00037 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a1e49d4cf36c6ca0f5a33d365b501aceb_icgraph.png" border="0" usemap="#a00038_a1e49d4cf36c6ca0f5a33d365b501aceb_icgraph_map" alt=""></div>
<map name="a00038_a1e49d4cf36c6ca0f5a33d365b501aceb_icgraph_map" id="a00038_a1e49d4cf36c6ca0f5a33d365b501aceb_icgraph">
<area shape="rect" id="node3" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="249,5,303,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3c9be09f6e0a6e64f68fc88400b697f"></a><!-- doxytag: member="TRootanaEventLoop::GetCurrentRunNumber" ref="ab3c9be09f6e0a6e64f68fc88400b697f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRootanaEventLoop::GetCurrentRunNumber </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current Run Number. </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00096">96</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00176">fCurrentRunNumber</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48" title="Current run number.">fCurrentRunNumber</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab3c9be09f6e0a6e64f68fc88400b697f"></a><!-- doxytag: member="TRootanaEventLoop::GetCurrentRunNumber" ref="ab3c9be09f6e0a6e64f68fc88400b697f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRootanaEventLoop::GetCurrentRunNumber </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current Run Number. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00096">96</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00176">fCurrentRunNumber</a>.</p>

<p>Referenced by <a class="el" href="a00116_source.html#l00033">MyTestLoop::ProcessMidasEvent()</a>, and <a class="el" href="a00131_source.html#l00163">TRootanaDisplay::UpdatePlotsAction()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48" title="Current run number.">fCurrentRunNumber</a>;};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_ab3c9be09f6e0a6e64f68fc88400b697f_icgraph.png" border="0" usemap="#a00038_ab3c9be09f6e0a6e64f68fc88400b697f_icgraph_map" alt=""></div>
<map name="a00038_ab3c9be09f6e0a6e64f68fc88400b697f_icgraph_map" id="a00038_ab3c9be09f6e0a6e64f68fc88400b697f_icgraph">
<area shape="rect" id="node3" href="a00010.html#a488e1fa5ce7c9dbf04ad102236dcf380" title="Process each midas event." alt="" coords="391,32,636,61"/><area shape="rect" id="node5" href="a00037.html#adb28b4bea380c50a1bba7a03266e606a" title="TRootanaDisplay::UpdatePlotsAction" alt="" coords="379,85,648,115"/><area shape="rect" id="node7" href="a00037.html#a59288bcf3bd2f6bcb8c7d2ee2db85b43" title="TRootanaDisplay::BeginRun" alt="" coords="731,5,936,35"/><area shape="rect" id="node9" href="a00037.html#a23f4d591f375d3415e48f46f648e130d" title="TRootanaDisplay::EndRun" alt="" coords="737,59,929,88"/><area shape="rect" id="node11" href="a00037.html#a85792355354ecf3a141b293e902de217" title="Process each midas event." alt="" coords="696,112,971,141"/><area shape="rect" id="node13" href="a00037.html#ae790ba3e2b2132743846f0f191bf4d18" title="TRootanaDisplay::Reset" alt="" coords="741,165,925,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae31d3a73fa59f1c40995e1485226cee9"></a><!-- doxytag: member="TRootanaEventLoop::GetDataContainer" ref="ae31d3a73fa59f1c40995e1485226cee9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00015.html">TDataContainer</a>* TRootanaEventLoop::GetDataContainer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to get the data container that event loop owns. </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00049">49</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00184">fDataContainer</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae31d3a73fa59f1c40995e1485226cee9"></a><!-- doxytag: member="TRootanaEventLoop::GetDataContainer" ref="ae31d3a73fa59f1c40995e1485226cee9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00015.html">TDataContainer</a>* TRootanaEventLoop::GetDataContainer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Method to get the data container that event loop owns. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00049">49</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00184">fDataContainer</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8bd9117901c0e5e13074f33deb91c2f0"></a><!-- doxytag: member="TRootanaEventLoop::GetODB" ref="a8bd9117901c0e5e13074f33deb91c2f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00045.html">VirtualOdb</a>* TRootanaEventLoop::GetODB </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get pointer to ODB variables. </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00127">127</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00170">fODB</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00127"></a>00127 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a>;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8bd9117901c0e5e13074f33deb91c2f0"></a><!-- doxytag: member="TRootanaEventLoop::GetODB" ref="a8bd9117901c0e5e13074f33deb91c2f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00045.html">VirtualOdb</a>* TRootanaEventLoop::GetODB </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get pointer to ODB variables. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00127">127</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00170">fODB</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00127"></a>00127 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a>;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a08aac9cd136da883f44944cb80650298"></a><!-- doxytag: member="TRootanaEventLoop::Initialize" ref="a08aac9cd136da883f44944cb80650298" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TRootanaEventLoop::Initialize </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after the arguments are processes but before reading the first event is read </p>

<p>Reimplemented in <a class="el" href="a00037.html#a53f19a95f7cf8923f6c708d3847f588b">TRootanaDisplay</a>, and <a class="el" href="a00037.html#a53f19a95f7cf8923f6c708d3847f588b">TRootanaDisplay</a>.</p>

</div>
</div>
<a class="anchor" id="a3d6502097ba23177d477dd0b4528aca9"></a><!-- doxytag: member="TRootanaEventLoop::Initialize" ref="a3d6502097ba23177d477dd0b4528aca9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::Initialize </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after the arguments are processes but before reading the first event is read </p>

<p>Reimplemented in <a class="el" href="a00037.html#a53f19a95f7cf8923f6c708d3847f588b">TRootanaDisplay</a>, and <a class="el" href="a00037.html#a53f19a95f7cf8923f6c708d3847f588b">TRootanaDisplay</a>.</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00068">68</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00068"></a>00068 {};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a3d6502097ba23177d477dd0b4528aca9_icgraph.png" border="0" usemap="#a00038_a3d6502097ba23177d477dd0b4528aca9_icgraph_map" alt=""></div>
<map name="a00038_a3d6502097ba23177d477dd0b4528aca9_icgraph_map" id="a00038_a3d6502097ba23177d477dd0b4528aca9_icgraph">
<area shape="rect" id="node3" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="280,5,539,35"/><area shape="rect" id="node5" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="588,5,641,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9157ed25b82028066221b620c95a57d5"></a><!-- doxytag: member="TRootanaEventLoop::IsOffline" ref="a9157ed25b82028066221b620c95a57d5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::IsOffline </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Are we processing offline data? </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00093">93</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00173">fIsOffline</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9157ed25b82028066221b620c95a57d5"></a><!-- doxytag: member="TRootanaEventLoop::IsOffline" ref="a9157ed25b82028066221b620c95a57d5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::IsOffline </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Are we processing offline data? </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00093">93</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00173">fIsOffline</a>.</p>

<p>Referenced by <a class="el" href="a00131_source.html#l00031">TRootanaDisplay::InitializeMainWindow()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00093"></a>00093 {<span class="keywordflow">return</span> <a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a>;};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a9157ed25b82028066221b620c95a57d5_icgraph.png" border="0" usemap="#a00038_a9157ed25b82028066221b620c95a57d5_icgraph_map" alt=""></div>
<map name="a00038_a9157ed25b82028066221b620c95a57d5_icgraph_map" id="a00038_a9157ed25b82028066221b620c95a57d5_icgraph">
<area shape="rect" id="node3" href="a00037.html#ab3d4f01956c85900707079ad09b31868" title="Method to initialize the Main display window." alt="" coords="279,5,559,35"/><area shape="rect" id="node5" href="a00037.html#a53f19a95f7cf8923f6c708d3847f588b" title="TRootanaDisplay::Initialize" alt="" coords="609,5,807,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a924fce568d61d499154590e8c1c564a8"></a><!-- doxytag: member="TRootanaEventLoop::IsOnline" ref="a924fce568d61d499154590e8c1c564a8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::IsOnline </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Are we processing online data? </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00090">90</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00173">fIsOffline</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00090"></a>00090 {<span class="keywordflow">return</span> !<a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a>;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a924fce568d61d499154590e8c1c564a8"></a><!-- doxytag: member="TRootanaEventLoop::IsOnline" ref="a924fce568d61d499154590e8c1c564a8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRootanaEventLoop::IsOnline </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Are we processing online data? </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00090">90</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00173">fIsOffline</a>.</p>

<p>Referenced by <a class="el" href="a00131_source.html#l00031">TRootanaDisplay::InitializeMainWindow()</a>, <a class="el" href="a00131_source.html#l00080">TRootanaDisplay::ProcessMidasEvent()</a>, and <a class="el" href="a00131_source.html#l00163">TRootanaDisplay::UpdatePlotsAction()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00090"></a>00090 {<span class="keywordflow">return</span> !<a class="code" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a" title="Are we processing offline or online data?">fIsOffline</a>;};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a924fce568d61d499154590e8c1c564a8_icgraph.png" border="0" usemap="#a00038_a924fce568d61d499154590e8c1c564a8_icgraph_map" alt=""></div>
<map name="a00038_a924fce568d61d499154590e8c1c564a8_icgraph_map" id="a00038_a924fce568d61d499154590e8c1c564a8_icgraph">
<area shape="rect" id="node3" href="a00037.html#ab3d4f01956c85900707079ad09b31868" title="Method to initialize the Main display window." alt="" coords="279,7,559,36"/><area shape="rect" id="node7" href="a00037.html#a85792355354ecf3a141b293e902de217" title="Process each midas event." alt="" coords="608,59,883,88"/><area shape="rect" id="node9" href="a00037.html#adb28b4bea380c50a1bba7a03266e606a" title="TRootanaDisplay::UpdatePlotsAction" alt="" coords="284,112,553,141"/><area shape="rect" id="node5" href="a00037.html#a53f19a95f7cf8923f6c708d3847f588b" title="TRootanaDisplay::Initialize" alt="" coords="647,5,844,35"/><area shape="rect" id="node11" href="a00037.html#a59288bcf3bd2f6bcb8c7d2ee2db85b43" title="TRootanaDisplay::BeginRun" alt="" coords="643,112,848,141"/><area shape="rect" id="node13" href="a00037.html#a23f4d591f375d3415e48f46f648e130d" title="TRootanaDisplay::EndRun" alt="" coords="649,165,841,195"/><area shape="rect" id="node16" href="a00037.html#ae790ba3e2b2132743846f0f191bf4d18" title="TRootanaDisplay::Reset" alt="" coords="653,219,837,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50feed82f7bdd7ebb3c8d4f3628517ee"></a><!-- doxytag: member="TRootanaEventLoop::OpenRootFile" ref="a50feed82f7bdd7ebb3c8d4f3628517ee" args="(int run)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::OpenRootFile </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open output ROOT file. </p>

</div>
</div>
<a class="anchor" id="a50feed82f7bdd7ebb3c8d4f3628517ee"></a><!-- doxytag: member="TRootanaEventLoop::OpenRootFile" ref="a50feed82f7bdd7ebb3c8d4f3628517ee" args="(int run)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::OpenRootFile </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open output ROOT file. </p>

<p>Definition at line <a class="el" href="a00121_source.html#l00319">319</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00167">fDisableRootOutput</a>, <a class="el" href="a00102_source.html#l00164">fOutputFile</a>, and <a class="el" href="a00140_source.html#l00618">NetDirectoryExport()</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00319"></a>00319                                            {
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 
<a name="l00322"></a>00322   <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a0ca33af48e5060946f73897cb864b24b" title="Variable for disabling/enabling Root output.">fDisableRootOutput</a>) <span class="keywordflow">return</span>;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="keywordflow">if</span>(<a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>) {
<a name="l00325"></a>00325     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>-&gt;Write();
<a name="l00326"></a>00326     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>-&gt;Close();
<a name="l00327"></a>00327     <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>=0;
<a name="l00328"></a>00328   }  
<a name="l00329"></a>00329   
<a name="l00330"></a>00330   <span class="keywordtype">char</span> filename[1024];
<a name="l00331"></a>00331   sprintf(filename, <span class="stringliteral">&quot;output%05d.root&quot;</span>, run);
<a name="l00332"></a>00332   <a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a> = <span class="keyword">new</span> TFile(filename,<span class="stringliteral">&quot;RECREATE&quot;</span>);
<a name="l00333"></a>00333   std::cout &lt;&lt; <span class="stringliteral">&quot;Opened output file with name : &quot;</span> &lt;&lt; filename &lt;&lt; std::endl;
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 <span class="preprocessor">#ifdef HAVE_LIBNETDIRECTORY</span>
<a name="l00337"></a>00337 <span class="preprocessor"></span>  <a class="code" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc">NetDirectoryExport</a>(<a class="code" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a" title="Output ROOT file.">fOutputFile</a>, <span class="stringliteral">&quot;outputFile&quot;</span>);
<a name="l00338"></a>00338 <span class="preprocessor">#endif</span>
<a name="l00339"></a>00339 <span class="preprocessor"></span>}
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_cgraph.png" border="0" usemap="#a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_cgraph_map" alt=""></div>
<map name="a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_cgraph_map" id="a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_cgraph">
<area shape="rect" id="node3" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc" title="NetDirectoryExport" alt="" coords="312,5,469,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_icgraph.png" border="0" usemap="#a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_icgraph_map" alt=""></div>
<map name="a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_icgraph_map" id="a00038_a50feed82f7bdd7ebb3c8d4f3628517ee_icgraph">
<area shape="rect" id="node3" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="312,5,595,35"/><area shape="rect" id="node5" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="643,5,901,35"/><area shape="rect" id="node7" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="951,5,1004,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fb28064359beb3b0781833976377233"></a><!-- doxytag: member="TRootanaEventLoop::PrintHelp" ref="a4fb28064359beb3b0781833976377233" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::PrintHelp </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Help Message. </p>

</div>
</div>
<a class="anchor" id="a4fb28064359beb3b0781833976377233"></a><!-- doxytag: member="TRootanaEventLoop::PrintHelp" ref="a4fb28064359beb3b0781833976377233" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::PrintHelp </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Help Message. </p>

<p>Definition at line <a class="el" href="a00121_source.html#l00082">82</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00121_source.html#l00076">Usage()</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00082"></a>00082                                  {
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   printf(<span class="stringliteral">&quot;\nUsage:\n&quot;</span>);
<a name="l00085"></a>00085   printf(<span class="stringliteral">&quot;\n./analyzer.exe [-h] [-Hhostname] [-Eexptname] [-eMaxEvents] [-P9091] [-p9090] [-m] [-g] [file1 file2 ...]\n&quot;</span>);
<a name="l00086"></a>00086   printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00087"></a>00087   printf(<span class="stringliteral">&quot;\t-h: print this help message\n&quot;</span>);
<a name="l00088"></a>00088   printf(<span class="stringliteral">&quot;\t-T: test mode - start and serve a test histogram\n&quot;</span>);
<a name="l00089"></a>00089   printf(<span class="stringliteral">&quot;\t-Hhostname: connect to MIDAS experiment on given host\n&quot;</span>);
<a name="l00090"></a>00090   printf(<span class="stringliteral">&quot;\t-Eexptname: connect to this MIDAS experiment\n&quot;</span>);
<a name="l00091"></a>00091   printf(<span class="stringliteral">&quot;\t-P: Start the TNetDirectory server on specified tcp port (for use with roody -Plocalhost:9091)\n&quot;</span>);
<a name="l00092"></a>00092   printf(<span class="stringliteral">&quot;\t-p: Start the old midas histogram server on specified tcp port (for use with roody -Hlocalhost:9090)\n&quot;</span>);
<a name="l00093"></a>00093   printf(<span class="stringliteral">&quot;\t-e: Number of events to read from input data files\n&quot;</span>);
<a name="l00094"></a>00094   <span class="comment">//printf(&quot;\t-m: Enable memory leak debugging\n&quot;);</span>
<a name="l00095"></a>00095   printf(<span class="stringliteral">&quot;\t-g: Enable graphics display when processing data files\n&quot;</span>);
<a name="l00096"></a>00096   <a class="code" href="a00038.html#ad0b0df6c32a6187f0800517d16593793">Usage</a>();  <span class="comment">// Print description of user options.</span>
<a name="l00097"></a>00097   printf(<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00098"></a>00098   printf(<span class="stringliteral">&quot;Example1: analyze online data: ./analyzer.exe -P9091\n&quot;</span>);
<a name="l00099"></a>00099   printf(<span class="stringliteral">&quot;Example2: analyze existing data: ./analyzer.exe /data/alpha/current/run00500.mid\n&quot;</span>);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101   exit(1);
<a name="l00102"></a>00102 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a4fb28064359beb3b0781833976377233_cgraph.png" border="0" usemap="#a00038_a4fb28064359beb3b0781833976377233_cgraph_map" alt=""></div>
<map name="a00038_a4fb28064359beb3b0781833976377233_cgraph_map" id="a00038_a4fb28064359beb3b0781833976377233_cgraph">
<area shape="rect" id="node3" href="a00038.html#ad0b0df6c32a6187f0800517d16593793" title="TRootanaEventLoop::Usage" alt="" coords="285,5,496,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a4fb28064359beb3b0781833976377233_icgraph.png" border="0" usemap="#a00038_a4fb28064359beb3b0781833976377233_icgraph_map" alt=""></div>
<map name="a00038_a4fb28064359beb3b0781833976377233_icgraph_map" id="a00038_a4fb28064359beb3b0781833976377233_icgraph">
<area shape="rect" id="node3" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="285,5,544,35"/><area shape="rect" id="node5" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="593,5,647,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a41650949d3a59bca09b468af845271d9"></a><!-- doxytag: member="TRootanaEventLoop::ProcessMidasEvent" ref="a41650949d3a59bca09b468af845271d9" args="(TDataContainer &amp;dataContainer)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TRootanaEventLoop::ProcessMidasEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00015.html">TDataContainer</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dataContainer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The main method, called for each event. Users must implement this function! </p>

<p>Implemented in <a class="el" href="a00037.html#a85792355354ecf3a141b293e902de217">TRootanaDisplay</a>, <a class="el" href="a00010.html#a488e1fa5ce7c9dbf04ad102236dcf380">MyTestLoop</a>, and <a class="el" href="a00037.html#a85792355354ecf3a141b293e902de217">TRootanaDisplay</a>.</p>

</div>
</div>
<a class="anchor" id="a41650949d3a59bca09b468af845271d9"></a><!-- doxytag: member="TRootanaEventLoop::ProcessMidasEvent" ref="a41650949d3a59bca09b468af845271d9" args="(TDataContainer &amp;dataContainer)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TRootanaEventLoop::ProcessMidasEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00015.html">TDataContainer</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dataContainer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The main method, called for each event. Users must implement this function! </p>

<p>Implemented in <a class="el" href="a00037.html#a85792355354ecf3a141b293e902de217">TRootanaDisplay</a>, <a class="el" href="a00010.html#a488e1fa5ce7c9dbf04ad102236dcf380">MyTestLoop</a>, and <a class="el" href="a00037.html#a85792355354ecf3a141b293e902de217">TRootanaDisplay</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_a41650949d3a59bca09b468af845271d9_icgraph.png" border="0" usemap="#a00038_a41650949d3a59bca09b468af845271d9_icgraph_map" alt=""></div>
<map name="a00038_a41650949d3a59bca09b468af845271d9_icgraph_map" id="a00038_a41650949d3a59bca09b468af845271d9_icgraph">
<area shape="rect" id="node3" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="355,5,637,35"/><area shape="rect" id="node5" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="685,5,944,35"/><area shape="rect" id="node7" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="993,5,1047,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afce91826b6a3fc111ff919ac7f5a1ed0"></a><!-- doxytag: member="TRootanaEventLoop::ProcessMidasFile" ref="afce91826b6a3fc111ff919ac7f5a1ed0" args="(TApplication *app, const char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRootanaEventLoop::ProcessMidasFile </td>
          <td>(</td>
          <td class="paramtype">TApplication *&nbsp;</td>
          <td class="paramname"> <em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afce91826b6a3fc111ff919ac7f5a1ed0"></a><!-- doxytag: member="TRootanaEventLoop::ProcessMidasFile" ref="afce91826b6a3fc111ff919ac7f5a1ed0" args="(TApplication *app, const char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRootanaEventLoop::ProcessMidasFile </td>
          <td>(</td>
          <td class="paramtype">TApplication *&nbsp;</td>
          <td class="paramname"> <em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Treat the begin run and end run events differently. </p>
</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00232">232</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>References <a class="el" href="a00121_source.html#l00070">BeginRun()</a>, <a class="el" href="a00118_source.html#l00043">TDataContainer::CleanupEvent()</a>, <a class="el" href="a00136_source.html#l00374">TMidasFile::Close()</a>, <a class="el" href="a00121_source.html#l00342">CloseRootFile()</a>, <a class="el" href="a00121_source.html#l00072">EndRun()</a>, <a class="el" href="a00102_source.html#l00176">fCurrentRunNumber</a>, <a class="el" href="a00102_source.html#l00184">fDataContainer</a>, <a class="el" href="a00102_source.html#l00193">fMaxEvents</a>, <a class="el" href="a00102_source.html#l00170">fODB</a>, <a class="el" href="a00135_source.html#l00118">TMidasEvent::GetData()</a>, <a class="el" href="a00135_source.html#l00103">TMidasEvent::GetSerialNumber()</a>, <a class="el" href="a00136_source.html#l00050">TMidasFile::Open()</a>, <a class="el" href="a00121_source.html#l00319">OpenRootFile()</a>, <a class="el" href="a00038.html#a41650949d3a59bca09b468af845271d9">ProcessMidasEvent()</a>, <a class="el" href="a00136_source.html#l00279">TMidasFile::Read()</a>, and <a class="el" href="a00118_source.html#l00052">TDataContainer::SetMidasEventPointer()</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00233"></a>00233 {
<a name="l00234"></a>00234   <a class="code" href="a00031.html" title="Reader for MIDAS .mid files.">TMidasFile</a> f;
<a name="l00235"></a>00235   <span class="keywordtype">bool</span> tryOpen = f.<a class="code" href="a00031.html#a0f39c35bb559a648f46a5b0d05c16768" title="Open input file.">Open</a>(fname);
<a name="l00236"></a>00236 
<a name="l00237"></a>00237   <span class="keywordflow">if</span> (!tryOpen){
<a name="l00238"></a>00238     printf(<span class="stringliteral">&quot;Cannot open input file \&quot;%s\&quot;\n&quot;</span>,fname);
<a name="l00239"></a>00239     <span class="keywordflow">return</span> -1;
<a name="l00240"></a>00240   }
<a name="l00241"></a>00241  
<a name="l00242"></a>00242 
<a name="l00243"></a>00243   <span class="keywordtype">int</span> i=0;
<a name="l00244"></a>00244   <span class="keywordflow">while</span> (1)
<a name="l00245"></a>00245     {
<a name="l00246"></a>00246       <a class="code" href="a00030.html" title="MIDAS event.">TMidasEvent</a> event;
<a name="l00247"></a>00247       <span class="keywordflow">if</span> (!f.<a class="code" href="a00031.html#acd25594fcc51873a05fd16ec24979940" title="Read one event from the file.">Read</a>(&amp;event))
<a name="l00248"></a>00248         <span class="keywordflow">break</span>;
<a name="l00249"></a>00249       <span class="comment"></span>
<a name="l00250"></a>00250 <span class="comment">      /// Treat the begin run and end run events differently.</span>
<a name="l00251"></a>00251 <span class="comment"></span>      <span class="keywordtype">int</span> eventId = <span class="keyword">event</span>.GetEventId();
<a name="l00252"></a>00252 
<a name="l00253"></a>00253       
<a name="l00254"></a>00254 
<a name="l00255"></a>00255       <span class="keywordflow">if</span> ((eventId &amp; 0xFFFF) == 0x8000){<span class="comment">// begin run event</span>
<a name="l00256"></a>00256         
<a name="l00257"></a>00257         <span class="keyword">event</span>.Print();
<a name="l00258"></a>00258         
<a name="l00259"></a>00259         <span class="comment">// Load ODB contents from the ODB XML file</span>
<a name="l00260"></a>00260         <span class="keywordflow">if</span> (<a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a>) <span class="keyword">delete</span> <a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a>;
<a name="l00261"></a>00261         <a class="code" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d" title="Pointer to the ODB access instance.">fODB</a> = <span class="keyword">new</span> <a class="code" href="a00047.html" title="Access to ODB saved in XML format inside midas .mid files.">XmlOdb</a>(event.<a class="code" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer">GetData</a>(),<span class="keyword">event</span>.GetDataSize());
<a name="l00262"></a>00262         
<a name="l00263"></a>00263         <a class="code" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48" title="Current run number.">fCurrentRunNumber</a> = <span class="keyword">event</span>.GetSerialNumber();
<a name="l00264"></a>00264         <a class="code" href="a00038.html#a50feed82f7bdd7ebb3c8d4f3628517ee" title="Open output ROOT file.">OpenRootFile</a>(fCurrentRunNumber);
<a name="l00265"></a>00265         <a class="code" href="a00038.html#a7adb0f62ab8aff8b9a9f31ce5fea6f0d">BeginRun</a>(0,event.<a class="code" href="a00030.html#acbaff1df97247584f3772ac8b5df720e" title="return the serial number">GetSerialNumber</a>(),0);
<a name="l00266"></a>00266 
<a name="l00267"></a>00267       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((eventId &amp; 0xFFFF) == 0x8001){<span class="comment">// end run event</span>
<a name="l00268"></a>00268           
<a name="l00269"></a>00269         <span class="keyword">event</span>.Print();
<a name="l00270"></a>00270         <span class="comment">//EndRun(0,fCurrentRunNumber,0);</span>
<a name="l00271"></a>00271         
<a name="l00272"></a>00272 
<a name="l00273"></a>00273       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((eventId &amp; 0xFFFF) == 0x8002){
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         <span class="keyword">event</span>.Print(); 
<a name="l00276"></a>00276         printf(<span class="stringliteral">&quot;Log message: %s\n&quot;</span>, event.<a class="code" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer">GetData</a>()); 
<a name="l00277"></a>00277 
<a name="l00278"></a>00278       }<span class="keywordflow">else</span> { <span class="comment">// all other events</span>
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 
<a name="l00281"></a>00281         <span class="comment">// Set the bank list for midas event.</span>
<a name="l00282"></a>00282         <span class="keyword">event</span>.SetBankList();
<a name="l00283"></a>00283 
<a name="l00284"></a>00284         <span class="comment">// Set the midas event pointer in the physics event.</span>
<a name="l00285"></a>00285         <a class="code" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a>-&gt;<a class="code" href="a00015.html#a8794353097037750b70434c447c52a05">SetMidasEventPointer</a>(event);
<a name="l00286"></a>00286         
<a name="l00287"></a>00287         <span class="comment">//ProcessEvent(event);</span>
<a name="l00288"></a>00288         <a class="code" href="a00038.html#a41650949d3a59bca09b468af845271d9">ProcessMidasEvent</a>(*<a class="code" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a>);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290         <span class="comment">// Cleanup the information for this event.</span>
<a name="l00291"></a>00291         <a class="code" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">fDataContainer</a>-&gt;<a class="code" href="a00015.html#ad9be9716a529451b8aa0cc23b635dd40">CleanupEvent</a>();
<a name="l00292"></a>00292 
<a name="l00293"></a>00293       }
<a name="l00294"></a>00294         
<a name="l00295"></a>00295       <span class="keywordflow">if</span>((i%500)==0){
<a name="l00296"></a>00296         printf(<span class="stringliteral">&quot;Processing event %d\n&quot;</span>,i);
<a name="l00297"></a>00297       }
<a name="l00298"></a>00298       
<a name="l00299"></a>00299       <span class="comment">// Check if we have processed desired number of events.</span>
<a name="l00300"></a>00300       i++;
<a name="l00301"></a>00301       <span class="keywordflow">if</span> ((<a class="code" href="a00038.html#a65fcda67dcd6af3c5ae4bbce0d5cf74f">fMaxEvents</a>!=0)&amp;&amp;(i&gt;=<a class="code" href="a00038.html#a65fcda67dcd6af3c5ae4bbce0d5cf74f">fMaxEvents</a>)){
<a name="l00302"></a>00302         printf(<span class="stringliteral">&quot;Reached event %d, exiting loop.\n&quot;</span>,i);
<a name="l00303"></a>00303         <span class="keywordflow">break</span>;
<a name="l00304"></a>00304       }
<a name="l00305"></a>00305     }
<a name="l00306"></a>00306   
<a name="l00307"></a>00307   f.<a class="code" href="a00031.html#a693315cd892c50575f44c46080a339b8" title="Close input file.">Close</a>(); 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309   <a class="code" href="a00038.html#ab75d515101b4f51fbc0e1a9388b3a09b">EndRun</a>(0,fCurrentRunNumber,0);
<a name="l00310"></a>00310   <a class="code" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301" title="Cloe output ROOT file.">CloseRootFile</a>();  
<a name="l00311"></a>00311 
<a name="l00312"></a>00312   <span class="comment">// start the ROOT GUI event loop</span>
<a name="l00313"></a>00313   <span class="comment">//  app-&gt;Run(kTRUE);</span>
<a name="l00314"></a>00314 
<a name="l00315"></a>00315   <span class="keywordflow">return</span> 0;
<a name="l00316"></a>00316 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_afce91826b6a3fc111ff919ac7f5a1ed0_cgraph.png" border="0" usemap="#a00038_afce91826b6a3fc111ff919ac7f5a1ed0_cgraph_map" alt=""></div>
<map name="a00038_afce91826b6a3fc111ff919ac7f5a1ed0_cgraph_map" id="a00038_afce91826b6a3fc111ff919ac7f5a1ed0_cgraph">
<area shape="rect" id="node3" href="a00038.html#a7adb0f62ab8aff8b9a9f31ce5fea6f0d" title="TRootanaEventLoop::BeginRun" alt="" coords="371,5,603,35"/><area shape="rect" id="node5" href="a00015.html#ad9be9716a529451b8aa0cc23b635dd40" title="TDataContainer::CleanupEvent" alt="" coords="369,59,604,88"/><area shape="rect" id="node7" href="a00031.html#a693315cd892c50575f44c46080a339b8" title="Close input file." alt="" coords="760,112,896,141"/><area shape="rect" id="node9" href="a00038.html#aa9b12eede82ae2990ea4dfa2f38e5301" title="Cloe output ROOT file." alt="" coords="357,163,616,192"/><area shape="rect" id="node11" href="a00038.html#ab75d515101b4f51fbc0e1a9388b3a09b" title="TRootanaEventLoop::EndRun" alt="" coords="377,216,596,245"/><area shape="rect" id="node13" href="a00030.html#af7b600b29911a56e604a2bd0159a8664" title="return pointer to the data buffer" alt="" coords="739,643,917,672"/><area shape="rect" id="node19" href="a00030.html#acbaff1df97247584f3772ac8b5df720e" title="return the serial number" alt="" coords="369,323,604,352"/><area shape="rect" id="node21" href="a00031.html#a0f39c35bb559a648f46a5b0d05c16768" title="Open input file." alt="" coords="419,269,555,299"/><area shape="rect" id="node26" href="a00038.html#a50feed82f7bdd7ebb3c8d4f3628517ee" title="Open output ROOT file." alt="" coords="357,376,616,405"/><area shape="rect" id="node30" href="a00038.html#a41650949d3a59bca09b468af845271d9" title="TRootanaEventLoop::ProcessMidasEvent" alt="" coords="336,483,637,512"/><area shape="rect" id="node32" href="a00031.html#acd25594fcc51873a05fd16ec24979940" title="Read one event from the file." alt="" coords="420,429,553,459"/><area shape="rect" id="node50" href="a00015.html#a8794353097037750b70434c447c52a05" title="TDataContainer::SetMidasEventPointer" alt="" coords="341,587,632,616"/><area shape="rect" id="node15" href="a00030.html#a49f5869d31fb4f9ec1f6c9db12050fee" title="allocate data buffer using the existing event header" alt="" coords="1019,563,1227,592"/><area shape="rect" id="node17" href="a00030.html#a7431aed59b35c7850894ea8fafd01964" title="validate the event length" alt="" coords="1275,417,1467,447"/><area shape="rect" id="node24" href="a00136.html#acc3a0586541b034e8d61632b1c093dde" title="hasSuffix" alt="" coords="787,165,869,195"/><area shape="rect" id="node28" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc" title="NetDirectoryExport" alt="" coords="749,219,907,248"/><area shape="rect" id="node34" href="a00030.html#a2eaf81576e2c7b54ab3af3ec1da749bd" title="clear event for reuse" alt="" coords="751,536,905,565"/><area shape="rect" id="node37" href="a00030.html#a339db17cb1f0d30c298d008fa380f164" title="return the event size" alt="" coords="725,589,931,619"/><area shape="rect" id="node39" href="a00030.html#a185596086a78015119f24c5e5132f2d0" title="return pointer to the event header" alt="" coords="711,323,945,352"/><area shape="rect" id="node42" href="a00136.html#abd66d29dd5da5c7324f68debe264f1c0" title="readpipe" alt="" coords="788,376,868,405"/><area shape="rect" id="node44" href="a00030.html#a0eb2dd100dd1f4e269407b406bb072d7" title="convert event data between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)" alt="" coords="731,429,925,459"/><area shape="rect" id="node48" href="a00030.html#aff76bdda6b1c357c47047bbc1a01c11d" title="convert event header between little&#45;endian (Linux&#45;x86) and big endian (MacOS&#45;PPC)..." alt="" coords="685,483,971,512"/><area shape="rect" id="node46" href="a00030.html#a892acc37f677273cb286c1cc18174bf1" title="returns &quot;true&quot; if event uses 32&#45;bit banks" alt="" coords="1033,429,1212,459"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_afce91826b6a3fc111ff919ac7f5a1ed0_icgraph.png" border="0" usemap="#a00038_afce91826b6a3fc111ff919ac7f5a1ed0_icgraph_map" alt=""></div>
<map name="a00038_afce91826b6a3fc111ff919ac7f5a1ed0_icgraph_map" id="a00038_afce91826b6a3fc111ff919ac7f5a1ed0_icgraph">
<area shape="rect" id="node3" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="336,5,595,35"/><area shape="rect" id="node5" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="644,5,697,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a55b099d67823015adca698576c78bdfa"></a><!-- doxytag: member="TRootanaEventLoop::SetCurrentRunNumber" ref="a55b099d67823015adca698576c78bdfa" args="(int run)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::SetCurrentRunNumber </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current Run Number. </p>

<p>Definition at line <a class="el" href="a00103_source.html#l00099">99</a> of file <a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00176">fCurrentRunNumber</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099 {<a class="code" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48" title="Current run number.">fCurrentRunNumber</a> = run;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="a55b099d67823015adca698576c78bdfa"></a><!-- doxytag: member="TRootanaEventLoop::SetCurrentRunNumber" ref="a55b099d67823015adca698576c78bdfa" args="(int run)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::SetCurrentRunNumber </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>run</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current Run Number. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00099">99</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>References <a class="el" href="a00102_source.html#l00176">fCurrentRunNumber</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099 {<a class="code" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48" title="Current run number.">fCurrentRunNumber</a> = run;};
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac0583108cab1ad7f0fafc6baf27e76d4"></a><!-- doxytag: member="TRootanaEventLoop::Usage" ref="ac0583108cab1ad7f0fafc6baf27e76d4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TRootanaEventLoop::Usage </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when there is a usage error. This code should print a usage message and then return. </p>

<p>Reimplemented in <a class="el" href="a00010.html#a63c617692b0e1920a9927e700853bb6a">MyTestLoop</a>.</p>

</div>
</div>
<a class="anchor" id="ad0b0df6c32a6187f0800517d16593793"></a><!-- doxytag: member="TRootanaEventLoop::Usage" ref="ad0b0df6c32a6187f0800517d16593793" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRootanaEventLoop::Usage </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when there is a usage error. This code should print a usage message and then return. </p>

<p>Reimplemented in <a class="el" href="a00010.html#a63c617692b0e1920a9927e700853bb6a">MyTestLoop</a>.</p>

<p>Definition at line <a class="el" href="a00121_source.html#l00076">76</a> of file <a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00082">PrintHelp()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 {};
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00038_ad0b0df6c32a6187f0800517d16593793_icgraph.png" border="0" usemap="#a00038_ad0b0df6c32a6187f0800517d16593793_icgraph_map" alt=""></div>
<map name="a00038_ad0b0df6c32a6187f0800517d16593793_icgraph_map" id="a00038_ad0b0df6c32a6187f0800517d16593793_icgraph">
<area shape="rect" id="node3" href="a00038.html#a4fb28064359beb3b0781833976377233" title="Help Message." alt="" coords="265,5,495,35"/><area shape="rect" id="node5" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="544,5,803,35"/><area shape="rect" id="node7" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="852,5,905,35"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a01ccf4d3ecb695d5e6628dfc83b46b3e"></a><!-- doxytag: member="TRootanaEventLoop::fApp" ref="a01ccf4d3ecb695d5e6628dfc83b46b3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TApplication * <a class="el" href="a00038.html#a01ccf4d3ecb695d5e6628dfc83b46b3e">TRootanaEventLoop::fApp</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00102_source.html#l00196">196</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a0323a9faa783cd60832648a3fe0e5c05"></a><!-- doxytag: member="TRootanaEventLoop::fCreateMainWindow" ref="a0323a9faa783cd60832648a3fe0e5c05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00038.html#a0323a9faa783cd60832648a3fe0e5c05">TRootanaEventLoop::fCreateMainWindow</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00102_source.html#l00199">199</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00102_source.html#l00124">DisableAutoMainWindow()</a>, <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a86992da8f477f6c9a88afdab69b6fb48"></a><!-- doxytag: member="TRootanaEventLoop::fCurrentRunNumber" ref="a86992da8f477f6c9a88afdab69b6fb48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00038.html#a86992da8f477f6c9a88afdab69b6fb48">TRootanaEventLoop::fCurrentRunNumber</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current run number. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00176">176</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00102_source.html#l00096">GetCurrentRunNumber()</a>, <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>, <a class="el" href="a00102_source.html#l00099">SetCurrentRunNumber()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bb3d66a65175b1249071cd5c530bcd1"></a><!-- doxytag: member="TRootanaEventLoop::fDataContainer" ref="a6bb3d66a65175b1249071cd5c530bcd1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00015.html">TDataContainer</a> * <a class="el" href="a00038.html#a6bb3d66a65175b1249071cd5c530bcd1">TRootanaEventLoop::fDataContainer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the physics event; the physics event is what we pass to user. The midas event is accessible through physics event. We make a single instance of the physics event for whole execution, because sometimes the decoded information needs to persist across multiple midas events. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00184">184</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00102_source.html#l00049">GetDataContainer()</a>, <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ca33af48e5060946f73897cb864b24b"></a><!-- doxytag: member="TRootanaEventLoop::fDisableRootOutput" ref="a0ca33af48e5060946f73897cb864b24b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00038.html#a0ca33af48e5060946f73897cb864b24b">TRootanaEventLoop::fDisableRootOutput</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Variable for disabling/enabling Root output. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00167">167</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00102_source.html#l00136">DisableRootOutput()</a>, <a class="el" href="a00121_source.html#l00319">OpenRootFile()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a2716141e276df8c688463e3b6a23ff5a"></a><!-- doxytag: member="TRootanaEventLoop::fIsOffline" ref="a2716141e276df8c688463e3b6a23ff5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="a00038.html#a2716141e276df8c688463e3b6a23ff5a">TRootanaEventLoop::fIsOffline</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Are we processing offline or online data? </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00173">173</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>, <a class="el" href="a00102_source.html#l00093">IsOffline()</a>, <a class="el" href="a00102_source.html#l00090">IsOnline()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a65fcda67dcd6af3c5ae4bbce0d5cf74f"></a><!-- doxytag: member="TRootanaEventLoop::fMaxEvents" ref="a65fcda67dcd6af3c5ae4bbce0d5cf74f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="a00038.html#a65fcda67dcd6af3c5ae4bbce0d5cf74f">TRootanaEventLoop::fMaxEvents</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00102_source.html#l00193">193</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>, <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a5dc5adeb5c2f1d79b799b168dc0bc53d"></a><!-- doxytag: member="TRootanaEventLoop::fODB" ref="a5dc5adeb5c2f1d79b799b168dc0bc53d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00045.html">VirtualOdb</a> * <a class="el" href="a00038.html#a5dc5adeb5c2f1d79b799b168dc0bc53d">TRootanaEventLoop::fODB</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the ODB access instance. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00170">170</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00102_source.html#l00127">GetODB()</a>, <a class="el" href="a00121_source.html#l00232">ProcessMidasFile()</a>, <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>, and <a class="el" href="a00121_source.html#l00060">~TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3cafb683213b53656319b428f87f6db"></a><!-- doxytag: member="TRootanaEventLoop::fOnlineHistDir" ref="ac3cafb683213b53656319b428f87f6db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00019.html">TDirectory</a> * <a class="el" href="a00038.html#ac3cafb683213b53656319b428f87f6db">TRootanaEventLoop::fOnlineHistDir</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="a00019.html">TDirectory</a> for online histograms. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00154">154</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">ExecuteLoop()</a>, <a class="el" href="a00116_source.html#l00033">MyTestLoop::ProcessMidasEvent()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a7089722dbfc08d890c4d3a9d30f7d43a"></a><!-- doxytag: member="TRootanaEventLoop::fOutputFile" ref="a7089722dbfc08d890c4d3a9d30f7d43a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TFile * <a class="el" href="a00038.html#a7089722dbfc08d890c4d3a9d30f7d43a">TRootanaEventLoop::fOutputFile</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output ROOT file. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00164">164</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00342">CloseRootFile()</a>, <a class="el" href="a00102_source.html#l00140">CreateOutputFile()</a>, <a class="el" href="a00121_source.html#l00319">OpenRootFile()</a>, and <a class="el" href="a00121_source.html#l00041">TRootanaEventLoop()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a5067ce01b0543438b755b3d5451884"></a><!-- doxytag: member="TRootanaEventLoop::fTRootanaEventLoop" ref="a3a5067ce01b0543438b755b3d5451884" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a00038.html">TRootanaEventLoop</a> * <a class="el" href="a00038.html#a3a5067ce01b0543438b755b3d5451884">TRootanaEventLoop::fTRootanaEventLoop</a> = NULL<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The static pointer to the singleton instance. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00151">151</a> of file <a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a>.</p>

<p>Referenced by <a class="el" href="a00102_source.html#l00114">CreateSingleton()</a>, and <a class="el" href="a00121_source.html#l00029">Get()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="a00102_source.html">TRootanaEventLoop.hxx</a></li>
<li>libAnalyzer/<a class="el" href="a00103_source.html">TRootanaEventLoop.hxx</a></li>
<li>libAnalyzer/<a class="el" href="a00121_source.html">TRootanaEventLoop.cxx</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 May 2013 for ROOT Analyzer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
