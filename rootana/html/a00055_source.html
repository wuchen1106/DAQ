<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ROOT Analyzer: libMidasInterface/HttpOdb.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_8b306e26762ee91ba34195053e27d894.html">libMidasInterface</a>
  </div>
</div>
<div class="contents">
<h1>HttpOdb.h</h1><a href="a00055.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">// Access ODB via mhttpd http requests</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Name: HttpOdb.h</span>
<a name="l00005"></a>00005 <span class="comment">// Author: K.Olchanski, 12-Nov-2008</span>
<a name="l00006"></a>00006 <span class="comment">//</span>
<a name="l00007"></a>00007 <span class="comment">// $Id: HttpOdb.h 91 2012-04-12 18:36:17Z olchansk $</span>
<a name="l00008"></a>00008 <span class="comment">//</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef INCLUDE_HttpOdb_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define INCLUDE_HttpOdb_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="a00111.html">VirtualOdb.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="comment"></span>
<a name="l00015"></a>00015 <span class="comment">///</span>
<a name="l00016"></a>00016 <span class="comment">/// To enable ODB access in mhttpd, create an ODB string entry &quot;/Custom/secret.html!&quot; with blank value.</span>
<a name="l00017"></a>00017 <span class="comment">///</span>
<a name="l00018"></a>00018 <span class="comment">/// Then create an HttpOdb class with URL &quot;http://hostname:port/CS/secret.html&quot; and use the odb access functions as required.</span>
<a name="l00019"></a>00019 <span class="comment">///</span>
<a name="l00020"></a>00020 <span class="comment">/// Note that HTTP access is not optimized for speed. It can be slow, can result in high CPU utilization by mhttpd and is subject to lengthy delays if mhttpd is busy with something else (i.e. starting a run or generating history plots).</span>
<a name="l00021"></a>00021 <span class="comment">///</span>
<a name="l00022"></a>00022 <span class="comment">/// In this usage, the string &quot;secret.html&quot; functions as an access password.</span>
<a name="l00023"></a>00023 <span class="comment">///</span>
<a name="l00024"></a>00024 <span class="comment"></span><span class="comment"></span>
<a name="l00025"></a>00025 <span class="comment">/// Access to ODB through the MIDAS HTTP server mhttpd</span>
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="keyword">class </span><a class="code" href="a00006.html" title="Access to ODB through the MIDAS HTTP server mhttpd.">HttpOdb</a> : <span class="keyword">public</span> <a class="code" href="a00045.html" title="Interface class for ODB access.">VirtualOdb</a>
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029  <span class="keyword">protected</span>:
<a name="l00030"></a>00030   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00006.html#a50662d31dc9f97d224d35026a648d0b5">fUrl</a>;
<a name="l00031"></a>00031   <span class="keywordtype">int</span> <a class="code" href="a00006.html#aa08ffc3090409a33f98064e39bd37d9f">fDebug</a>;
<a name="l00032"></a>00032 
<a name="l00033"></a>00033  <span class="keyword">public</span>:<span class="comment"></span>
<a name="l00034"></a>00034 <span class="comment">  /// Contructor from a base URL</span>
<a name="l00035"></a>00035 <span class="comment"></span>  <a class="code" href="a00006.html#a38af3a122aefc650ed32074d722a48b4" title="Contructor from a base URL.">HttpOdb</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* url);
<a name="l00036"></a>00036 <span class="comment"></span>
<a name="l00037"></a>00037 <span class="comment">  /// Destructor</span>
<a name="l00038"></a>00038 <span class="comment"></span>  <span class="keyword">virtual</span> <a class="code" href="a00006.html#ab86bdfdd1337162bd6bea1e5048ba4a4" title="Destructor.">~HttpOdb</a>();
<a name="l00039"></a>00039 
<a name="l00040"></a>00040   <span class="keywordtype">int</span>      <a class="code" href="a00006.html#ac49dc67532bdb7f2b08659390ec8c914" title="Read value of arbitrary type.">odbReadAny</a>(   <span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> tid,<span class="keywordtype">void</span>* buf, <span class="keywordtype">int</span> bufsize=0);
<a name="l00041"></a>00041   <span class="keywordtype">int</span>      <a class="code" href="a00006.html#a39f1e74dadddacbc6afc8ead496ddaa0" title="Read an integer value, midas type TID_INT.">odbReadInt</a>(   <span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span>      defaultValue);
<a name="l00042"></a>00042   uint32_t <a class="code" href="a00006.html#a61889201da3be676d2f8c1103176be18" title="Read an unsigned 32-bit integer value, midas type TID_DWORD.">odbReadUint32</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, uint32_t defaultValue);
<a name="l00043"></a>00043   <span class="keywordtype">bool</span>     <a class="code" href="a00006.html#a21f27755c70fec4d2fe3af1b21e47790" title="Read a boolean value, midas type TID_BOOL.">odbReadBool</a>(  <span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, <span class="keywordtype">bool</span>     defaultValue);
<a name="l00044"></a>00044   <span class="keywordtype">double</span>   <a class="code" href="a00006.html#a0379ebe655db22f306d3cef0363043d6" title="Read an 64-bit floating point value, midas type TID_DOUBLET.">odbReadDouble</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, <span class="keywordtype">double</span>   defaultValue);
<a name="l00045"></a>00045   <span class="keywordtype">float</span>    <a class="code" href="a00006.html#a450796e68771315f78838d4797c197d2" title="Read an 32-bit floating point value, midas type TID_FLOAT.">odbReadFloat</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, <span class="keywordtype">float</span>    defaultValue);
<a name="l00046"></a>00046   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00006.html#a67543ea706e8b3acb879f9fb27c07aff" title="Read a string value, midas type TID_STRING.">odbReadString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*name, <span class="keywordtype">int</span> index, <span class="keyword">const</span> <span class="keywordtype">char</span>* defaultValue);
<a name="l00047"></a>00047   <span class="keywordtype">int</span>      <a class="code" href="a00006.html#a56ffc1d7063c5bd873eefd43edc382dd" title="Read size of an array.">odbReadArraySize</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>*name);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049  <span class="keyword">protected</span>:
<a name="l00050"></a>00050   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00006.html#a7e851ad1a9ffbba5d028b34cedb835c8">jkey</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path);
<a name="l00051"></a>00051   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00006.html#a8c618fbbf7c89ca019a585df77fe921a">jget</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">int</span> index);
<a name="l00052"></a>00052 
<a name="l00053"></a>00053  <span class="keyword">protected</span>:
<a name="l00054"></a>00054   <span class="keywordtype">char</span> <a class="code" href="a00006.html#ade9ad1b935a3664ccacdc0c25ea4cf76">fRequestBuf</a>[1024];
<a name="l00055"></a>00055   <span class="keywordtype">char</span> <a class="code" href="a00006.html#a24ee9d45d09d2d27c4e519d19fc017c7">fReplyBuf</a>[1024];
<a name="l00056"></a>00056 };
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="preprocessor">#endif</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="comment">//end</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 May 2013 for ROOT Analyzer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
