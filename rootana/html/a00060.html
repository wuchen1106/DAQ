<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ROOT Analyzer: include/netDirectoryServer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_7f4f0dcfa45c510c958c3ac31de3ed13.html">include</a>
  </div>
</div>
<div class="contents">
<h1>netDirectoryServer.h File Reference</h1>
<p><a href="a00060_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00060.html#ad988b1e8bf563ab60c1d7968fd34c26b">VerboseNetDirectoryServer</a> (bool verbose)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00060.html#af280d129baa10e736ba821d2f6bf4682">StartNetDirectoryServer</a> (int port, <a class="el" href="a00019.html">TDirectory</a> *dir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc">NetDirectoryExport</a> (<a class="el" href="a00019.html">TDirectory</a> *dir, const char *exportName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00060.html#a41c8c38c66e24127fd887f95a9ef6eb5">NetDirectoryExport</a> (TFolder *folder, const char *exportName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00060.html#a33d8bc08199c1b57e877f8197412291f">NetDirectoryExport</a> (TCollection *collection, const char *exportName)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a33d8bc08199c1b57e877f8197412291f"></a><!-- doxytag: member="netDirectoryServer.h::NetDirectoryExport" ref="a33d8bc08199c1b57e877f8197412291f" args="(TCollection *collection, const char *exportName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NetDirectoryExport </td>
          <td>(</td>
          <td class="paramtype">TCollection *&nbsp;</td>
          <td class="paramname"> <em>collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exportName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00140_source.html#l00654">654</a> of file <a class="el" href="a00140_source.html">netDirectoryServer.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00655"></a>00655 {
<a name="l00656"></a>00656   <span class="keywordflow">if</span> (<a class="code" href="a00140.html#a4ae8be9a29156353385c2cd257d01c44">gVerbose</a>)
<a name="l00657"></a>00657     printf(<span class="stringliteral">&quot;Export TCollection %p named [%s] of type [%s] as [%s]\n&quot;</span>, collection, collection-&gt;GetName(), collection-&gt;IsA()-&gt;GetName(), exportName);
<a name="l00658"></a>00658 
<a name="l00659"></a>00659   <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;
<a name="l00660"></a>00660   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>.size(); i++)
<a name="l00661"></a>00661     {
<a name="l00662"></a>00662       <span class="keyword">const</span> <span class="keywordtype">char</span>* ename = <a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>[i].c_str();
<a name="l00663"></a>00663       <span class="keywordflow">if</span> (strcmp(ename, exportName) == 0)
<a name="l00664"></a>00664         found = <span class="keyword">true</span>;
<a name="l00665"></a>00665     }
<a name="l00666"></a>00666 
<a name="l00667"></a>00667   <span class="keywordflow">if</span> (!found)
<a name="l00668"></a>00668     <a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>.push_back(exportName);
<a name="l00669"></a>00669   <a class="code" href="a00140.html#a4e919435f8560a7992043ebcb83ecea3">gExportNames</a>[exportName] = collection-&gt;GetName();
<a name="l00670"></a>00670 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a41c8c38c66e24127fd887f95a9ef6eb5"></a><!-- doxytag: member="netDirectoryServer.h::NetDirectoryExport" ref="a41c8c38c66e24127fd887f95a9ef6eb5" args="(TFolder *folder, const char *exportName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NetDirectoryExport </td>
          <td>(</td>
          <td class="paramtype">TFolder *&nbsp;</td>
          <td class="paramname"> <em>folder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exportName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00140_source.html#l00636">636</a> of file <a class="el" href="a00140_source.html">netDirectoryServer.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00637"></a>00637 {
<a name="l00638"></a>00638   <span class="keywordflow">if</span> (<a class="code" href="a00140.html#a4ae8be9a29156353385c2cd257d01c44">gVerbose</a>)
<a name="l00639"></a>00639     printf(<span class="stringliteral">&quot;Export TFolder %p named [%s] of type [%s] as [%s]\n&quot;</span>, folder, folder-&gt;GetName(), folder-&gt;IsA()-&gt;GetName(), exportName);
<a name="l00640"></a>00640 
<a name="l00641"></a>00641   <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;
<a name="l00642"></a>00642   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>.size(); i++)
<a name="l00643"></a>00643     {
<a name="l00644"></a>00644       <span class="keyword">const</span> <span class="keywordtype">char</span>* ename = <a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>[i].c_str();
<a name="l00645"></a>00645       <span class="keywordflow">if</span> (strcmp(ename, exportName) == 0)
<a name="l00646"></a>00646         found = <span class="keyword">true</span>;
<a name="l00647"></a>00647     }
<a name="l00648"></a>00648 
<a name="l00649"></a>00649   <span class="keywordflow">if</span> (!found)
<a name="l00650"></a>00650     <a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>.push_back(exportName);
<a name="l00651"></a>00651   <a class="code" href="a00140.html#a4e919435f8560a7992043ebcb83ecea3">gExportNames</a>[exportName] = folder-&gt;GetName();
<a name="l00652"></a>00652 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7a5b2fe6305f7eee49ef669d43aed3bc"></a><!-- doxytag: member="netDirectoryServer.h::NetDirectoryExport" ref="a7a5b2fe6305f7eee49ef669d43aed3bc" args="(TDirectory *dir, const char *exportName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NetDirectoryExport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00019.html">TDirectory</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>exportName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00140_source.html#l00618">618</a> of file <a class="el" href="a00140_source.html">netDirectoryServer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00145_source.html#l00149">main()</a>, <a class="el" href="a00121_source.html#l00319">TRootanaEventLoop::OpenRootFile()</a>, <a class="el" href="a00140_source.html#l00672">StartNetDirectoryServer()</a>, and <a class="el" href="a00049_source.html#l00104">startRun()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00619"></a>00619 {
<a name="l00620"></a>00620   <span class="keywordflow">if</span> (<a class="code" href="a00140.html#a4ae8be9a29156353385c2cd257d01c44">gVerbose</a>)
<a name="l00621"></a>00621     printf(<span class="stringliteral">&quot;Export TDirectory %p named [%s] of type [%s] as [%s]\n&quot;</span>, dir, dir-&gt;GetName(), dir-&gt;IsA()-&gt;GetName(), exportName);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623   <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;
<a name="l00624"></a>00624   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>.size(); i++)
<a name="l00625"></a>00625     {
<a name="l00626"></a>00626       <span class="keyword">const</span> <span class="keywordtype">char</span>* ename = <a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>[i].c_str();
<a name="l00627"></a>00627       <span class="keywordflow">if</span> (strcmp(ename, exportName) == 0)
<a name="l00628"></a>00628         found = <span class="keyword">true</span>;
<a name="l00629"></a>00629     }
<a name="l00630"></a>00630 
<a name="l00631"></a>00631   <span class="keywordflow">if</span> (!found)
<a name="l00632"></a>00632     <a class="code" href="a00140.html#a1f094944b19813d6a67e846411fc8f27">gExports</a>.push_back(exportName);
<a name="l00633"></a>00633   <a class="code" href="a00140.html#a4e919435f8560a7992043ebcb83ecea3">gExportNames</a>[exportName] = dir-&gt;GetName();
<a name="l00634"></a>00634 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00060_a7a5b2fe6305f7eee49ef669d43aed3bc_icgraph.png" border="0" usemap="#a00060_a7a5b2fe6305f7eee49ef669d43aed3bc_icgraph_map" alt=""></div>
<map name="a00060_a7a5b2fe6305f7eee49ef669d43aed3bc_icgraph_map" id="a00060_a7a5b2fe6305f7eee49ef669d43aed3bc_icgraph">
<area shape="rect" id="node3" href="a00145.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="313,5,367,35"/><area shape="rect" id="node5" href="a00038.html#a50feed82f7bdd7ebb3c8d4f3628517ee" title="Open output ROOT file." alt="" coords="211,59,469,88"/><area shape="rect" id="node13" href="a00061.html#af280d129baa10e736ba821d2f6bf4682" title="StartNetDirectoryServer" alt="" coords="245,112,435,141"/><area shape="rect" id="node15" href="a00049.html#a4e082e91477310a20b1befbfe7917a79" title="startRun" alt="" coords="300,165,380,195"/><area shape="rect" id="node7" href="a00038.html#afce91826b6a3fc111ff919ac7f5a1ed0" title="TRootanaEventLoop::ProcessMidasFile" alt="" coords="517,59,800,88"/><area shape="rect" id="node9" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="848,59,1107,88"/><area shape="rect" id="node11" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="1156,59,1209,88"/><area shape="rect" id="node17" href="a00049.html#a6973be6408175a61a9cb696648b4959c" title="ProcessMidasFile" alt="" coords="592,165,725,195"/><area shape="rect" id="node19" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="951,165,1004,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af280d129baa10e736ba821d2f6bf4682"></a><!-- doxytag: member="netDirectoryServer.h::StartNetDirectoryServer" ref="af280d129baa10e736ba821d2f6bf4682" args="(int port, TDirectory *dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StartNetDirectoryServer </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00019.html">TDirectory</a> *&nbsp;</td>
          <td class="paramname"> <em>dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00140_source.html#l00672">672</a> of file <a class="el" href="a00140_source.html">netDirectoryServer.cxx</a>.</p>

<p>Referenced by <a class="el" href="a00121_source.html#l00105">TRootanaEventLoop::ExecuteLoop()</a>, and <a class="el" href="a00049_source.html#l00521">main()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00673"></a>00673 {
<a name="l00674"></a>00674   <span class="keywordflow">if</span> (dir)
<a name="l00675"></a>00675     <a class="code" href="a00060.html#a7a5b2fe6305f7eee49ef669d43aed3bc">NetDirectoryExport</a>(dir, dir-&gt;GetName());
<a name="l00676"></a>00676 
<a name="l00677"></a>00677   <span class="keywordflow">if</span> (<a class="code" href="a00140.html#adf55aceba143f8878819ff7108288e4d">gAlreadyRunning</a>)
<a name="l00678"></a>00678     <span class="keywordflow">return</span>;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680   <span class="keywordflow">if</span> (port==0)
<a name="l00681"></a>00681     <span class="keywordflow">return</span>;
<a name="l00682"></a>00682 
<a name="l00683"></a>00683   <a class="code" href="a00140.html#adf55aceba143f8878819ff7108288e4d">gAlreadyRunning</a> = <span class="keyword">true</span>;
<a name="l00684"></a>00684 
<a name="l00685"></a>00685   <a class="code" href="a00062.html#aae77a7cf2fc9f586fcfcb244ce1e9cc6">StartLockRootTimer</a>();
<a name="l00686"></a>00686 
<a name="l00687"></a>00687   <span class="keyword">static</span> <span class="keywordtype">int</span> pport = port;
<a name="l00688"></a>00688 <span class="preprocessor">#if 1</span>
<a name="l00689"></a>00689 <span class="preprocessor"></span>  TThread *thread = <span class="keyword">new</span> TThread(<span class="stringliteral">&quot;NetDirectoryServer&quot;</span>, <a class="code" href="a00140.html#a9e7f85724d1297d2f50530af4e1e8847">socket_listener</a>, &amp;pport);
<a name="l00690"></a>00690   thread-&gt;Run();
<a name="l00691"></a>00691 <span class="preprocessor">#else</span>
<a name="l00692"></a>00692 <span class="preprocessor"></span>  LPDWORD lpThreadId = 0;
<a name="l00693"></a>00693   CloseHandle(CreateThread(NULL, 1024, &amp;<a class="code" href="a00139.html#ae4c520908e89934574ff6a73619ec5ea">root_socket_server</a>, &amp;pport, 0, lpThreadId));
<a name="l00694"></a>00694 <span class="preprocessor">#endif</span>
<a name="l00695"></a>00695 <span class="preprocessor"></span>}
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="a00060_af280d129baa10e736ba821d2f6bf4682_icgraph.png" border="0" usemap="#a00060_af280d129baa10e736ba821d2f6bf4682_icgraph_map" alt=""></div>
<map name="a00060_af280d129baa10e736ba821d2f6bf4682_icgraph_map" id="a00060_af280d129baa10e736ba821d2f6bf4682_icgraph">
<area shape="rect" id="node3" href="a00038.html#a8a9f5d8b69ba5306e258d2d4a383002d" title="Method to actually process the Midas information, either as file or online." alt="" coords="245,5,504,35"/><area shape="rect" id="node7" href="a00049.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="348,59,401,88"/><area shape="rect" id="node5" href="a00116.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="553,5,607,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad988b1e8bf563ab60c1d7968fd34c26b"></a><!-- doxytag: member="netDirectoryServer.h::VerboseNetDirectoryServer" ref="ad988b1e8bf563ab60c1d7968fd34c26b" args="(bool verbose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VerboseNetDirectoryServer </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>verbose</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00140_source.html#l00608">608</a> of file <a class="el" href="a00140_source.html">netDirectoryServer.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00609"></a>00609 {
<a name="l00610"></a>00610   <a class="code" href="a00140.html#a4ae8be9a29156353385c2cd257d01c44">gVerbose</a> = verbose;
<a name="l00611"></a>00611   <span class="comment">//gDebugLockRoot = verbose;</span>
<a name="l00612"></a>00612 }
</pre></div></p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 May 2013 for ROOT Analyzer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
